!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global="undefined"!=typeof globalThis?globalThis:global||self).flatpickr=factory()}(this,function(){"use strict";var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}var HOOKS=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],defaults={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(err){return"undefined"!=typeof console&&console.warn(err)},getWeek:function(givenDate){var givenDate=new Date(givenDate.getTime()),week1=(givenDate.setHours(0,0,0,0),givenDate.setDate(givenDate.getDate()+3-(givenDate.getDay()+6)%7),new Date(givenDate.getFullYear(),0,4));return 1+Math.round(((givenDate.getTime()-week1.getTime())/864e5-3+(week1.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},english={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(nth){nth%=100;if(3<nth&&nth<21)return"th";switch(nth%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},pad=function(number,length){return("000"+number).slice(-1*(length=void 0===length?2:length))},int=function(bool){return!0===bool?1:0};function debounce(fn,wait){var t;return function(){var _this=this,args=arguments;clearTimeout(t),t=setTimeout(function(){return fn.apply(_this,args)},wait)}}var arrayify=function(obj){return obj instanceof Array?obj:[obj]};function toggleClass(elem,className,bool){if(!0===bool)return elem.classList.add(className);elem.classList.remove(className)}function createElement(tag,className,content){tag=window.document.createElement(tag);return content=content||"",tag.className=className=className||"",void 0!==content&&(tag.textContent=content),tag}function clearNode(node){for(;node.firstChild;)node.removeChild(node.firstChild)}function createNumberInput(inputClassName,opts){var wrapper=createElement("div","numInputWrapper"),numInput=createElement("input","numInput "+inputClassName),inputClassName=createElement("span","arrowUp"),arrowDown=createElement("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?numInput.type="number":(numInput.type="text",numInput.pattern="\\d*"),void 0!==opts)for(var key in opts)numInput.setAttribute(key,opts[key]);return wrapper.appendChild(numInput),wrapper.appendChild(inputClassName),wrapper.appendChild(arrowDown),wrapper}function getEventTarget(event){try{return"function"==typeof event.composedPath?event.composedPath()[0]:event.target}catch(error){return event.target}}function doNothing(){}var monthToStr=function(monthNumber,shorthand,locale){return locale.months[shorthand?"shorthand":"longhand"][monthNumber]},revFormat={D:doNothing,F:function(dateObj,monthName,locale){dateObj.setMonth(locale.months.longhand.indexOf(monthName))},G:function(dateObj,hour){dateObj.setHours((12<=dateObj.getHours()?12:0)+parseFloat(hour))},H:function(dateObj,hour){dateObj.setHours(parseFloat(hour))},J:function(dateObj,day){dateObj.setDate(parseFloat(day))},K:function(dateObj,amPM,locale){dateObj.setHours(dateObj.getHours()%12+12*int(new RegExp(locale.amPM[1],"i").test(amPM)))},M:function(dateObj,shortMonth,locale){dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth))},S:function(dateObj,seconds){dateObj.setSeconds(parseFloat(seconds))},U:function(_,unixSeconds){return new Date(1e3*parseFloat(unixSeconds))},W:function(dateObj,weekNum,locale){weekNum=parseInt(weekNum),dateObj=new Date(dateObj.getFullYear(),0,2+7*(weekNum-1),0,0,0,0);return dateObj.setDate(dateObj.getDate()-dateObj.getDay()+locale.firstDayOfWeek),dateObj},Y:function(dateObj,year){dateObj.setFullYear(parseFloat(year))},Z:function(_,ISODate){return new Date(ISODate)},d:function(dateObj,day){dateObj.setDate(parseFloat(day))},h:function(dateObj,hour){dateObj.setHours((12<=dateObj.getHours()?12:0)+parseFloat(hour))},i:function(dateObj,minutes){dateObj.setMinutes(parseFloat(minutes))},j:function(dateObj,day){dateObj.setDate(parseFloat(day))},l:doNothing,m:function(dateObj,month){dateObj.setMonth(parseFloat(month)-1)},n:function(dateObj,month){dateObj.setMonth(parseFloat(month)-1)},s:function(dateObj,seconds){dateObj.setSeconds(parseFloat(seconds))},u:function(_,unixMillSeconds){return new Date(parseFloat(unixMillSeconds))},w:doNothing,y:function(dateObj,year){dateObj.setFullYear(2e3+parseFloat(year))}},tokenRegex={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},formats={Z:function(date){return date.toISOString()},D:function(date,locale,options){return locale.weekdays.shorthand[formats.w(date,locale,options)]},F:function(date,locale,options){return monthToStr(formats.n(date,locale,options)-1,!1,locale)},G:function(date,locale,options){return pad(formats.h(date,locale,options))},H:function(date){return pad(date.getHours())},J:function(date,locale){return void 0!==locale.ordinal?date.getDate()+locale.ordinal(date.getDate()):date.getDate()},K:function(date,locale){return locale.amPM[int(11<date.getHours())]},M:function(date,locale){return monthToStr(date.getMonth(),!0,locale)},S:function(date){return pad(date.getSeconds())},U:function(date){return date.getTime()/1e3},W:function(date,_,options){return options.getWeek(date)},Y:function(date){return pad(date.getFullYear(),4)},d:function(date){return pad(date.getDate())},h:function(date){return date.getHours()%12?date.getHours()%12:12},i:function(date){return pad(date.getMinutes())},j:function(date){return date.getDate()},l:function(date,locale){return locale.weekdays.longhand[date.getDay()]},m:function(date){return pad(date.getMonth()+1)},n:function(date){return date.getMonth()+1},s:function(date){return date.getSeconds()},u:function(date){return date.getTime()},w:function(date){return date.getDay()},y:function(date){return String(date.getFullYear()).substring(2)}},createDateFormatter=function(_a){var _b=_a.config,config=void 0===_b?defaults:_b,_b=_a.l10n,l10n=void 0===_b?english:_b,_b=_a.isMobile,isMobile=void 0!==_b&&_b;return function(dateObj,frmt,overrideLocale){var locale=overrideLocale||l10n;return void 0===config.formatDate||isMobile?frmt.split("").map(function(c,i,arr){return formats[c]&&"\\"!==arr[i-1]?formats[c](dateObj,locale,config):"\\"!==c?c:""}).join(""):config.formatDate(dateObj,frmt,locale)}},createDateParser=function(_a){var _b=_a.config,config=void 0===_b?defaults:_b,_b=_a.l10n,l10n=void 0===_b?english:_b;return function(date,givenFormat,timeless,customLocale){if(0===date||date){var parsedDate,locale=customLocale||l10n,customLocale=date;if(date instanceof Date)parsedDate=new Date(date.getTime());else if("string"!=typeof date&&void 0!==date.toFixed)parsedDate=new Date(date);else if("string"==typeof date){var format=givenFormat||(config||defaults).dateFormat,givenFormat=String(date).trim();if("today"===givenFormat)parsedDate=new Date,timeless=!0;else if(config&&config.parseDate)parsedDate=config.parseDate(date,format);else if(/Z$/.test(givenFormat)||/GMT$/.test(givenFormat))parsedDate=new Date(date);else{for(var matched=void 0,ops=[],i=0,matchIndex=0,regexStr="";i<format.length;i++){var token_1=format[i],isBackSlash="\\"===token_1,escaped="\\"===format[i-1]||isBackSlash;tokenRegex[token_1]&&!escaped?(regexStr+=tokenRegex[token_1],(escaped=new RegExp(regexStr).exec(date))&&(matched=!0,ops["Y"!==token_1?"push":"unshift"]({fn:revFormat[token_1],val:escaped[++matchIndex]}))):isBackSlash||(regexStr+=".")}parsedDate=config&&config.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),ops.forEach(function(_a){var fn=_a.fn,_a=_a.val;return parsedDate=fn(parsedDate,_a,locale)||parsedDate}),parsedDate=matched?parsedDate:void 0}}if(parsedDate instanceof Date&&!isNaN(parsedDate.getTime()))return!0===timeless&&parsedDate.setHours(0,0,0,0),parsedDate;config.errorHandler(new Error("Invalid date provided: "+customLocale))}}};function compareDates(date1,date2,timeless){return!1!==(timeless=void 0===timeless?!0:timeless)?new Date(date1.getTime()).setHours(0,0,0,0)-new Date(date2.getTime()).setHours(0,0,0,0):date1.getTime()-date2.getTime()}var isBetween=function(ts,ts1,ts2){return ts>Math.min(ts1,ts2)&&ts<Math.max(ts1,ts2)},calculateSecondsSinceMidnight=function(hours,minutes,seconds){return 3600*hours+60*minutes+seconds},parseSeconds=function(secondsSinceMidnight){var hours=Math.floor(secondsSinceMidnight/3600),minutes=(secondsSinceMidnight-3600*hours)/60;return[hours,minutes,secondsSinceMidnight-3600*hours-60*minutes]},duration={DAY:864e5};function getDefaultHours(config){var minSeconds,minHour,minMinutes,hours=config.defaultHour,minutes=config.defaultMinute,seconds=config.defaultSeconds;return void 0!==config.minDate&&(minHour=config.minDate.getHours(),minMinutes=config.minDate.getMinutes(),minSeconds=config.minDate.getSeconds(),(hours=hours<minHour?minHour:hours)===minHour&&minutes<minMinutes&&(minutes=minMinutes),hours===minHour)&&minutes===minMinutes&&seconds<minSeconds&&(seconds=config.minDate.getSeconds()),void 0!==config.maxDate&&(minHour=config.maxDate.getHours(),minMinutes=config.maxDate.getMinutes(),(hours=Math.min(hours,minHour))===minHour&&(minutes=Math.min(minMinutes,minutes)),hours===minHour)&&minutes===minMinutes&&(seconds=config.maxDate.getSeconds()),{hours:hours,minutes:minutes,seconds:seconds}}"function"!=typeof Object.assign&&(Object.assign=function(target){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!target)throw TypeError("Cannot convert undefined or null to object");for(var _a=0,args_1=args;_a<args_1.length;_a++)!function(source){source&&Object.keys(source).forEach(function(key){return target[key]=source[key]})}(args_1[_a]);return target});var DEBOUNCED_CHANGE_MS=300;function FlatpickrInstance(element,instanceConfig){var self={config:__assign(__assign({},defaults),flatpickr.defaultConfig),l10n:english};function getClosestActiveElement(){var _a;return(null==(_a=self.calendarContainer)?void 0:_a.getRootNode()).activeElement||document.activeElement}function bindToInstance(fn){return fn.bind(self)}function setCalendarWidth(){var config=self.config;!1===config.weekNumbers&&1===config.showMonths||!0!==config.noCalendar&&window.requestAnimationFrame(function(){var daysWidth;void 0!==self.calendarContainer&&(self.calendarContainer.style.visibility="hidden",self.calendarContainer.style.display="block"),void 0!==self.daysContainer&&(daysWidth=(self.days.offsetWidth+1)*config.showMonths,self.daysContainer.style.width=daysWidth+"px",self.calendarContainer.style.width=daysWidth+(void 0!==self.weekWrapper?self.weekWrapper.offsetWidth:0)+"px",self.calendarContainer.style.removeProperty("visibility"),self.calendarContainer.style.removeProperty("display"))})}function updateTime(e){0===self.selectedDates.length&&(defaultDate=void 0===self.config.minDate||0<=compareDates(new Date,self.config.minDate)?new Date:new Date(self.config.minDate.getTime()),defaults=getDefaultHours(self.config),defaultDate.setHours(defaults.hours,defaults.minutes,defaults.seconds,defaultDate.getMilliseconds()),self.selectedDates=[defaultDate],self.latestSelectedDateObj=defaultDate),void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var isKeyDown="keydown"===e.type,eventTarget=getEventTarget(e),input=eventTarget;void 0!==self.amPM&&eventTarget===self.amPM&&(self.amPM.textContent=self.l10n.amPM[int(self.amPM.textContent===self.l10n.amPM[0])]);var eventTarget=parseFloat(input.getAttribute("min")),max=parseFloat(input.getAttribute("max")),step=parseFloat(input.getAttribute("step")),curValue=parseInt(input.value,10),isKeyDown=e.delta||(isKeyDown?38===e.which?1:-1:0),e=curValue+step*isKeyDown;{var isMinuteElem;void 0!==input.value&&2===input.value.length&&(isKeyDown=input===self.hourElement,isMinuteElem=input===self.minuteElement,e<eventTarget?(e=max+e+int(!isKeyDown)+(int(isKeyDown)&&int(!self.amPM)),isMinuteElem&&incrementNumInput(void 0,-1,self.hourElement)):max<e&&(e=input===self.hourElement?e-max-int(!self.amPM):eventTarget,isMinuteElem)&&incrementNumInput(void 0,1,self.hourElement),self.amPM&&isKeyDown&&(1===step?e+curValue===23:Math.abs(e-curValue)>step)&&(self.amPM.textContent=self.l10n.amPM[int(self.amPM.textContent===self.l10n.amPM[0])]),input.value=pad(e))}}(e);var defaultDate,defaults=self._input.value;setHoursFromInputs(),updateValue(),self._input.value!==defaults&&self._debouncedChange()}function setHoursFromInputs(){var hour,amPM,hours,minutes,seconds,minBound,currentTime;void 0!==self.hourElement&&void 0!==self.minuteElement&&(hours=(parseInt(self.hourElement.value.slice(-2),10)||0)%24,minutes=(parseInt(self.minuteElement.value,10)||0)%60,seconds=void 0!==self.secondElement?(parseInt(self.secondElement.value,10)||0)%60:0,void 0!==self.amPM&&(hour=hours,amPM=self.amPM.textContent,hours=hour%12+12*int(amPM===self.l10n.amPM[1])),hour=void 0!==self.config.minTime||self.config.minDate&&self.minDateHasTime&&self.latestSelectedDateObj&&0===compareDates(self.latestSelectedDateObj,self.config.minDate,!0),amPM=void 0!==self.config.maxTime||self.config.maxDate&&self.maxDateHasTime&&self.latestSelectedDateObj&&0===compareDates(self.latestSelectedDateObj,self.config.maxDate,!0),void 0!==self.config.maxTime&&void 0!==self.config.minTime&&self.config.minTime>self.config.maxTime?(minBound=calculateSecondsSinceMidnight(self.config.minTime.getHours(),self.config.minTime.getMinutes(),self.config.minTime.getSeconds()),calculateSecondsSinceMidnight(self.config.maxTime.getHours(),self.config.maxTime.getMinutes(),self.config.maxTime.getSeconds())<(currentTime=calculateSecondsSinceMidnight(hours,minutes,seconds))&&currentTime<minBound&&(hours=(currentTime=parseSeconds(minBound))[0],minutes=currentTime[1],seconds=currentTime[2])):(amPM&&(minBound=void 0!==self.config.maxTime?self.config.maxTime:self.config.maxDate,(minutes=(hours=Math.min(hours,minBound.getHours()))===minBound.getHours()?Math.min(minutes,minBound.getMinutes()):minutes)===minBound.getMinutes())&&(seconds=Math.min(seconds,minBound.getSeconds())),hour&&(currentTime=void 0!==self.config.minTime?self.config.minTime:self.config.minDate,(minutes=(hours=Math.max(hours,currentTime.getHours()))===currentTime.getHours()&&minutes<currentTime.getMinutes()?currentTime.getMinutes():minutes)===currentTime.getMinutes())&&(seconds=Math.max(seconds,currentTime.getSeconds()))),setHours(hours,minutes,seconds))}function setHoursFromDate(dateObj){dateObj=dateObj||self.latestSelectedDateObj;dateObj&&dateObj instanceof Date&&setHours(dateObj.getHours(),dateObj.getMinutes(),dateObj.getSeconds())}function setHours(hours,minutes,seconds){void 0!==self.latestSelectedDateObj&&self.latestSelectedDateObj.setHours(hours%24,minutes,seconds||0,0),self.hourElement&&self.minuteElement&&!self.isMobile&&(self.hourElement.value=pad(self.config.time_24hr?hours:(12+hours)%12+12*int(hours%12==0)),self.minuteElement.value=pad(minutes),void 0!==self.amPM&&(self.amPM.textContent=self.l10n.amPM[int(12<=hours)]),void 0!==self.secondElement)&&(self.secondElement.value=pad(seconds))}function onYearInput(event){var eventTarget=getEventTarget(event),eventTarget=parseInt(eventTarget.value)+(event.delta||0);(1<eventTarget/1e3||"Enter"===event.key&&!/[^\d]/.test(eventTarget.toString()))&&changeYear(eventTarget)}function bind(element,event,handler,options){return event instanceof Array?event.forEach(function(ev){return bind(element,ev,handler,options)}):element instanceof Array?element.forEach(function(el){return bind(el,event,handler,options)}):(element.addEventListener(event,handler,options),void self._handlers.push({remove:function(){return element.removeEventListener(event,handler,options)}}))}function triggerChange(){triggerEvent("onChange")}function jumpToDate(jumpDate,triggerChange){var jumpDate=void 0!==jumpDate?self.parseDate(jumpDate):self.latestSelectedDateObj||(self.config.minDate&&self.config.minDate>self.now?self.config.minDate:self.config.maxDate&&self.config.maxDate<self.now?self.config.maxDate:self.now),oldYear=self.currentYear,oldMonth=self.currentMonth;try{void 0!==jumpDate&&(self.currentYear=jumpDate.getFullYear(),self.currentMonth=jumpDate.getMonth())}catch(e){e.message="Invalid date supplied: "+jumpDate,self.config.errorHandler(e)}triggerChange&&self.currentYear!==oldYear&&(triggerEvent("onYearChange"),buildMonthSwitch()),!triggerChange||self.currentYear===oldYear&&self.currentMonth===oldMonth||triggerEvent("onMonthChange"),self.redraw()}function timeIncrement(e){var eventTarget=getEventTarget(e);~eventTarget.className.indexOf("arrow")&&incrementNumInput(e,eventTarget.classList.contains("arrowUp")?1:-1)}function incrementNumInput(e,delta,inputElem){e=e&&getEventTarget(e),inputElem=inputElem||e&&e.parentNode&&e.parentNode.firstChild,e=createEvent("increment");e.delta=delta,inputElem&&inputElem.dispatchEvent(e)}function createDay(className,date,_dayNumber,i){var dateIsEnabled=isEnabled(date,!0),dayElement=createElement("span",className,date.getDate().toString());return dayElement.dateObj=date,dayElement.$i=i,dayElement.setAttribute("aria-label",self.formatDate(date,self.config.ariaDateFormat)),-1===className.indexOf("hidden")&&0===compareDates(date,self.now)&&((self.todayDateElem=dayElement).classList.add("today"),dayElement.setAttribute("aria-current","date")),dateIsEnabled?(dayElement.tabIndex=-1,isDateSelected(date)&&(dayElement.classList.add("selected"),self.selectedDateElem=dayElement,"range"===self.config.mode)&&(toggleClass(dayElement,"startRange",self.selectedDates[0]&&0===compareDates(date,self.selectedDates[0],!0)),toggleClass(dayElement,"endRange",self.selectedDates[1]&&0===compareDates(date,self.selectedDates[1],!0)),"nextMonthDay"===className)&&dayElement.classList.add("inRange")):dayElement.classList.add("flatpickr-disabled"),"range"===self.config.mode&&function(date){return!("range"!==self.config.mode||self.selectedDates.length<2)&&0<=compareDates(date,self.selectedDates[0])&&compareDates(date,self.selectedDates[1])<=0}(date)&&!isDateSelected(date)&&dayElement.classList.add("inRange"),self.weekNumbers&&1===self.config.showMonths&&"prevMonthDay"!==className&&i%7==6&&self.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+self.config.getWeek(date)+"</span>"),triggerEvent("onDayCreate",dayElement),dayElement}function focusOnDayElem(targetNode){targetNode.focus(),"range"===self.config.mode&&onMouseOver(targetNode)}function getFirstAvailableDay(delta){for(var startMonth=0<delta?0:self.config.showMonths-1,endMonth=0<delta?self.config.showMonths:-1,m=startMonth;m!=endMonth;m+=delta)for(var month=self.daysContainer.children[m],startIndex=0<delta?0:month.children.length-1,endIndex=0<delta?month.children.length:-1,i=startIndex;i!=endIndex;i+=delta){var c=month.children[i];if(-1===c.className.indexOf("hidden")&&isEnabled(c.dateObj))return c}}function focusOnDay(current,offset){var activeElement=getClosestActiveElement(),dayFocused=isInView(activeElement||document.body),current=void 0!==current?current:dayFocused?activeElement:void 0!==self.selectedDateElem&&isInView(self.selectedDateElem)?self.selectedDateElem:void 0!==self.todayDateElem&&isInView(self.todayDateElem)?self.todayDateElem:getFirstAvailableDay(0<offset?1:-1);void 0===current?self._input.focus():dayFocused?function(current,delta){for(var givenMonth=-1===current.className.indexOf("Month")?current.dateObj.getMonth():self.currentMonth,endMonth=0<delta?self.config.showMonths:-1,loopDelta=0<delta?1:-1,m=givenMonth-self.currentMonth;m!=endMonth;m+=loopDelta)for(var month=self.daysContainer.children[m],startIndex=givenMonth-self.currentMonth===m?current.$i+delta:delta<0?month.children.length-1:0,numMonthDays=month.children.length,i=startIndex;0<=i&&i<numMonthDays&&i!=(0<delta?numMonthDays:-1);i+=loopDelta){var c=month.children[i];if(-1===c.className.indexOf("hidden")&&isEnabled(c.dateObj)&&Math.abs(current.$i-i)>=Math.abs(delta))return focusOnDayElem(c)}self.changeMonth(loopDelta),focusOnDay(getFirstAvailableDay(loopDelta),0)}(current,offset):focusOnDayElem(current)}function buildDays(){if(void 0!==self.daysContainer){clearNode(self.daysContainer),self.weekNumbers&&clearNode(self.weekNumbers);for(var frag=document.createDocumentFragment(),i=0;i<self.config.showMonths;i++){var d=new Date(self.currentYear,self.currentMonth,1);d.setMonth(self.currentMonth+i),frag.appendChild(function(year,month){for(var firstOfMonth=(new Date(year,month,1).getDay()-self.l10n.firstDayOfWeek+7)%7,prevMonthDays=self.utils.getDaysInMonth((month-1+12)%12,year),daysInMonth=self.utils.getDaysInMonth(month,year),days=window.document.createDocumentFragment(),isMultiMonth=1<self.config.showMonths,prevMonthDayClass=isMultiMonth?"prevMonthDay hidden":"prevMonthDay",nextMonthDayClass=isMultiMonth?"nextMonthDay hidden":"nextMonthDay",dayNumber=prevMonthDays+1-firstOfMonth,dayIndex=0;dayNumber<=prevMonthDays;dayNumber++,dayIndex++)days.appendChild(createDay("flatpickr-day "+prevMonthDayClass,new Date(year,month-1,dayNumber),0,dayIndex));for(dayNumber=1;dayNumber<=daysInMonth;dayNumber++,dayIndex++)days.appendChild(createDay("flatpickr-day",new Date(year,month,dayNumber),0,dayIndex));for(var dayNum=daysInMonth+1;dayNum<=42-firstOfMonth&&(1===self.config.showMonths||dayIndex%7!=0);dayNum++,dayIndex++)days.appendChild(createDay("flatpickr-day "+nextMonthDayClass,new Date(year,month+1,dayNum%daysInMonth),0,dayIndex));return(isMultiMonth=createElement("div","dayContainer")).appendChild(days),isMultiMonth}(d.getFullYear(),d.getMonth()))}self.daysContainer.appendChild(frag),self.days=self.daysContainer.firstChild,"range"===self.config.mode&&1===self.selectedDates.length&&onMouseOver()}}function buildMonthSwitch(){if(!(1<self.config.showMonths||"dropdown"!==self.config.monthSelectorType)){self.monthsDropdownContainer.tabIndex=-1,self.monthsDropdownContainer.innerHTML="";for(var month,i=0;i<12;i++)!function(month){return!(void 0!==self.config.minDate&&self.currentYear===self.config.minDate.getFullYear()&&month<self.config.minDate.getMonth()||void 0!==self.config.maxDate&&self.currentYear===self.config.maxDate.getFullYear()&&month>self.config.maxDate.getMonth())}(i)||((month=createElement("option","flatpickr-monthDropdown-month")).value=new Date(self.currentYear,i).getMonth().toString(),month.textContent=monthToStr(i,self.config.shorthandCurrentMonth,self.l10n),month.tabIndex=-1,self.currentMonth===i&&(month.selected=!0),self.monthsDropdownContainer.appendChild(month))}}function buildMonths(){clearNode(self.monthNav),self.monthNav.appendChild(self.prevMonthNav),self.config.showMonths&&(self.yearElements=[],self.monthElements=[]);for(var container,monthNavFragment,monthElement,yearElement,currentMonth,m=self.config.showMonths;m--;){currentMonth=yearElement=yearInput=monthElement=monthNavFragment=container=void 0,container=createElement("div","flatpickr-month"),monthNavFragment=window.document.createDocumentFragment(),monthElement=1<self.config.showMonths||"static"===self.config.monthSelectorType?createElement("span","cur-month"):(self.monthsDropdownContainer=createElement("select","flatpickr-monthDropdown-months"),self.monthsDropdownContainer.setAttribute("aria-label",self.l10n.monthAriaLabel),bind(self.monthsDropdownContainer,"change",function(e){e=getEventTarget(e),e=parseInt(e.value,10);self.changeMonth(e-self.currentMonth),triggerEvent("onMonthChange")}),buildMonthSwitch(),self.monthsDropdownContainer),yearInput=createNumberInput("cur-year",{tabindex:"-1"}),(yearElement=yearInput.getElementsByTagName("input")[0]).setAttribute("aria-label",self.l10n.yearAriaLabel),self.config.minDate&&yearElement.setAttribute("min",self.config.minDate.getFullYear().toString()),self.config.maxDate&&(yearElement.setAttribute("max",self.config.maxDate.getFullYear().toString()),yearElement.disabled=!!self.config.minDate&&self.config.minDate.getFullYear()===self.config.maxDate.getFullYear()),(currentMonth=createElement("div","flatpickr-current-month")).appendChild(monthElement),currentMonth.appendChild(yearInput),monthNavFragment.appendChild(currentMonth),container.appendChild(monthNavFragment);var yearInput={container:container,yearElement:yearElement,monthElement:monthElement};self.yearElements.push(yearInput.yearElement),self.monthElements.push(yearInput.monthElement),self.monthNav.appendChild(yearInput.container)}self.monthNav.appendChild(self.nextMonthNav)}function buildWeekdays(){self.weekdayContainer?clearNode(self.weekdayContainer):self.weekdayContainer=createElement("div","flatpickr-weekdays");for(var i=self.config.showMonths;i--;){var container=createElement("div","flatpickr-weekdaycontainer");self.weekdayContainer.appendChild(container)}return updateWeekdays(),self.weekdayContainer}function updateWeekdays(){if(self.weekdayContainer){var firstDayOfWeek=self.l10n.firstDayOfWeek,weekdays=__spreadArrays(self.l10n.weekdays.shorthand);0<firstDayOfWeek&&firstDayOfWeek<weekdays.length&&(weekdays=__spreadArrays(weekdays.splice(firstDayOfWeek,weekdays.length),weekdays.splice(0,firstDayOfWeek)));for(var i=self.config.showMonths;i--;)self.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+weekdays.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function changeMonth(value,isOffset){isOffset=(isOffset=void 0===isOffset?!0:isOffset)?value:value-self.currentMonth;isOffset<0&&!0===self._hidePrevMonthArrow||0<isOffset&&!0===self._hideNextMonthArrow||(self.currentMonth+=isOffset,(self.currentMonth<0||11<self.currentMonth)&&(self.currentYear+=11<self.currentMonth?1:-1,self.currentMonth=(self.currentMonth+12)%12,triggerEvent("onYearChange"),buildMonthSwitch()),buildDays(),triggerEvent("onMonthChange"),updateNavigationCurrentMonth())}function isCalendarElem(elem){return self.calendarContainer.contains(elem)}function documentClick(e){var eventTarget_1,isCalendarElement;self.isOpen&&!self.config.inline&&(isCalendarElement=isCalendarElem(eventTarget_1=getEventTarget(e)),isCalendarElement=!(eventTarget_1===self.input||eventTarget_1===self.altInput||self.element.contains(eventTarget_1)||e.path&&e.path.indexOf&&(~e.path.indexOf(self.input)||~e.path.indexOf(self.altInput)))&&!isCalendarElement&&!isCalendarElem(e.relatedTarget),e=!self.config.ignoredFocusElements.some(function(elem){return elem.contains(eventTarget_1)}),isCalendarElement)&&e&&(self.config.allowInput&&self.setDate(self._input.value,!1,self.config.altInput?self.config.altFormat:self.config.dateFormat),void 0!==self.timeContainer&&void 0!==self.minuteElement&&void 0!==self.hourElement&&""!==self.input.value&&void 0!==self.input.value&&updateTime(),self.close(),self.config)&&"range"===self.config.mode&&1===self.selectedDates.length&&self.clear(!1)}function changeYear(newYear){var isNewYear;!newYear||self.config.minDate&&newYear<self.config.minDate.getFullYear()||self.config.maxDate&&newYear>self.config.maxDate.getFullYear()||(isNewYear=self.currentYear!==newYear,self.currentYear=newYear||self.currentYear,self.config.maxDate&&self.currentYear===self.config.maxDate.getFullYear()?self.currentMonth=Math.min(self.config.maxDate.getMonth(),self.currentMonth):self.config.minDate&&self.currentYear===self.config.minDate.getFullYear()&&(self.currentMonth=Math.max(self.config.minDate.getMonth(),self.currentMonth)),isNewYear&&(self.redraw(),triggerEvent("onYearChange"),buildMonthSwitch()))}function isEnabled(date,timeless){var dateToCheck=self.parseDate(date,void 0,timeless=void 0===timeless?!0:timeless);if(self.config.minDate&&dateToCheck&&compareDates(dateToCheck,self.config.minDate,void 0!==timeless?timeless:!self.minDateHasTime)<0||self.config.maxDate&&dateToCheck&&0<compareDates(dateToCheck,self.config.maxDate,void 0!==timeless?timeless:!self.maxDateHasTime))return!1;if(!self.config.enable&&0===self.config.disable.length)return!0;if(void 0===dateToCheck)return!1;for(var parsed,bool=!!self.config.enable,array=null!=(date=self.config.enable)?date:self.config.disable,i=0,d=void 0;i<array.length;i++){if("function"==typeof(d=array[i])&&d(dateToCheck))return bool;if(d instanceof Date&&void 0!==dateToCheck&&d.getTime()===dateToCheck.getTime())return bool;if("string"==typeof d)return(parsed=self.parseDate(d,void 0,!0))&&parsed.getTime()===dateToCheck.getTime()?bool:!bool;if("object"==typeof d&&void 0!==dateToCheck&&d.from&&d.to&&dateToCheck.getTime()>=d.from.getTime()&&dateToCheck.getTime()<=d.to.getTime())return bool}return!bool}function isInView(elem){return void 0!==self.daysContainer&&-1===elem.className.indexOf("hidden")&&-1===elem.className.indexOf("flatpickr-disabled")&&self.daysContainer.contains(elem)}function onBlur(e){var isInput=e.target===self._input,valueChanged=self._input.value.trimEnd()!==getDateStr();!isInput||!valueChanged||e.relatedTarget&&isCalendarElem(e.relatedTarget)||self.setDate(self._input.value,!0,e.target===self.altInput?self.config.altFormat:self.config.dateFormat)}function onKeyDown(e){var eventTarget=getEventTarget(e),isInput=self.config.wrap?element.contains(eventTarget):eventTarget===self._input,allowInput=self.config.allowInput,allowKeydown=self.isOpen&&(!allowInput||!isInput),allowInlineKeydown=self.config.inline&&isInput&&!allowInput;if(13===e.keyCode&&isInput){if(allowInput)return self.setDate(self._input.value,!0,eventTarget===self.altInput?self.config.altFormat:self.config.dateFormat),self.close(),eventTarget.blur();self.open()}else if(isCalendarElem(eventTarget)||allowKeydown||allowInlineKeydown){var i,isTimeObj=!!self.timeContainer&&self.timeContainer.contains(eventTarget);switch(e.keyCode){case 13:isTimeObj?(e.preventDefault(),updateTime(),focusAndClose()):selectDate(e);break;case 27:e.preventDefault(),focusAndClose();break;case 8:case 46:isInput&&!self.config.allowInput&&(e.preventDefault(),self.clear());break;case 37:case 39:isTimeObj||isInput?self.hourElement&&self.hourElement.focus():(e.preventDefault(),activeElement=getClosestActiveElement(),void 0!==self.daysContainer&&(!1===allowInput||activeElement&&isInView(activeElement))&&(activeElement=39===e.keyCode?1:-1,e.ctrlKey?(e.stopPropagation(),changeMonth(activeElement),focusOnDay(getFirstAvailableDay(1),0)):focusOnDay(void 0,activeElement)));break;case 38:case 40:e.preventDefault();var activeElement=40===e.keyCode?1:-1;self.daysContainer&&void 0!==eventTarget.$i||eventTarget===self.input||eventTarget===self.altInput?e.ctrlKey?(e.stopPropagation(),changeYear(self.currentYear-activeElement),focusOnDay(getFirstAvailableDay(1),0)):isTimeObj||focusOnDay(void 0,7*activeElement):eventTarget===self.currentYearElement?changeYear(self.currentYear-activeElement):self.config.enableTime&&(!isTimeObj&&self.hourElement&&self.hourElement.focus(),updateTime(e),self._debouncedChange());break;case 9:isTimeObj?-1!==(i=(activeElement=[self.hourElement,self.minuteElement,self.secondElement,self.amPM].concat(self.pluginElements).filter(function(x){return x})).indexOf(eventTarget))&&(activeElement=activeElement[i+(e.shiftKey?-1:1)],e.preventDefault(),(activeElement||self._input).focus()):!self.config.noCalendar&&self.daysContainer&&self.daysContainer.contains(eventTarget)&&e.shiftKey&&(e.preventDefault(),self._input.focus())}}if(void 0!==self.amPM&&eventTarget===self.amPM)switch(e.key){case self.l10n.amPM[0].charAt(0):case self.l10n.amPM[0].charAt(0).toLowerCase():self.amPM.textContent=self.l10n.amPM[0],setHoursFromInputs(),updateValue();break;case self.l10n.amPM[1].charAt(0):case self.l10n.amPM[1].charAt(0).toLowerCase():self.amPM.textContent=self.l10n.amPM[1],setHoursFromInputs(),updateValue()}(isInput||isCalendarElem(eventTarget))&&triggerEvent("onKeyDown",e)}function onMouseOver(elem,cellClass){if(void 0===cellClass&&(cellClass="flatpickr-day"),1===self.selectedDates.length&&(!elem||elem.classList.contains(cellClass)&&!elem.classList.contains("flatpickr-disabled"))){for(var hoverDate=(elem||self.days.firstElementChild).dateObj.getTime(),initialDate=self.parseDate(self.selectedDates[0],void 0,!0).getTime(),rangeStartDate=Math.min(hoverDate,self.selectedDates[0].getTime()),rangeEndDate=Math.max(hoverDate,self.selectedDates[0].getTime()),containsDisabled=!1,minRange=0,maxRange=0,t=rangeStartDate;t<rangeEndDate;t+=duration.DAY)isEnabled(new Date(t),!0)||(containsDisabled=containsDisabled||rangeStartDate<t&&t<rangeEndDate,t<initialDate&&(!minRange||minRange<t)?minRange=t:initialDate<t&&(!maxRange||t<maxRange)&&(maxRange=t));Array.from(self.rContainer.querySelectorAll("*:nth-child(-n+"+self.config.showMonths+") > ."+cellClass)).forEach(function(dayElem){var timestamp=dayElem.dateObj.getTime(),outOfRange=0<minRange&&timestamp<minRange||0<maxRange&&maxRange<timestamp;outOfRange?(dayElem.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(c){dayElem.classList.remove(c)})):containsDisabled&&!outOfRange||(["startRange","inRange","endRange","notAllowed"].forEach(function(c){dayElem.classList.remove(c)}),void 0!==elem&&(elem.classList.add(hoverDate<=self.selectedDates[0].getTime()?"startRange":"endRange"),initialDate<hoverDate&&timestamp===initialDate?dayElem.classList.add("startRange"):hoverDate<initialDate&&timestamp===initialDate&&dayElem.classList.add("endRange"),minRange<=timestamp)&&(0===maxRange||timestamp<=maxRange)&&isBetween(timestamp,initialDate,hoverDate)&&dayElem.classList.add("inRange"))})}}function onResize(){!self.isOpen||self.config.static||self.config.inline||positionCalendar()}function minMaxDateSetter(type){return function(date){var date=self.config["_"+type+"Date"]=self.parseDate(date,self.config.dateFormat),inverseDateObj=self.config["_"+("min"===type?"max":"min")+"Date"];void 0!==date&&(self["min"===type?"minDateHasTime":"maxDateHasTime"]=0<date.getHours()||0<date.getMinutes()||0<date.getSeconds()),self.selectedDates&&(self.selectedDates=self.selectedDates.filter(function(d){return isEnabled(d)}),self.selectedDates.length||"min"!==type||setHoursFromDate(date),updateValue()),self.daysContainer&&(redraw(),void 0!==date?self.currentYearElement[type]=date.getFullYear().toString():self.currentYearElement.removeAttribute(type),self.currentYearElement.disabled=!!inverseDateObj&&void 0!==date&&inverseDateObj.getFullYear()===date.getFullYear())}}function getInputElem(){return self.config.wrap?element.querySelector("[data-input]"):element}function setupLocale(){"object"!=typeof self.config.locale&&void 0===flatpickr.l10ns[self.config.locale]&&self.config.errorHandler(new Error("flatpickr: invalid locale "+self.config.locale)),self.l10n=__assign(__assign({},flatpickr.l10ns.default),"object"==typeof self.config.locale?self.config.locale:"default"!==self.config.locale?flatpickr.l10ns[self.config.locale]:void 0),tokenRegex.D="("+self.l10n.weekdays.shorthand.join("|")+")",tokenRegex.l="("+self.l10n.weekdays.longhand.join("|")+")",tokenRegex.M="("+self.l10n.months.shorthand.join("|")+")",tokenRegex.F="("+self.l10n.months.longhand.join("|")+")",tokenRegex.K="("+self.l10n.amPM[0]+"|"+self.l10n.amPM[1]+"|"+self.l10n.amPM[0].toLowerCase()+"|"+self.l10n.amPM[1].toLowerCase()+")",void 0===__assign(__assign({},instanceConfig),JSON.parse(JSON.stringify(element.dataset||{}))).time_24hr&&void 0===flatpickr.defaultConfig.time_24hr&&(self.config.time_24hr=self.l10n.time_24hr),self.formatDate=createDateFormatter(self),self.parseDate=createDateParser({config:self.config,l10n:self.l10n})}function positionCalendar(customPositionElement){var inputBounds,calendarHeight,configPos,distanceFromBottom,configPosVertical,calendarWidth;"function"==typeof self.config.position?self.config.position(self,customPositionElement):void 0===self.calendarContainer||(triggerEvent("onPreCalendarPosition"),customPositionElement=customPositionElement||self._positionElement,calendarHeight=Array.prototype.reduce.call(self.calendarContainer.children,function(acc,child){return acc+child.offsetHeight},0),calendarWidth=self.calendarContainer.offsetWidth,configPosVertical=(configPos=self.config.position.split(" "))[0],configPos=1<configPos.length?configPos[1]:null,inputBounds=customPositionElement.getBoundingClientRect(),distanceFromBottom=window.innerHeight-inputBounds.bottom,configPosVertical="above"===configPosVertical||"below"!==configPosVertical&&distanceFromBottom<calendarHeight&&inputBounds.top>calendarHeight,distanceFromBottom=window.pageYOffset+inputBounds.top+(configPosVertical?-calendarHeight-2:customPositionElement.offsetHeight+2),toggleClass(self.calendarContainer,"arrowTop",!configPosVertical),toggleClass(self.calendarContainer,"arrowBottom",configPosVertical),self.config.inline)||(calendarHeight=window.pageXOffset+inputBounds.left,configPosVertical=customPositionElement=!1,"center"===configPos?(calendarHeight-=(calendarWidth-inputBounds.width)/2,customPositionElement=!0):"right"===configPos&&(calendarHeight-=calendarWidth-inputBounds.width,configPosVertical=!0),toggleClass(self.calendarContainer,"arrowLeft",!customPositionElement&&!configPosVertical),toggleClass(self.calendarContainer,"arrowCenter",customPositionElement),toggleClass(self.calendarContainer,"arrowRight",configPosVertical),configPos=window.document.body.offsetWidth-(window.pageXOffset+inputBounds.right),customPositionElement=calendarHeight+calendarWidth>window.document.body.offsetWidth,configPosVertical=configPos+calendarWidth>window.document.body.offsetWidth,toggleClass(self.calendarContainer,"rightMost",customPositionElement),self.config.static)||(self.calendarContainer.style.top=distanceFromBottom+"px",customPositionElement?configPosVertical?void 0!==(distanceFromBottom=function(){for(var editableSheet=null,i=0;i<document.styleSheets.length;i++){var sheet=document.styleSheets[i];if(sheet.cssRules){try{sheet.cssRules}catch(err){continue}editableSheet=sheet;break}}return null!=editableSheet?editableSheet:function(){var style=document.createElement("style");return document.head.appendChild(style),style.sheet}()}())&&(customPositionElement=window.document.body.offsetWidth,configPosVertical=Math.max(0,customPositionElement/2-calendarWidth/2),customPositionElement=distanceFromBottom.cssRules.length,calendarWidth="{left:"+inputBounds.left+"px;right:auto;}",toggleClass(self.calendarContainer,"rightMost",!1),toggleClass(self.calendarContainer,"centerMost",!0),distanceFromBottom.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+calendarWidth,customPositionElement),self.calendarContainer.style.left=configPosVertical+"px",self.calendarContainer.style.right="auto"):(self.calendarContainer.style.left="auto",self.calendarContainer.style.right=configPos+"px"):(self.calendarContainer.style.left=calendarHeight+"px",self.calendarContainer.style.right="auto"))}function redraw(){self.config.noCalendar||self.isMobile||(buildMonthSwitch(),updateNavigationCurrentMonth(),buildDays())}function focusAndClose(){self._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(self.close,0):self.close()}function selectDate(e){e.preventDefault(),e.stopPropagation();var shouldChangeMonth,selectedDate,selectedIndex,e=function findParent(node,condition){return condition(node)?node:node.parentNode?findParent(node.parentNode,condition):void 0}(getEventTarget(e),function(day){return day.classList&&day.classList.contains("flatpickr-day")&&!day.classList.contains("flatpickr-disabled")&&!day.classList.contains("notAllowed")});void 0!==e&&(e=e,shouldChangeMonth=((selectedDate=self.latestSelectedDateObj=new Date(e.dateObj.getTime())).getMonth()<self.currentMonth||selectedDate.getMonth()>self.currentMonth+self.config.showMonths-1)&&"range"!==self.config.mode,self.selectedDateElem=e,"single"===self.config.mode?self.selectedDates=[selectedDate]:"multiple"===self.config.mode?(selectedIndex=isDateSelected(selectedDate))?self.selectedDates.splice(parseInt(selectedIndex),1):self.selectedDates.push(selectedDate):"range"===self.config.mode&&(2===self.selectedDates.length&&self.clear(!1,!1),self.latestSelectedDateObj=selectedDate,self.selectedDates.push(selectedDate),0!==compareDates(selectedDate,self.selectedDates[0],!0))&&self.selectedDates.sort(function(a,b){return a.getTime()-b.getTime()}),setHoursFromInputs(),shouldChangeMonth&&(selectedIndex=self.currentYear!==selectedDate.getFullYear(),self.currentYear=selectedDate.getFullYear(),self.currentMonth=selectedDate.getMonth(),selectedIndex&&(triggerEvent("onYearChange"),buildMonthSwitch()),triggerEvent("onMonthChange")),updateNavigationCurrentMonth(),buildDays(),updateValue(),shouldChangeMonth||"range"===self.config.mode||1!==self.config.showMonths?void 0!==self.selectedDateElem&&void 0===self.hourElement&&self.selectedDateElem&&self.selectedDateElem.focus():focusOnDayElem(e),void 0!==self.hourElement&&void 0!==self.hourElement&&self.hourElement.focus(),self.config.closeOnSelect&&(selectedDate="single"===self.config.mode&&!self.config.enableTime,selectedIndex="range"===self.config.mode&&2===self.selectedDates.length&&!self.config.enableTime,selectedDate||selectedIndex)&&focusAndClose(),triggerChange())}self.parseDate=createDateParser({config:self.config,l10n:self.l10n}),self._handlers=[],self.pluginElements=[],self.loadedPlugins=[],self._bind=bind,self._setHoursFromDate=setHoursFromDate,self._positionCalendar=positionCalendar,self.changeMonth=changeMonth,self.changeYear=changeYear,self.clear=function(triggerChangeEvent,toInitial){void 0===triggerChangeEvent&&(triggerChangeEvent=!0);void 0===toInitial&&(toInitial=!0);self.input.value="",void 0!==self.altInput&&(self.altInput.value="");void 0!==self.mobileInput&&(self.mobileInput.value="");self.selectedDates=[],!(self.latestSelectedDateObj=void 0)===toInitial&&(self.currentYear=self._initialDate.getFullYear(),self.currentMonth=self._initialDate.getMonth());{var hours,minutes;!0===self.config.enableTime&&(toInitial=getDefaultHours(self.config),hours=toInitial.hours,minutes=toInitial.minutes,toInitial=toInitial.seconds,setHours(hours,minutes,toInitial))}self.redraw(),triggerChangeEvent&&triggerEvent("onChange")},self.close=function(){self.isOpen=!1,self.isMobile||(void 0!==self.calendarContainer&&self.calendarContainer.classList.remove("open"),void 0!==self._input&&self._input.classList.remove("active"));triggerEvent("onClose")},self.onMouseOver=onMouseOver,self._createElement=createElement,self.createDay=createDay,self.destroy=function(){void 0!==self.config&&triggerEvent("onDestroy");for(var i=self._handlers.length;i--;)self._handlers[i].remove();if(self._handlers=[],self.mobileInput)self.mobileInput.parentNode&&self.mobileInput.parentNode.removeChild(self.mobileInput),self.mobileInput=void 0;else if(self.calendarContainer&&self.calendarContainer.parentNode)if(self.config.static&&self.calendarContainer.parentNode){var wrapper=self.calendarContainer.parentNode;if(wrapper.lastChild&&wrapper.removeChild(wrapper.lastChild),wrapper.parentNode){for(;wrapper.firstChild;)wrapper.parentNode.insertBefore(wrapper.firstChild,wrapper);wrapper.parentNode.removeChild(wrapper)}}else self.calendarContainer.parentNode.removeChild(self.calendarContainer);self.altInput&&(self.input.type="text",self.altInput.parentNode&&self.altInput.parentNode.removeChild(self.altInput),delete self.altInput);self.input&&(self.input.type=self.input._type,self.input.classList.remove("flatpickr-input"),self.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(k){try{delete self[k]}catch(_){}})},self.isEnabled=isEnabled,self.jumpToDate=jumpToDate,self.updateValue=updateValue,self.open=function(e,positionElement){void 0===positionElement&&(positionElement=self._positionElement);var eventTarget;!0===self.isMobile?(e&&(e.preventDefault(),eventTarget=getEventTarget(e))&&eventTarget.blur(),void 0!==self.mobileInput&&(self.mobileInput.focus(),self.mobileInput.click()),triggerEvent("onOpen")):self._input.disabled||self.config.inline||(eventTarget=self.isOpen,self.isOpen=!0,eventTarget||(self.calendarContainer.classList.add("open"),self._input.classList.add("active"),triggerEvent("onOpen"),positionCalendar(positionElement)),!0!==self.config.enableTime)||!0!==self.config.noCalendar||!1!==self.config.allowInput||void 0!==e&&self.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return self.hourElement.select()},50)},self.redraw=redraw,self.set=function(option,value){if(null!==option&&"object"==typeof option)for(var key in Object.assign(self.config,option),option)void 0!==CALLBACKS[key]&&CALLBACKS[key].forEach(function(x){return x()});else self.config[option]=value,void 0!==CALLBACKS[option]?CALLBACKS[option].forEach(function(x){return x()}):-1<HOOKS.indexOf(option)&&(self.config[option]=arrayify(value));self.redraw(),updateValue(!0)},self.setDate=function(date,triggerChange,format){void 0===triggerChange&&(triggerChange=!1);void 0===format&&(format=self.config.dateFormat);if(0!==date&&!date||date instanceof Array&&0===date.length)return self.clear(triggerChange);setSelectedDate(date,format),self.latestSelectedDateObj=self.selectedDates[self.selectedDates.length-1],self.redraw(),jumpToDate(void 0,triggerChange),setHoursFromDate(),0===self.selectedDates.length&&self.clear(!1);updateValue(triggerChange),triggerChange&&triggerEvent("onChange")},self.toggle=function(e){if(!0===self.isOpen)return self.close();self.open(e)};var CALLBACKS={locale:[setupLocale,updateWeekdays],showMonths:[buildMonths,setCalendarWidth,buildWeekdays],minDate:[jumpToDate],maxDate:[jumpToDate],positionElement:[updatePositionElement],clickOpens:[function(){!0===self.config.clickOpens?(bind(self._input,"focus",self.open),bind(self._input,"click",self.open)):(self._input.removeEventListener("focus",self.open),self._input.removeEventListener("click",self.open))}]};function setSelectedDate(inputDate,format){var dates=[];if(inputDate instanceof Array)dates=inputDate.map(function(d){return self.parseDate(d,format)});else if(inputDate instanceof Date||"number"==typeof inputDate)dates=[self.parseDate(inputDate,format)];else if("string"==typeof inputDate)switch(self.config.mode){case"single":case"time":dates=[self.parseDate(inputDate,format)];break;case"multiple":dates=inputDate.split(self.config.conjunction).map(function(date){return self.parseDate(date,format)});break;case"range":dates=inputDate.split(self.l10n.rangeSeparator).map(function(date){return self.parseDate(date,format)})}else self.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(inputDate)));self.selectedDates=self.config.allowInvalidPreload?dates:dates.filter(function(d){return d instanceof Date&&isEnabled(d,!1)}),"range"===self.config.mode&&self.selectedDates.sort(function(a,b){return a.getTime()-b.getTime()})}function parseDateRules(arr){return arr.slice().map(function(rule){return"string"==typeof rule||"number"==typeof rule||rule instanceof Date?self.parseDate(rule,void 0,!0):rule&&"object"==typeof rule&&rule.from&&rule.to?{from:self.parseDate(rule.from,void 0),to:self.parseDate(rule.to,void 0)}:rule}).filter(function(x){return x})}function updatePositionElement(){self._positionElement=self.config.positionElement||self._input}function triggerEvent(event,data){if(void 0!==self.config){var hooks=self.config[event];if(void 0!==hooks&&0<hooks.length)for(var i=0;hooks[i]&&i<hooks.length;i++)hooks[i](self.selectedDates,self.input.value,self,data);"onChange"===event&&(self.input.dispatchEvent(createEvent("change")),self.input.dispatchEvent(createEvent("input")))}}function createEvent(name){var e=document.createEvent("Event");return e.initEvent(name,!0,!0),e}function isDateSelected(date){for(var i=0;i<self.selectedDates.length;i++){var selectedDate=self.selectedDates[i];if(selectedDate instanceof Date&&0===compareDates(selectedDate,date))return""+i}return!1}function updateNavigationCurrentMonth(){self.config.noCalendar||self.isMobile||!self.monthNav||(self.yearElements.forEach(function(yearElement,i){var d=new Date(self.currentYear,self.currentMonth,1);d.setMonth(self.currentMonth+i),1<self.config.showMonths||"static"===self.config.monthSelectorType?self.monthElements[i].textContent=monthToStr(d.getMonth(),self.config.shorthandCurrentMonth,self.l10n)+" ":self.monthsDropdownContainer.value=d.getMonth().toString(),yearElement.value=d.getFullYear().toString()}),self._hidePrevMonthArrow=void 0!==self.config.minDate&&(self.currentYear===self.config.minDate.getFullYear()?self.currentMonth<=self.config.minDate.getMonth():self.currentYear<self.config.minDate.getFullYear()),self._hideNextMonthArrow=void 0!==self.config.maxDate&&(self.currentYear===self.config.maxDate.getFullYear()?self.currentMonth+1>self.config.maxDate.getMonth():self.currentYear>self.config.maxDate.getFullYear()))}function getDateStr(specificFormat){var format=specificFormat||(self.config.altInput?self.config.altFormat:self.config.dateFormat);return self.selectedDates.map(function(dObj){return self.formatDate(dObj,format)}).filter(function(d,i,arr){return"range"!==self.config.mode||self.config.enableTime||arr.indexOf(d)===i}).join("range"!==self.config.mode?self.config.conjunction:self.l10n.rangeSeparator)}function updateValue(triggerChange){void 0===triggerChange&&(triggerChange=!0),void 0!==self.mobileInput&&self.mobileFormatStr&&(self.mobileInput.value=void 0!==self.latestSelectedDateObj?self.formatDate(self.latestSelectedDateObj,self.mobileFormatStr):""),self.input.value=getDateStr(self.config.dateFormat),void 0!==self.altInput&&(self.altInput.value=getDateStr(self.config.altFormat)),!1!==triggerChange&&triggerEvent("onValueUpdate")}function onMonthNavClick(e){var e=getEventTarget(e),isPrevMonth=self.prevMonthNav.contains(e),isNextMonth=self.nextMonthNav.contains(e);isPrevMonth||isNextMonth?changeMonth(isPrevMonth?-1:1):0<=self.yearElements.indexOf(e)?e.select():e.classList.contains("arrowUp")?self.changeYear(self.currentYear+1):e.classList.contains("arrowDown")&&self.changeYear(self.currentYear-1)}self.element=self.input=element,self.isOpen=!1;var boolOpts=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],userConfig=__assign(__assign({},JSON.parse(JSON.stringify(element.dataset||{}))),instanceConfig),formats={},timeMode=(self.config.parseDate=userConfig.parseDate,self.config.formatDate=userConfig.formatDate,Object.defineProperty(self.config,"enable",{get:function(){return self.config._enable},set:function(dates){self.config._enable=parseDateRules(dates)}}),Object.defineProperty(self.config,"disable",{get:function(){return self.config._disable},set:function(dates){self.config._disable=parseDateRules(dates)}}),"time"===userConfig.mode);function minMaxTimeSetter(type){return function(val){self.config["min"===type?"_minTime":"_maxTime"]=self.parseDate(val,"H:i:S")}}userConfig.dateFormat||!userConfig.enableTime&&!timeMode||(defaultDateFormat=flatpickr.defaultConfig.dateFormat||defaults.dateFormat,formats.dateFormat=userConfig.noCalendar||timeMode?"H:i"+(userConfig.enableSeconds?":S":""):defaultDateFormat+" H:i"+(userConfig.enableSeconds?":S":"")),userConfig.altInput&&(userConfig.enableTime||timeMode)&&!userConfig.altFormat&&(defaultDateFormat=flatpickr.defaultConfig.altFormat||defaults.altFormat,formats.altFormat=userConfig.noCalendar||timeMode?"h:i"+(userConfig.enableSeconds?":S K":" K"):defaultDateFormat+(" h:i"+(userConfig.enableSeconds?":S":""))+" K"),Object.defineProperty(self.config,"minDate",{get:function(){return self.config._minDate},set:minMaxDateSetter("min")}),Object.defineProperty(self.config,"maxDate",{get:function(){return self.config._maxDate},set:minMaxDateSetter("max")}),Object.defineProperty(self.config,"minTime",{get:function(){return self.config._minTime},set:minMaxTimeSetter("min")}),Object.defineProperty(self.config,"maxTime",{get:function(){return self.config._maxTime},set:minMaxTimeSetter("max")}),"time"===userConfig.mode&&(self.config.noCalendar=!0,self.config.enableTime=!0),Object.assign(self.config,formats,userConfig);for(var i=0;i<boolOpts.length;i++)self.config[boolOpts[i]]=!0===self.config[boolOpts[i]]||"true"===self.config[boolOpts[i]];for(HOOKS.filter(function(hook){return void 0!==self.config[hook]}).forEach(function(hook){self.config[hook]=arrayify(self.config[hook]||[]).map(bindToInstance)}),self.isMobile=!self.config.disableMobile&&!self.config.inline&&"single"===self.config.mode&&!self.config.disable.length&&!self.config.enable&&!self.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=0;i<self.config.plugins.length;i++){var key,pluginConf=self.config.plugins[i](self)||{};for(key in pluginConf)-1<HOOKS.indexOf(key)?self.config[key]=arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]):void 0===userConfig[key]&&(self.config[key]=pluginConf[key])}if(userConfig.altInputClass||(self.config.altInputClass=getInputElem().className+" "+self.config.altInputClass),triggerEvent("onParseConfig"),setupLocale(),self.input=getInputElem(),self.input?(self.input._type=self.input.type,self.input.type="text",self.input.classList.add("flatpickr-input"),self._input=self.input,self.config.altInput&&(self.altInput=createElement(self.input.nodeName,self.config.altInputClass),self._input=self.altInput,self.altInput.placeholder=self.input.placeholder,self.altInput.disabled=self.input.disabled,self.altInput.required=self.input.required,self.altInput.tabIndex=self.input.tabIndex,self.altInput.type="text",self.input.setAttribute("type","hidden"),!self.config.static)&&self.input.parentNode&&self.input.parentNode.insertBefore(self.altInput,self.input.nextSibling),self.config.allowInput||self._input.setAttribute("readonly","readonly"),updatePositionElement()):self.config.errorHandler(new Error("Invalid input element specified")),self.selectedDates=[],self.now=self.parseDate(self.config.now)||new Date,(timeMode=self.config.defaultDate||("INPUT"!==self.input.nodeName&&"TEXTAREA"!==self.input.nodeName||!self.input.placeholder||self.input.value!==self.input.placeholder?self.input.value:null))&&setSelectedDate(timeMode,self.config.dateFormat),self._initialDate=0<self.selectedDates.length?self.selectedDates[0]:self.config.minDate&&self.config.minDate.getTime()>self.now.getTime()?self.config.minDate:self.config.maxDate&&self.config.maxDate.getTime()<self.now.getTime()?self.config.maxDate:self.now,self.currentYear=self._initialDate.getFullYear(),self.currentMonth=self._initialDate.getMonth(),0<self.selectedDates.length&&(self.latestSelectedDateObj=self.selectedDates[0]),void 0!==self.config.minTime&&(self.config.minTime=self.parseDate(self.config.minTime,"H:i")),void 0!==self.config.maxTime&&(self.config.maxTime=self.parseDate(self.config.maxTime,"H:i")),self.minDateHasTime=!!self.config.minDate&&(0<self.config.minDate.getHours()||0<self.config.minDate.getMinutes()||0<self.config.minDate.getSeconds()),self.maxDateHasTime=!!self.config.maxDate&&(0<self.config.maxDate.getHours()||0<self.config.maxDate.getMinutes()||0<self.config.maxDate.getSeconds()),self.utils={getDaysInMonth:function(month,yr){return void 0===month&&(month=self.currentMonth),void 0===yr&&(yr=self.currentYear),1===month&&(yr%4==0&&yr%100!=0||yr%400==0)?29:self.l10n.daysInMonth[month]}},!self.isMobile){var weekWrapper,defaultDateFormat=window.document.createDocumentFragment(),_a=(self.calendarContainer=createElement("div","flatpickr-calendar"),self.calendarContainer.tabIndex=-1,self.config.noCalendar||(defaultDateFormat.appendChild((self.monthNav=createElement("div","flatpickr-months"),self.yearElements=[],self.monthElements=[],self.prevMonthNav=createElement("span","flatpickr-prev-month"),self.prevMonthNav.innerHTML=self.config.prevArrow,self.nextMonthNav=createElement("span","flatpickr-next-month"),self.nextMonthNav.innerHTML=self.config.nextArrow,buildMonths(),Object.defineProperty(self,"_hidePrevMonthArrow",{get:function(){return self.__hidePrevMonthArrow},set:function(bool){self.__hidePrevMonthArrow!==bool&&(toggleClass(self.prevMonthNav,"flatpickr-disabled",bool),self.__hidePrevMonthArrow=bool)}}),Object.defineProperty(self,"_hideNextMonthArrow",{get:function(){return self.__hideNextMonthArrow},set:function(bool){self.__hideNextMonthArrow!==bool&&(toggleClass(self.nextMonthNav,"flatpickr-disabled",bool),self.__hideNextMonthArrow=bool)}}),self.currentYearElement=self.yearElements[0],updateNavigationCurrentMonth(),self.monthNav)),self.innerContainer=createElement("div","flatpickr-innerContainer"),self.config.weekNumbers&&(weekWrapper=(_a=function(){self.calendarContainer.classList.add("hasWeeks");var weekWrapper=createElement("div","flatpickr-weekwrapper"),weekNumbers=(weekWrapper.appendChild(createElement("span","flatpickr-weekday",self.l10n.weekAbbreviation)),createElement("div","flatpickr-weeks"));return weekWrapper.appendChild(weekNumbers),{weekWrapper:weekWrapper,weekNumbers:weekNumbers}}()).weekWrapper,_a=_a.weekNumbers,self.innerContainer.appendChild(weekWrapper),self.weekNumbers=_a,self.weekWrapper=weekWrapper),self.rContainer=createElement("div","flatpickr-rContainer"),self.rContainer.appendChild(buildWeekdays()),self.daysContainer||(self.daysContainer=createElement("div","flatpickr-days"),self.daysContainer.tabIndex=-1),buildDays(),self.rContainer.appendChild(self.daysContainer),self.innerContainer.appendChild(self.rContainer),defaultDateFormat.appendChild(self.innerContainer)),self.config.enableTime&&defaultDateFormat.appendChild(function(){self.calendarContainer.classList.add("hasTime"),self.config.noCalendar&&self.calendarContainer.classList.add("noCalendar");var defaults=getDefaultHours(self.config),separator=(self.timeContainer=createElement("div","flatpickr-time"),self.timeContainer.tabIndex=-1,createElement("span","flatpickr-time-separator",":")),hourInput=createNumberInput("flatpickr-hour",{"aria-label":self.l10n.hourAriaLabel}),minuteInput=(self.hourElement=hourInput.getElementsByTagName("input")[0],createNumberInput("flatpickr-minute",{"aria-label":self.l10n.minuteAriaLabel}));self.minuteElement=minuteInput.getElementsByTagName("input")[0],self.hourElement.tabIndex=self.minuteElement.tabIndex=-1,self.hourElement.value=pad(self.latestSelectedDateObj?self.latestSelectedDateObj.getHours():self.config.time_24hr?defaults.hours:function(hour){switch(hour%24){case 0:case 12:return 12;default:return hour%12}}(defaults.hours)),self.minuteElement.value=pad(self.latestSelectedDateObj?self.latestSelectedDateObj.getMinutes():defaults.minutes),self.hourElement.setAttribute("step",self.config.hourIncrement.toString()),self.minuteElement.setAttribute("step",self.config.minuteIncrement.toString()),self.hourElement.setAttribute("min",self.config.time_24hr?"0":"1"),self.hourElement.setAttribute("max",self.config.time_24hr?"23":"12"),self.hourElement.setAttribute("maxlength","2"),self.minuteElement.setAttribute("min","0"),self.minuteElement.setAttribute("max","59"),self.minuteElement.setAttribute("maxlength","2"),self.timeContainer.appendChild(hourInput),self.timeContainer.appendChild(separator),self.timeContainer.appendChild(minuteInput),self.config.time_24hr&&self.timeContainer.classList.add("time24hr");self.config.enableSeconds&&(self.timeContainer.classList.add("hasSeconds"),hourInput=createNumberInput("flatpickr-second"),self.secondElement=hourInput.getElementsByTagName("input")[0],self.secondElement.value=pad(self.latestSelectedDateObj?self.latestSelectedDateObj.getSeconds():defaults.seconds),self.secondElement.setAttribute("step",self.minuteElement.getAttribute("step")),self.secondElement.setAttribute("min","0"),self.secondElement.setAttribute("max","59"),self.secondElement.setAttribute("maxlength","2"),self.timeContainer.appendChild(createElement("span","flatpickr-time-separator",":")),self.timeContainer.appendChild(hourInput));self.config.time_24hr||(self.amPM=createElement("span","flatpickr-am-pm",self.l10n.amPM[int(11<(self.latestSelectedDateObj?self.hourElement.value:self.config.defaultHour))]),self.amPM.title=self.l10n.toggleTitle,self.amPM.tabIndex=-1,self.timeContainer.appendChild(self.amPM));return self.timeContainer}()),toggleClass(self.calendarContainer,"rangeMode","range"===self.config.mode),toggleClass(self.calendarContainer,"animate",!0===self.config.animate),toggleClass(self.calendarContainer,"multiMonth",1<self.config.showMonths),self.calendarContainer.appendChild(defaultDateFormat),void 0!==self.config.appendTo&&void 0!==self.config.appendTo.nodeType);(self.config.inline||self.config.static)&&(self.calendarContainer.classList.add(self.config.inline?"inline":"static"),self.config.inline&&(!_a&&self.element.parentNode?self.element.parentNode.insertBefore(self.calendarContainer,self._input.nextSibling):void 0!==self.config.appendTo&&self.config.appendTo.appendChild(self.calendarContainer)),self.config.static)&&(weekWrapper=createElement("div","flatpickr-wrapper"),self.element.parentNode&&self.element.parentNode.insertBefore(weekWrapper,self.element),weekWrapper.appendChild(self.element),self.altInput&&weekWrapper.appendChild(self.altInput),weekWrapper.appendChild(self.calendarContainer)),self.config.static||self.config.inline||(void 0!==self.config.appendTo?self.config.appendTo:window.document.body).appendChild(self.calendarContainer)}if(self.config.wrap&&["open","close","toggle","clear"].forEach(function(evt){Array.prototype.forEach.call(self.element.querySelectorAll("[data-"+evt+"]"),function(el){return bind(el,"click",self[evt])})}),self.isMobile){var inputType=self.config.enableTime?self.config.noCalendar?"time":"datetime-local":"date";self.mobileInput=createElement("input",self.input.className+" flatpickr-mobile"),self.mobileInput.tabIndex=1,self.mobileInput.type=inputType,self.mobileInput.disabled=self.input.disabled,self.mobileInput.required=self.input.required,self.mobileInput.placeholder=self.input.placeholder,self.mobileFormatStr="datetime-local"==inputType?"Y-m-d\\TH:i:S":"date"==inputType?"Y-m-d":"H:i:S",0<self.selectedDates.length&&(self.mobileInput.defaultValue=self.mobileInput.value=self.formatDate(self.selectedDates[0],self.mobileFormatStr)),self.config.minDate&&(self.mobileInput.min=self.formatDate(self.config.minDate,"Y-m-d")),self.config.maxDate&&(self.mobileInput.max=self.formatDate(self.config.maxDate,"Y-m-d")),self.input.getAttribute("step")&&(self.mobileInput.step=String(self.input.getAttribute("step"))),self.input.type="hidden",void 0!==self.altInput&&(self.altInput.type="hidden");try{self.input.parentNode&&self.input.parentNode.insertBefore(self.mobileInput,self.input.nextSibling)}catch(_a){}bind(self.mobileInput,"change",function(e){self.setDate(getEventTarget(e).value,!1,self.mobileFormatStr),triggerEvent("onChange"),triggerEvent("onClose")})}else inputType=debounce(onResize,50),self._debouncedChange=debounce(triggerChange,DEBOUNCED_CHANGE_MS),self.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&bind(self.daysContainer,"mouseover",function(e){"range"===self.config.mode&&onMouseOver(getEventTarget(e))}),bind(self._input,"keydown",onKeyDown),void 0!==self.calendarContainer&&bind(self.calendarContainer,"keydown",onKeyDown),self.config.inline||self.config.static||bind(window,"resize",inputType),void 0!==window.ontouchstart?bind(window.document,"touchstart",documentClick):bind(window.document,"mousedown",documentClick),bind(window.document,"focus",documentClick,{capture:!0}),!0===self.config.clickOpens&&(bind(self._input,"focus",self.open),bind(self._input,"click",self.open)),void 0!==self.daysContainer&&(bind(self.monthNav,"click",onMonthNavClick),bind(self.monthNav,["keyup","increment"],onYearInput),bind(self.daysContainer,"click",selectDate)),void 0!==self.timeContainer&&void 0!==self.minuteElement&&void 0!==self.hourElement&&(bind(self.timeContainer,["increment"],updateTime),bind(self.timeContainer,"blur",updateTime,{capture:!0}),bind(self.timeContainer,"click",timeIncrement),bind([self.hourElement,self.minuteElement],["focus","click"],function(e){return getEventTarget(e).select()}),void 0!==self.secondElement&&bind(self.secondElement,"focus",function(){return self.secondElement&&self.secondElement.select()}),void 0!==self.amPM)&&bind(self.amPM,"click",function(e){updateTime(e)}),self.config.allowInput&&bind(self._input,"blur",onBlur);return(self.selectedDates.length||self.config.noCalendar)&&(self.config.enableTime&&setHoursFromDate(self.config.noCalendar?self.latestSelectedDateObj:void 0),updateValue(!1)),setCalendarWidth(),formats=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),!self.isMobile&&formats&&positionCalendar(),triggerEvent("onReady"),self}function _flatpickr(nodeList,config){for(var nodes=Array.prototype.slice.call(nodeList).filter(function(x){return x instanceof HTMLElement}),instances=[],i=0;i<nodes.length;i++){var node=nodes[i];try{null===node.getAttribute("data-fp-omit")&&(void 0!==node._flatpickr&&(node._flatpickr.destroy(),node._flatpickr=void 0),node._flatpickr=FlatpickrInstance(node,config||{}),instances.push(node._flatpickr))}catch(e){console.error(e)}}return 1===instances.length?instances[0]:instances}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(config){return _flatpickr(this,config)},HTMLElement.prototype.flatpickr=function(config){return _flatpickr([this],config)});var flatpickr=function(selector,config){return"string"==typeof selector?_flatpickr(window.document.querySelectorAll(selector),config):selector instanceof Node?_flatpickr([selector],config):_flatpickr(selector,config)};return flatpickr.defaultConfig={},flatpickr.l10ns={en:__assign({},english),default:__assign({},english)},flatpickr.localize=function(l10n){flatpickr.l10ns.default=__assign(__assign({},flatpickr.l10ns.default),l10n)},flatpickr.setDefaults=function(config){flatpickr.defaultConfig=__assign(__assign({},flatpickr.defaultConfig),config)},flatpickr.parseDate=createDateParser({}),flatpickr.formatDate=createDateFormatter({}),flatpickr.compareDates=compareDates,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(config){return _flatpickr(this,config)}),Date.prototype.fp_incr=function(days){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof days?parseInt(days,10):days))},"undefined"!=typeof window&&(window.flatpickr=flatpickr),flatpickr}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).es={})}(this,function(exports){"use strict";var fp="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Spanish={weekdays:{shorthand:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],longhand:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return""},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0},fp=(fp.l10ns.es=Spanish,fp.l10ns);exports.Spanish=Spanish,exports.default=fp,Object.defineProperty(exports,"__esModule",{value:!0})}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).default={})}(this,function(exports){"use strict";var english={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(nth){nth%=100;if(3<nth&&nth<21)return"th";switch(nth%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};exports.default=english,exports.english=english,Object.defineProperty(exports,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ShortcutButtonsPlugin=e():t.ShortcutButtonsPlugin=e()}(window,function(){return t=[function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=(Object.defineProperty(e,"__esModule",{value:!0}),e.ShortcutButtonsPlugin=void 0,{theme:"light"}),i=new Set(["accesskey","aria-label","class","tabindex"]);e.ShortcutButtonsPlugin=function(t){var e=r(r({},o),t);return function(t){var n;function r(n){n.stopPropagation(),n.preventDefault();n=n.target;if("button"===n.tagName.toLowerCase()&&void 0!==e.onClick)for(var o=parseInt(n.dataset.index,10),i=0,a=Array.isArray(e.onClick)?e.onClick:[e.onClick];i<a.length;i++){var u=a[i];"function"==typeof u&&u(o,t)}}function o(e){var n=e.target;"Tab"===e.key&&"button"===n.tagName.toLowerCase()&&(e.shiftKey&&!n.previousSibling||!e.shiftKey&&!n.nextSibling)&&(e.preventDefault(),t.element.focus())}return{onReady:function(){(n=document.createElement("div")).classList.add("shortcut-buttons-flatpickr-wrapper",e.theme),void 0!==e.label&&e.label.length&&((a=document.createElement("div")).classList.add("shortcut-buttons-flatpickr-label"),a.textContent=e.label,n.appendChild(a));var a,u=document.createElement("div");u.classList.add("shortcut-buttons-flatpickr-buttons"),(Array.isArray(e.button)?e.button:[e.button]).forEach(function(e,n){var r=document.createElement("button");r.type="button",r.classList.add("shortcut-buttons-flatpickr-button"),r.textContent=e.label,r.dataset.index=String(n),void 0!==e.attributes&&function(t,e){Object.keys(e).filter(function(t){return i.has(t)}).forEach(function(n){var r;"class"!==n?t.setAttribute(n,e[n]):(r=t.classList).add.apply(r,e[n].split(" "))})}(r,e.attributes),u.appendChild(r),t.pluginElements.push(r)}),n.appendChild(u),t.calendarContainer.appendChild(n),n.addEventListener("click",r),n.addEventListener("keydown",o)},onDestroy:function(){n.removeEventListener("keydown",o),n.removeEventListener("click",r),n=void 0}}}}}],e={},n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0).ShortcutButtonsPlugin;function n(r){var o;return(e[r]||(o=e[r]={i:r,l:!1,exports:{}},t[r].call(o.exports,o,o.exports,n),o.l=!0,o)).exports}var t,e}),function(f){var g;"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):((g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).braintree||(g.braintree={})).client=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(_dereq_,module,exports){"use strict";var scriptPromiseCache={};function loadScript(options){var scriptLoadPromise,script,attrs,container,stringifiedOptions=JSON.stringify(options);return!options.forceScriptReload&&(scriptLoadPromise=scriptPromiseCache[stringifiedOptions])||(script=document.createElement("script"),attrs=options.dataAttributes||{},container=options.container||document.head,script.src=options.src,script.id=options.id||"",script.async=!0,options.type&&script.setAttribute("type","".concat(options.type)),options.crossorigin&&script.setAttribute("crossorigin","".concat(options.crossorigin)),options.integrity&&script.setAttribute("integrity","".concat(options.integrity)),Object.keys(attrs).forEach(function(key){script.setAttribute("data-".concat(key),"".concat(attrs[key]))}),scriptLoadPromise=new Promise(function(resolve,reject){script.addEventListener("load",function(){resolve(script)}),script.addEventListener("error",function(){reject(new Error("".concat(options.src," failed to load.")))}),script.addEventListener("abort",function(){reject(new Error("".concat(options.src," has aborted.")))}),container.appendChild(script)}),scriptPromiseCache[stringifiedOptions]=scriptLoadPromise),scriptLoadPromise}loadScript.clearCache=function(){scriptPromiseCache={}},module.exports=loadScript},{}],2:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/load-script")},{"./dist/load-script":1}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})}},{}],4:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deferred=function(fn){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];setTimeout(function(){try{fn.apply(void 0,args)}catch(err){console.log("Error in callback function"),console.log(err)}},1)}}},{}],5:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.once=function(fn){var called=!1;return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];called||(called=!0,fn.apply(void 0,args))}}},{}],6:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.promiseOrCallback=function(promise,callback){if(!callback)return promise;promise.then(function(data){return callback(null,data)}).catch(function(err){return callback(err)})}},{}],7:[function(_dereq_,module,exports){"use strict";var deferred_1=_dereq_("./lib/deferred"),once_1=_dereq_("./lib/once"),promise_or_callback_1=_dereq_("./lib/promise-or-callback");function wrapPromise(fn){return function(){for(var callback,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return"function"==typeof args[args.length-1]&&(callback=args.pop(),callback=once_1.once(deferred_1.deferred(callback))),promise_or_callback_1.promiseOrCallback(fn.apply(this,args),callback)}}wrapPromise.wrapPrototype=function(target,options){var ignoreMethods=(options=void 0===options?{}:options).ignoreMethods||[],includePrivateMethods=!0===options.transformPrivateMethods;return Object.getOwnPropertyNames(target.prototype).filter(function(method){var isNonConstructorFunction="constructor"!==method&&"function"==typeof target.prototype[method],isNotAnIgnoredMethod=-1===ignoreMethods.indexOf(method),method=includePrivateMethods||"_"!==method.charAt(0);return isNonConstructorFunction&&method&&isNotAnIgnoredMethod}).forEach(function(method){var original=target.prototype[method];target.prototype[method]=wrapPromise(original)}),target},module.exports=wrapPromise},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(_dereq_,module,exports){var global,factory;global=this,factory=function(exports){"use strict";function __awaiter(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g={next:verb(0),throw:verb(1),return:verb(2)};return"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){var op=[n,v];if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,(op=t?[2&op[0],t.value]:op)[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=0<(t=_.trys).length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else{if(!(t&&_.label<t[2])){t[2]&&_.ops.pop(),_.trys.pop();continue}_.label=t[2],_.ops.push(op)}}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}}var dist={},scriptPromiseCache={};function loadScript$1(options){var scriptLoadPromise,script,attrs,container,stringifiedOptions=JSON.stringify(options);return!options.forceScriptReload&&(scriptLoadPromise=scriptPromiseCache[stringifiedOptions])||(script=document.createElement("script"),attrs=options.dataAttributes||{},container=options.container||document.head,script.src=options.src,script.id=options.id||"",script.async=!0,options.type&&script.setAttribute("type","".concat(options.type)),options.crossorigin&&script.setAttribute("crossorigin","".concat(options.crossorigin)),Object.keys(attrs).forEach(function(key){script.setAttribute("data-".concat(key),"".concat(attrs[key]))}),scriptLoadPromise=new Promise(function(resolve,reject){script.addEventListener("load",function(){resolve(script)}),script.addEventListener("error",function(){reject(new Error("".concat(options.src," failed to load.")))}),script.addEventListener("abort",function(){reject(new Error("".concat(options.src," has aborted.")))}),container.appendChild(script)}),scriptPromiseCache[stringifiedOptions]=scriptLoadPromise),scriptLoadPromise}loadScript$1.clearCache=function(){scriptPromiseCache={}};var _b,loadScript_1$1=loadScript$1,loadScript_1=(Object.defineProperty(dist,"__esModule",{value:!0}),dist.loadStylesheet=loadScript_1=dist.loadScript=void 0,dist.loadScript=loadScript_1$1),FL_NAMESPACE=(dist.loadStylesheet=function(options){var container,stylesheet=document.querySelector('link[href="'.concat(options.href,'"]'));return stylesheet||(stylesheet=document.createElement("link"),container=options.container||document.head,stylesheet.setAttribute("rel","stylesheet"),stylesheet.setAttribute("type","text/css"),stylesheet.setAttribute("href",options.href),stylesheet.setAttribute("id",options.id),container.firstChild?container.insertBefore(stylesheet,container.firstChild):container.appendChild(stylesheet)),Promise.resolve(stylesheet)},"fastlane"),constants={AXO_ASSET_NAME:{minified:"axo",unminified:"axo.unminified"},AXO_ASSET_PATH:"connect-boba",LOCALE_PATH:"".concat("connect-boba","/locales/"),CDNX_PROD:"https://www.paypalobjects.com"},AxoSupportedPlatforms_BT="BT",AxoSupportedPlatforms_PPCP="PPCP";function isAmdEnv(){return"function"==typeof window.define&&!!window.define.amd}function safeLoadBtModule(loadConfig,version,minified){var _a;return void 0===minified&&(minified=!0),__awaiter(this,void 0,void 0,function(){var bt;return __generator(this,function(_c){if((bt=null===window||void 0===window?void 0:window.braintree)&&bt[loadConfig.module]){if(version&&(null==(_a=bt[loadConfig.module])?void 0:_a.VERSION)!==version)throw bt=null==(_a=bt[loadConfig.module])?void 0:_a.VERSION,new Error("".concat(loadConfig.module," already loaded with version ").concat(bt," cannot load version ").concat(version));return[2,!0]}if(version)return[2,function(loadConfig,version,minified){void 0===minified&&(minified=!0);{var module_1;if(isAmdEnv())return module_1=minified?loadConfig.amdModule.minified:loadConfig.amdModule.unminified,new Promise(function(resolve,reject){window.require([module_1],resolve,reject)})}minified=minified?loadConfig.script.minified:loadConfig.script.unminified;return loadScript_1({id:"".concat(loadConfig.id,"-").concat(version),src:"https://js.braintreegateway.com/web/".concat(version,"/js/").concat(minified)})}(loadConfig,version,minified)];throw new Error("Attempted to load ".concat(loadConfig.module," without specifying version"))})})}var _a,loadScript_1$1="client",dist="hostedFields",btModulesLoadConfig=((_a={})[loadScript_1$1]="client",_a[dist]="hosted-fields",(_b={})[loadScript_1$1]={id:"client",module:loadScript_1$1,amdModule:{unminified:"".concat("braintree","/").concat(_a[loadScript_1$1]),minified:"".concat("braintree","/").concat(_a[loadScript_1$1],".min")},script:{unminified:"".concat(_a[loadScript_1$1],".js"),minified:"".concat(_a[loadScript_1$1],".min.js")}},_b[dist]={id:"hcf",module:dist,amdModule:{unminified:"".concat("braintree","/").concat(_a[dist]),minified:"".concat("braintree","/").concat(_a[dist],".min")},script:{unminified:"".concat(_a[dist],".js"),minified:"".concat(_a[dist],".min.js")}},_b);function loadAXOScript(url,minified){var _a,moduleName_1;return void 0===minified&&(minified=!0),isAmdEnv()?(isAmdEnv()&&"function"==typeof window.requirejs&&"function"==typeof window.requirejs.config&&requirejs.config({paths:((_a={})[FL_NAMESPACE]=url,_a)}),moduleName_1="".concat(FL_NAMESPACE,"/").concat(minified?constants.AXO_ASSET_NAME.minified:constants.AXO_ASSET_NAME.unminified),new Promise(function(resolve,reject){window.require([moduleName_1],resolve,reject)})):loadScript_1({id:"axo-id",src:url,forceScriptReload:!0})}function generateAssetUrl(_a){var assetUrl=_a.assetUrl,_a=_a.bundleId;return(_a?"https://cdn-".concat(_a,".static.engineering.dev.paypalinc.com/"):"".concat(constants.CDNX_PROD,"/")).concat(assetUrl)}exports.constants=constants,exports.loadAxo=function(options){return __awaiter(this,void 0,void 0,function(){var btSdkVersion,minified,assetUrl,localeUrl;return __generator(this,function(_a){switch(_a.label){case 0:return performance.mark("pp_axo_sdk_init_invoked"),btSdkVersion=options.btSdkVersion,minified=options.minified,assetUrl=function(options){var assetName=!1!==(null==options?void 0:options.minified)?constants.AXO_ASSET_NAME.minified:constants.AXO_ASSET_NAME.unminified;return generateAssetUrl({assetUrl:isAmdEnv()?constants.AXO_ASSET_PATH:"".concat(constants.AXO_ASSET_PATH,"/").concat(assetName,".js"),bundleId:null==(assetName=null==options?void 0:options.metadata)?void 0:assetName.bundleIdOverride})}(options),localeUrl=function(options){return generateAssetUrl({assetUrl:constants.LOCALE_PATH,bundleId:null==(options=null==options?void 0:options.metadata)?void 0:options.bundleIdOverride})}(options),options.platform!==AxoSupportedPlatforms_BT?[3,2]:[4,Promise.all([safeLoadBtModule(btModulesLoadConfig.hostedFields,btSdkVersion,minified),loadAXOScript(assetUrl,minified)])];case 1:return _a.sent(),[3,5];case 2:return options.platform!==AxoSupportedPlatforms_PPCP?[3,4]:[4,Promise.all([safeLoadBtModule(btModulesLoadConfig.client,btSdkVersion,minified),safeLoadBtModule(btModulesLoadConfig.hostedFields,btSdkVersion,minified),loadAXOScript(assetUrl,minified)])];case 3:return _a.sent(),[3,5];case 4:throw new Error("unsupported axo platform");case 5:return[2,{metadata:{localeUrl:localeUrl}}]}})})}},"object"==typeof exports&&void 0!==module?factory(exports):factory((global="undefined"!=typeof globalThis?globalThis:global||self).loadAxo={})},{}],9:[function(_dereq_,module,exports){"use strict";var BRAINTREE_VERSION=_dereq_("./constants").BRAINTREE_VERSION,GraphQL=_dereq_("./request/graphql"),request=_dereq_("./request"),isVerifiedDomain=_dereq_("../lib/is-verified-domain"),BraintreeError=_dereq_("../lib/braintree-error"),convertToBraintreeError=_dereq_("../lib/convert-to-braintree-error"),getGatewayConfiguration=_dereq_("./get-configuration").getConfiguration,createAuthorizationData=_dereq_("../lib/create-authorization-data"),metadata=_dereq_("../lib/add-metadata"),wrapPromise=_dereq_("@braintree/wrap-promise"),once=_dereq_("../lib/once"),deferred=_dereq_("../lib/deferred"),assign=_dereq_("../lib/assign").assign,analytics=_dereq_("../lib/analytics"),errors=_dereq_("./errors"),VERSION=_dereq_("../lib/constants").VERSION,GRAPHQL_URLS=_dereq_("../lib/constants").GRAPHQL_URLS,methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),assets=_dereq_("../lib/assets"),FRAUDNET_FNCLS=_dereq_("../lib/constants").FRAUDNET_FNCLS,FRAUDNET_SOURCE=_dereq_("../lib/constants").FRAUDNET_SOURCE,FRAUDNET_URL=_dereq_("../lib/constants").FRAUDNET_URL,cachedClients={};function Client(configuration){var configurationJSON,gatewayConfiguration;if(configuration=configuration||{},configurationJSON=JSON.stringify(configuration),!(gatewayConfiguration=configuration.gatewayConfiguration))throw new BraintreeError(errors.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(property){if(property in gatewayConfiguration&&!isVerifiedDomain(gatewayConfiguration[property]))throw new BraintreeError({type:errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:property+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(configurationJSON)},this._request=request,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=gatewayConfiguration.clientApiUrl+"/v1/",gatewayConfiguration.graphQL){if(!isVerifiedDomain(gatewayConfiguration.graphQL.url))throw new BraintreeError({type:errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new GraphQL({graphQL:gatewayConfiguration.graphQL})}}Client.initialize=function(options){var clientInstance,authData,promise=cachedClients[options.authorization];if(promise)return analytics.sendEvent(promise,"custom.client.load.cached"),promise;try{authData=createAuthorizationData(options.authorization)}catch(err){return Promise.reject(new BraintreeError(errors.CLIENT_INVALID_AUTHORIZATION))}return promise=getGatewayConfiguration(authData,options.sessionId).then(function(configuration){return options.debug&&(configuration.isDebug=!0),configuration.authorization=options.authorization,clientInstance=new Client(configuration)}),cachedClients[options.authorization]=promise,analytics.sendEvent(promise,"custom.client.load.initialized"),promise.then(function(client){return analytics.sendEvent(clientInstance,"custom.client.load.succeeded"),client}).catch(function(err){return delete cachedClients[options.authorization],Promise.reject(err)})},Client.clearCache=function(){cachedClients={}},Client.prototype._findOrCreateFraudnetJSON=function(clientMetadataId){var additionalData,config,el=document.querySelector('script[fncls="'+FRAUDNET_FNCLS+'"]');el||((el=document.body.appendChild(document.createElement("script"))).type="application/json",el.setAttribute("fncls",FRAUDNET_FNCLS)),config=this.getConfiguration(),additionalData={rda_tenant:"bt_card",mid:config.gatewayConfiguration.merchantId},(config=config.authorizationFingerprint)&&config.split("&").forEach(function(pieces){pieces=pieces.split("=");"customer_id"===pieces[0]&&1<pieces.length&&(additionalData.cid=pieces[1])}),config={f:clientMetadataId.substr(0,32),fp:additionalData,bu:!1,s:FRAUDNET_SOURCE},el.text=JSON.stringify(config)},Client.prototype.request=function(options,callback){var self=this,requestPromise=new Promise(function(resolve,reject){var api,baseUrl,optionName,configuration,shouldCollectData=Boolean("payment_methods/credit_cards"===options.endpoint&&self.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==options.api&&(options.method?options.endpoint||(optionName="options.endpoint"):optionName="options.method"),optionName)throw new BraintreeError({type:errors.CLIENT_OPTION_REQUIRED.type,code:errors.CLIENT_OPTION_REQUIRED.code,message:optionName+" is required when making a request."});if(api="api"in options?options.api:"clientApi",optionName={method:options.method,graphQL:self._graphQL,timeout:options.timeout,metadata:self._configuration.analyticsMetadata},"clientApi"===api)baseUrl=self._clientApiBaseUrl,optionName.data=metadata.addMetadata(self._configuration,options.data);else{if("graphQLApi"!==api)throw new BraintreeError({type:errors.CLIENT_OPTION_INVALID.type,code:errors.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});baseUrl=GRAPHQL_URLS[self._configuration.gatewayConfiguration.environment],options.endpoint="",optionName.method="post",optionName.data=assign({clientSdkMetadata:{platform:self._configuration.analyticsMetadata.platform,source:self._configuration.analyticsMetadata.source,integration:self._configuration.analyticsMetadata.integration,sessionId:self._configuration.analyticsMetadata.sessionId,version:VERSION}},options.data),optionName.headers={Authorization:"Bearer "+((configuration=self._configuration).authorizationFingerprint||configuration.authorization),"Braintree-Version":BRAINTREE_VERSION}}optionName.url=baseUrl+options.endpoint,optionName.sendAnalyticsEvent=function(kind){analytics.sendEvent(self,kind)},self._request(optionName,function(err,data,status){var err=function(status,err){var requestError;-1===status?requestError=new BraintreeError(errors.CLIENT_REQUEST_TIMEOUT):401===status?requestError=new BraintreeError(errors.CLIENT_AUTHORIZATION_INVALID):403===status?requestError=new BraintreeError(errors.CLIENT_AUTHORIZATION_INSUFFICIENT):429===status?requestError=new BraintreeError(errors.CLIENT_RATE_LIMITED):500<=status?requestError=new BraintreeError(errors.CLIENT_GATEWAY_NETWORK):(status<200||400<=status)&&(requestError=convertToBraintreeError(err,{type:errors.CLIENT_REQUEST_ERROR.type,code:errors.CLIENT_REQUEST_ERROR.code,message:errors.CLIENT_REQUEST_ERROR.message}));if(requestError)return requestError.details=requestError.details||{},requestError.details.httpStatus=status,requestError}(status,err);err?reject(err):"graphQLApi"===api&&data.errors?reject(convertToBraintreeError(data.errors,{type:errors.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:errors.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:errors.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(err=assign({_httpStatus:status},data),shouldCollectData&&err.creditCards&&0<err.creditCards.length&&(self._findOrCreateFraudnetJSON(err.creditCards[0].nonce),assets.loadScript({src:FRAUDNET_URL,forceScriptReload:!0})),resolve(err))})});if("function"!=typeof callback)return requestPromise;callback=once(deferred(callback)),requestPromise.then(function(response){callback(null,response,response._httpStatus)}).catch(function(err){var status=err&&err.details&&err.details.httpStatus;callback(err,null,status)})},Client.prototype.toJSON=function(){return this.getConfiguration()},Client.prototype.getVersion=function(){return VERSION},Client.prototype.teardown=wrapPromise(function(){return delete cachedClients[this.getConfiguration().authorization],convertMethodsToError(this,methods(Client.prototype)),Promise.resolve()}),module.exports=Client},{"../lib/add-metadata":29,"../lib/analytics":30,"../lib/assets":31,"../lib/assign":32,"../lib/braintree-error":33,"../lib/constants":34,"../lib/convert-methods-to-error":35,"../lib/convert-to-braintree-error":36,"../lib/create-authorization-data":37,"../lib/deferred":38,"../lib/is-verified-domain":43,"../lib/methods":45,"../lib/once":46,"./constants":10,"./errors":11,"./get-configuration":12,"./request":25,"./request/graphql":23,"@braintree/wrap-promise":7}],10:[function(_dereq_,module,exports){"use strict";module.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],11:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("../lib/braintree-error");module.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:_dereq_.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:_dereq_.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:_dereq_.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:_dereq_.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:_dereq_.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:_dereq_.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:_dereq_.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:_dereq_.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:_dereq_.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:_dereq_.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:_dereq_.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:_dereq_.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":33}],12:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),wrapPromise=_dereq_("@braintree/wrap-promise"),request=_dereq_("./request"),uuid=_dereq_("@braintree/uuid"),constants=_dereq_("../lib/constants"),errors=_dereq_("./errors"),GraphQL=_dereq_("./request/graphql"),GRAPHQL_URLS=_dereq_("../lib/constants").GRAPHQL_URLS,isDateStringBeforeOrOn=_dereq_("../lib/is-date-string-before-or-on"),BRAINTREE_VERSION=_dereq_("./constants").BRAINTREE_VERSION;module.exports={getConfiguration:wrapPromise(function(authData,inputSessionId){return new Promise(function(resolve,reject){var configuration,sessionId=inputSessionId||uuid(),analyticsMetadata={merchantAppId:window.location.host,platform:constants.PLATFORM,sdkVersion:constants.VERSION,source:constants.SOURCE,integration:constants.INTEGRATION,integrationType:constants.INTEGRATION,sessionId:sessionId},attrs=authData.attrs,sessionId=authData.configUrl;attrs._meta=analyticsMetadata,attrs.braintreeLibraryVersion=constants.BRAINTREE_LIBRARY_VERSION,attrs.configVersion="3",sessionId={url:sessionId,method:"GET",data:attrs},attrs.authorizationFingerprint&&authData.graphQL?(isDateStringBeforeOrOn(authData.graphQL.date,BRAINTREE_VERSION)&&(sessionId.graphQL=new GraphQL({graphQL:{url:authData.graphQL.url,features:["configuration"]}})),sessionId.metadata=analyticsMetadata):attrs.tokenizationKey&&(sessionId.graphQL=new GraphQL({graphQL:{url:GRAPHQL_URLS[authData.environment],features:["configuration"]}}),sessionId.metadata=analyticsMetadata),request(sessionId,function(err,response,status){err?(status=403===status?errors.CLIENT_AUTHORIZATION_INSUFFICIENT:401===status?errors.CLIENT_AUTHORIZATION_INVALID:errors.CLIENT_GATEWAY_NETWORK,reject(new BraintreeError({type:status.type,code:status.code,message:status.message,details:{originalError:err}}))):(configuration={authorizationType:attrs.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:attrs.authorizationFingerprint,analyticsMetadata:analyticsMetadata,gatewayConfiguration:response},resolve(configuration))})})})}},{"../lib/braintree-error":33,"../lib/constants":34,"../lib/is-date-string-before-or-on":41,"./constants":10,"./errors":11,"./request":25,"./request/graphql":23,"@braintree/uuid":3,"@braintree/wrap-promise":7}],13:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),Client=_dereq_("./client"),wrapPromise=_dereq_("@braintree/wrap-promise"),sharedErrors=_dereq_("../lib/errors");module.exports={create:wrapPromise(function(options){return options.authorization?Client.initialize(options):Promise.reject(new BraintreeError({type:sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,code:sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}),VERSION:"3.130.0"}},{"../lib/braintree-error":33,"../lib/errors":40,"./client":9,"@braintree/wrap-promise":7}],14:[function(_dereq_,module,exports){"use strict";var querystring=_dereq_("../../lib/querystring"),assign=_dereq_("../../lib/assign").assign,prepBody=_dereq_("./prep-body"),parseBody=_dereq_("./parse-body"),xhr=_dereq_("./xhr"),isXHRAvailable=xhr.isAvailable,GraphQLRequest=_dereq_("./graphql/request"),DefaultRequest=_dereq_("./default-request"),MAX_TCP_RETRYCOUNT=1,TCP_PRECONNECT_BUG_STATUS_CODE=408;function _requestWithRetry(options,tcpRetryCount,cb){var status,resBody,ajaxRequest,method,headers,parsedBody,url=options.url,graphQL=options.graphQL,timeout=options.timeout,req=xhr.getRequestObject(),callback=cb,isGraphQLRequest=Boolean(graphQL&&graphQL.isGraphQLRequest(url,options.data));options.headers=assign({"Content-Type":"application/json"},options.headers),url=(ajaxRequest=new(isGraphQLRequest?GraphQLRequest:DefaultRequest)(options)).getUrl(),graphQL=ajaxRequest.getBody(),method=ajaxRequest.getMethod(),headers=ajaxRequest.getHeaders(),"GET"===method&&(url=querystring.queryify(url,graphQL),graphQL=null),isXHRAvailable?req.onreadystatechange=function(){var body;4===req.readyState&&(0===req.status&&isGraphQLRequest?(delete options.graphQL,_requestWithRetry(options,tcpRetryCount,cb)):(parsedBody=parseBody(req.responseText),resBody=ajaxRequest.adaptResponseBody(parsedBody),400<=(status=ajaxRequest.determineStatus(req.status,parsedBody))||status<200?!isGraphQLRequest||"UNKNOWN"!==(body=!(body=parsedBody).data&&body.errors&&body.errors[0]&&body.errors[0].extensions&&body.errors[0].extensions.errorClass)&&"INTERNAL"!==body?tcpRetryCount<MAX_TCP_RETRYCOUNT&&function(status){return!status||status===TCP_PRECONNECT_BUG_STATUS_CODE}(status)?_requestWithRetry(options,++tcpRetryCount,cb):callback(resBody||"error",null,status||500):(delete options.graphQL,_requestWithRetry(options,tcpRetryCount,cb)):callback(null,resBody,status)))}:(options.headers&&(url=querystring.queryify(url,headers)),req.onload=function(){callback(null,parseBody(req.responseText),req.status)},req.onerror=function(){callback("error",null,500)},req.onprogress=function(){},req.ontimeout=function(){callback("timeout",null,-1)});try{req.open(method,url,!0)}catch(requestOpenError){if(isGraphQLRequest)return delete options.graphQL,void _requestWithRetry(options,tcpRetryCount,cb);throw requestOpenError}req.timeout=timeout,isXHRAvailable&&Object.keys(headers).forEach(function(headerKey){req.setRequestHeader(headerKey,headers[headerKey])});try{req.send(prepBody(method,graphQL))}catch(err){}}module.exports={request:function(options,cb){_requestWithRetry(options,0,cb)}}},{"../../lib/assign":32,"../../lib/querystring":47,"./default-request":15,"./graphql/request":24,"./parse-body":26,"./prep-body":27,"./xhr":28}],15:[function(_dereq_,module,exports){"use strict";function DefaultRequest(options){this._url=options.url,this._data=options.data,this._method=options.method,this._headers=options.headers}DefaultRequest.prototype.getUrl=function(){return this._url},DefaultRequest.prototype.getBody=function(){return this._data},DefaultRequest.prototype.getMethod=function(){return this._method},DefaultRequest.prototype.getHeaders=function(){return this._headers},DefaultRequest.prototype.adaptResponseBody=function(parsedBody){return parsedBody},DefaultRequest.prototype.determineStatus=function(status){return status},module.exports=DefaultRequest},{}],16:[function(_dereq_,module,exports){"use strict";var errorResponseAdapter=_dereq_("./error"),assign=_dereq_("../../../../lib/assign").assign,cardTypeTransforms={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function mapCardTypes(cardTypes,cardTypeTransformMap){return cardTypes.reduce(function(acc,type){return cardTypeTransformMap.hasOwnProperty(type)?acc.concat(cardTypeTransformMap[type]):acc},[])}module.exports=function(responseBody,ctx){return ctx=responseBody.data&&!responseBody.errors?function(body,ctx){var response,body=body.data.clientConfiguration;response={environment:body.environment.toLowerCase(),clientApiUrl:body.clientApiUrl,assetsUrl:body.assetsUrl,analytics:{url:body.analyticsUrl},merchantId:body.merchantId,venmo:"off"},body.supportedFeatures&&(response.graphQL={url:ctx._graphQL._config.url,features:body.supportedFeatures.map(function(feature){return feature.toLowerCase()})});body.braintreeApi&&(response.braintreeApi=body.braintreeApi);body.applePayWeb&&(response.applePayWeb=body.applePayWeb,response.applePayWeb.supportedNetworks=mapCardTypes(body.applePayWeb.supportedCardBrands,cardTypeTransforms.applePayWeb),delete response.applePayWeb.supportedCardBrands);body.fastlane&&(response.fastlane=body.fastlane);body.ideal&&(response.ideal=body.ideal);body.creditCard?(response.challenges=body.creditCard.challenges.map(function(challenge){return challenge.toLowerCase()}),response.creditCards={supportedCardTypes:mapCardTypes(body.creditCard.supportedCardBrands,cardTypeTransforms.creditCard)},response.threeDSecureEnabled=body.creditCard.threeDSecureEnabled,response.threeDSecure=body.creditCard.threeDSecure):(response.challenges=[],response.creditCards={supportedCardTypes:[]},response.threeDSecureEnabled=!1);body.googlePay&&(response.androidPay={displayName:body.googlePay.displayName,enabled:!0,environment:body.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:body.googlePay.googleAuthorization,paypalClientId:body.googlePay.paypalClientId,supportedNetworks:mapCardTypes(body.googlePay.supportedCardBrands,cardTypeTransforms.googlePay)});body.venmo&&(response.payWithVenmo={merchantId:body.venmo.merchantId,accessToken:body.venmo.accessToken,environment:body.venmo.environment.toLowerCase(),enrichedCustomerDataEnabled:body.venmo.enrichedCustomerDataEnabled});body.paypal?(response.paypalEnabled=!0,response.paypal=assign({},body.paypal),response.paypal.currencyIsoCode=response.paypal.currencyCode,response.paypal.environment=response.paypal.environment.toLowerCase(),delete response.paypal.currencyCode):response.paypalEnabled=!1;body.unionPay&&(response.unionPay={enabled:!0,merchantAccountId:body.unionPay.merchantAccountId});body.visaCheckout&&(response.visaCheckout={apikey:body.visaCheckout.apiKey,encryptionKey:body.visaCheckout.encryptionKey,externalClientId:body.visaCheckout.externalClientId,supportedCardTypes:mapCardTypes(body.visaCheckout.supportedCardBrands,cardTypeTransforms.visaCheckout)});body.masterpass&&(response.masterpass={merchantCheckoutId:body.masterpass.merchantCheckoutId,supportedNetworks:mapCardTypes(body.masterpass.supportedCardBrands,cardTypeTransforms.masterpass)});body.usBankAccount&&(response.usBankAccount={routeId:body.usBankAccount.routeId,plaid:{publicKey:body.usBankAccount.plaidPublicKey}});return response}(responseBody,ctx):errorResponseAdapter(responseBody)}},{"../../../../lib/assign":32,"./error":19}],17:[function(_dereq_,module,exports){"use strict";var errorResponseAdapter=_dereq_("./error"),CARD_BRAND_MAP={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},BIN_DATA_MAP={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},AUTHENTICATION_INSIGHT_MAP={PSDTWO:"psd2"};module.exports=function(responseBody){return responseBody=(responseBody.data&&!responseBody.errors?function(body){var body=body.data.tokenizeCreditCardForPayPalConnect,creditCard=body.paymentMethod.details,lastTwo=creditCard.last4?creditCard.last4.substr(2,4):"",binData=creditCard.binData;binData&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(key){binData[key]?binData[key]=BIN_DATA_MAP[binData[key]]:binData[key]="Unknown"}),["issuingBank","countryOfIssuance","productId","business","consumer","purchase","corporate"].forEach(function(key){binData[key]||(binData[key]="Unknown")}));creditCard={creditCards:[{binData:binData,consumed:!1,description:lastTwo?"ending in "+lastTwo:"",nonce:body.paymentMethod.id,details:{cardholderName:creditCard.cardholderName,expirationMonth:creditCard.expirationMonth,expirationYear:creditCard.expirationYear,bin:creditCard.bin||"",cardType:CARD_BRAND_MAP[creditCard.brandCode]||"Unknown",lastFour:creditCard.last4||"",lastTwo:lastTwo},type:"CreditCard",threeDSecureInfo:null}]},body.authenticationInsight&&(lastTwo=body.authenticationInsight.customerAuthenticationRegulationEnvironment,creditCard.creditCards[0].authenticationInsight={regulationEnvironment:AUTHENTICATION_INSIGHT_MAP[lastTwo]||lastTwo.toLowerCase()});return creditCard}:errorResponseAdapter)(responseBody)}},{"./error":19}],18:[function(_dereq_,module,exports){"use strict";var errorResponseAdapter=_dereq_("./error"),CARD_BRAND_MAP={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},BIN_DATA_MAP={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},AUTHENTICATION_INSIGHT_MAP={PSDTWO:"psd2"};module.exports=function(responseBody){return responseBody=(responseBody.data&&!responseBody.errors?function(body){var body=body.data.tokenizeCreditCard,creditCard=body.creditCard,lastTwo=creditCard.last4?creditCard.last4.substr(2,4):"",binData=creditCard.binData;binData&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(key){binData[key]?binData[key]=BIN_DATA_MAP[binData[key]]:binData[key]="Unknown"}),["issuingBank","countryOfIssuance","productId","business","consumer","purchase","corporate"].forEach(function(key){binData[key]||(binData[key]="Unknown")}));creditCard={creditCards:[{binData:binData,consumed:!1,description:lastTwo?"ending in "+lastTwo:"",nonce:body.token,details:{cardholderName:creditCard.cardholderName,expirationMonth:creditCard.expirationMonth,expirationYear:creditCard.expirationYear,bin:creditCard.bin||"",cardType:CARD_BRAND_MAP[creditCard.brandCode]||"Unknown",lastFour:creditCard.last4||"",lastTwo:lastTwo},type:"CreditCard",threeDSecureInfo:null}]},body.authenticationInsight&&(lastTwo=body.authenticationInsight.customerAuthenticationRegulationEnvironment,creditCard.creditCards[0].authenticationInsight={regulationEnvironment:AUTHENTICATION_INSIGHT_MAP[lastTwo]||lastTwo.toLowerCase()});return creditCard}:errorResponseAdapter)(responseBody)}},{"./error":19}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(responseBody){var errorClass=responseBody.errors&&responseBody.errors[0]&&responseBody.errors[0].extensions&&responseBody.errors[0].extensions.errorClass;return errorClass="VALIDATION"===errorClass?function(responseBody){var fieldErrors=function(errors){var fieldErrors=[];return errors.forEach(function(error){error.extensions&&error.extensions.inputPath&&!function addFieldError(inputPath,errorDetail,fieldErrors){var fieldError;var legacyCode=errorDetail.extensions.legacyCode;var inputField=inputPath[0];if(1===inputPath.length)return void fieldErrors.push({code:legacyCode,field:inputField,message:errorDetail.message});fieldErrors.forEach(function(candidate){candidate.field===inputField&&(fieldError=candidate)});fieldError||(fieldError={field:inputField,fieldErrors:[]},fieldErrors.push(fieldError));addFieldError(inputPath.slice(1),errorDetail,fieldError.fieldErrors)}(error.extensions.inputPath.slice(1),error,fieldErrors)}),fieldErrors}(responseBody.errors);return 0!==fieldErrors.length?{error:{message:function(errors){errors=errors[0].field;return{creditCard:"Credit card is invalid"}[errors]}(fieldErrors)},fieldErrors:fieldErrors}:{error:{message:responseBody.errors[0].message}}}(responseBody):errorClass?{error:{message:responseBody.errors[0].message},fieldErrors:[]}:{error:{message:"There was a problem serving your request"},fieldErrors:[]}}},{}],20:[function(_dereq_,module,exports){"use strict";module.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT         cardinalSongbirdUrl         cardinalSongbirdIdentityHash       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     fastlane {       enabled       tokensOnDemand {         enabled         tokenExchange {           enabled         }       }     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment       enrichedCustomerDataEnabled    }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],21:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("../../../../lib/assign").assign;function createCreditCardForFastlaneTokenizationBody(body,options){var creditCard=body.creditCard,fastlane=creditCard.fastlane||{},termsAndConditionsVersion="fastlane"in creditCard&&"termsAndConditionsVersion"in creditCard.fastlane&&creditCard.fastlane.termsAndConditionsVersion,termsAndConditionsCountry="fastlane"in creditCard&&"termsAndConditionsCountry"in creditCard.fastlane&&creditCard.fastlane.termsAndConditionsCountry,email=creditCard.email,optIn="hasBuyerConsent"in fastlane&&fastlane.hasBuyerConsent,shippingAddress=creditCard.shippingAddress,body=function(body,options){var cc=body.creditCard,billingAddress=cc&&cc.billingAddress,expDate=cc&&cc.expirationDate,expirationMonth=cc&&(cc.expirationMonth||expDate&&expDate.split("/")[0].trim()),expDate=cc&&(cc.expirationYear||expDate&&expDate.split("/")[1].trim()),expirationMonth={input:{creditCard:{number:cc&&cc.number,expirationMonth:expirationMonth,expirationYear:expDate,cvv:cc&&cc.cvv,cardholderName:cc&&cc.cardholderName},options:{}}};options.hasAuthenticationInsight&&(expirationMonth.authenticationInsightInput={merchantAccountId:body.merchantAccountId});billingAddress&&(expirationMonth.input.creditCard.billingAddress=billingAddress);return expirationMonth.input=function(body,input){var validate;body.creditCard&&body.creditCard.options&&"boolean"==typeof body.creditCard.options.validate?validate=body.creditCard.options.validate:body.authorizationFingerprint&&body.tokenizationKey||body.authorizationFingerprint?validate=!0:body.tokenizationKey&&(validate=!1);"boolean"==typeof validate&&(input.options=assign({validate:validate},input.options));return input}(body,expirationMonth.input),expirationMonth}(body,options),options=assign({},body.input,{email:email,optIn:optIn,phone:creditCard.phone});return termsAndConditionsVersion&&(options.termsAndConditionsVersion=termsAndConditionsVersion),termsAndConditionsCountry&&(options.termsAndConditionsCountry=termsAndConditionsCountry),"authAssertion"in fastlane&&(options.authAssertion=fastlane.authAssertion),shippingAddress&&(options.shippingAddress=shippingAddress),{input:options}}module.exports=function(body){var config,mutation,options={hasAuthenticationInsight:Boolean(body.authenticationInsight&&body.merchantAccountId)};return{query:(config=(config=options).hasAuthenticationInsight,mutation="mutation TokenizeCreditCardForPayPalConnect($input: TokenizeCreditCardForPayPalConnectInput!",config&&(mutation+=", $authenticationInsightInput: AuthenticationInsightInput!"),mutation+=") {   tokenizeCreditCardForPayPalConnect(input: $input) {     clientMutationId     paymentMethod {       id       details {         ... on CreditCardDetails {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId         business         consumer         purchase         corporate       }         }       }     }",config&&(mutation+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),mutation+="  } }"),variables:createCreditCardForFastlaneTokenizationBody(body,options),operationName:"TokenizeCreditCardForPayPalConnect"}}},{"../../../../lib/assign":32}],22:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("../../../../lib/assign").assign;function createCreditCardTokenizationBody(body,options){var cc=body.creditCard,billingAddress=cc&&cc.billingAddress,expDate=cc&&cc.expirationDate,expirationMonth=cc&&(cc.expirationMonth||expDate&&expDate.split("/")[0].trim()),expDate=cc&&(cc.expirationYear||expDate&&expDate.split("/")[1].trim()),expirationMonth={input:{creditCard:{number:cc&&cc.number,expirationMonth:expirationMonth,expirationYear:expDate,cvv:cc&&cc.cvv,cardholderName:cc&&cc.cardholderName},options:{}}};return options.hasAuthenticationInsight&&(expirationMonth.authenticationInsightInput={merchantAccountId:body.merchantAccountId}),billingAddress&&(expirationMonth.input.creditCard.billingAddress=billingAddress),expirationMonth.input=function(body,input){var validate;body.creditCard&&body.creditCard.options&&"boolean"==typeof body.creditCard.options.validate?validate=body.creditCard.options.validate:body.authorizationFingerprint&&body.tokenizationKey||body.authorizationFingerprint?validate=!0:body.tokenizationKey&&(validate=!1);"boolean"==typeof validate&&(input.options=assign({validate:validate},input.options));return input}(body,expirationMonth.input),expirationMonth}module.exports=function(body){var config,mutation,options={hasAuthenticationInsight:Boolean(body.authenticationInsight&&body.merchantAccountId)};return{query:(config=(config=options).hasAuthenticationInsight,mutation="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!",config&&(mutation+=", $authenticationInsightInput: AuthenticationInsightInput!"),mutation+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId         business         consumer         purchase         corporate       }     } ",config&&(mutation+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),mutation+="  } }"),variables:createCreditCardTokenizationBody(body,options),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":32}],23:[function(_dereq_,module,exports){"use strict";var features={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},disallowedInputPaths=["creditCard.options.unionPayEnrollment"];function GraphQL(config){this._config=config.graphQL}GraphQL.prototype.getGraphQLEndpoint=function(){return this._config.url},GraphQL.prototype.isGraphQLRequest=function(url,body){var path=this.getClientApiPath(url);return!(!this._isGraphQLEnabled()||!path||(url=this._config.features.some(function(feature){return features[feature]===path}),function(body){return disallowedInputPaths.some(function(keys){return void 0!==keys.split(".").reduce(function(accumulator,key){return accumulator&&accumulator[key]},body)})}(body)))&&url},GraphQL.prototype.getClientApiPath=function(url){var path,url=url.split("/client_api/v1/");return path=1<url.length?url[1].split("?")[0]:path},GraphQL.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},module.exports=GraphQL},{}],24:[function(_dereq_,module,exports){"use strict";var BRAINTREE_VERSION=_dereq_("../../constants").BRAINTREE_VERSION,assign=_dereq_("../../../lib/assign").assign,snakeCaseToCamelCase=_dereq_("../../../lib/snake-case-to-camel-case"),isFastlaneCheckout=_dereq_("../../../lib/is-fastlane-checkout"),creditCardTokenizationBodyGenerator=_dereq_("./generators/credit-card-tokenization"),creditCardTokenizationResponseAdapter=_dereq_("./adapters/credit-card-tokenization"),creditCardTokenizationFastlaneResponseAdapter=_dereq_("./adapters/credit-card-tokenization-fastlane"),creditCardForFastlaneTokenizationBodyGenerator=_dereq_("./generators/credit-card-for-fastlane-tokenization"),configurationBodyGenerator=_dereq_("./generators/configuration"),_dereq_=_dereq_("./adapters/configuration"),generators={"payment_methods/credit_cards":function(data,isFastlane){return(isFastlane?creditCardForFastlaneTokenizationBodyGenerator:creditCardTokenizationBodyGenerator)(data)},configuration:configurationBodyGenerator},adapters={"payment_methods/credit_cards":function(parsedBody,context,isFastlane){return(isFastlane?creditCardTokenizationFastlaneResponseAdapter:creditCardTokenizationResponseAdapter)(parsedBody,context)},configuration:_dereq_};function GraphQLRequest(options){var clientApiPath=options.graphQL.getClientApiPath(options.url);this._graphQL=options.graphQL,this._data=options.data,this._method=options.method,this._headers=options.headers,this._clientSdkMetadata={source:options.metadata.source,integration:options.metadata.integration,sessionId:options.metadata.sessionId},this._sendAnalyticsEvent=options.sendAnalyticsEvent||Function.prototype,this._generator=generators[clientApiPath],this._adapter=adapters[clientApiPath],this._sendAnalyticsEvent("graphql.init")}GraphQLRequest.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},GraphQLRequest.prototype.getBody=function(){var formattedBody=function formatBodyKeys(originalBody){var body={};Object.keys(originalBody).forEach(function(key){var camelCaseKey=snakeCaseToCamelCase(key);"object"==typeof originalBody[key]?body[camelCaseKey]=formatBodyKeys(originalBody[key]):"number"==typeof originalBody[key]?body[camelCaseKey]=String(originalBody[key]):body[camelCaseKey]=originalBody[key]});return body}(this._data),formattedBody=this._generator(formattedBody,isFastlaneCheckout(this._data.creditCard)),formattedBody=assign({clientSdkMetadata:this._clientSdkMetadata},formattedBody);return JSON.stringify(formattedBody)},GraphQLRequest.prototype.getMethod=function(){return"POST"},GraphQLRequest.prototype.getHeaders=function(){var authorization=this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),this._data.tokenizationKey);return assign({},this._headers,{Authorization:"Bearer "+authorization,"Braintree-Version":BRAINTREE_VERSION})},GraphQLRequest.prototype.adaptResponseBody=function(parsedBody){return this._adapter(parsedBody,this,"creditCard"in this._data&&isFastlaneCheckout(this._data.creditCard))},GraphQLRequest.prototype.determineStatus=function(httpStatus,parsedResponse){var errorClass=200===httpStatus?(errorClass=parsedResponse.errors&&parsedResponse.errors[0]&&parsedResponse.errors[0].extensions&&parsedResponse.errors[0].extensions.errorClass,parsedResponse.data&&!parsedResponse.errors?200:"VALIDATION"===errorClass?422:"AUTHORIZATION"===errorClass?403:"AUTHENTICATION"===errorClass?401:function(errorClass,parsedResponse){return!errorClass&&parsedResponse.errors[0].message}(errorClass,parsedResponse)?403:500):httpStatus||500;return this._sendAnalyticsEvent("graphql.status."+httpStatus),this._sendAnalyticsEvent("graphql.determinedStatus."+errorClass),errorClass},module.exports=GraphQLRequest},{"../../../lib/assign":32,"../../../lib/is-fastlane-checkout":42,"../../../lib/snake-case-to-camel-case":48,"../../constants":10,"./adapters/configuration":16,"./adapters/credit-card-tokenization":18,"./adapters/credit-card-tokenization-fastlane":17,"./generators/configuration":20,"./generators/credit-card-for-fastlane-tokenization":21,"./generators/credit-card-tokenization":22}],25:[function(_dereq_,module,exports){"use strict";var once=_dereq_("../../lib/once"),AJAXDriver=_dereq_("./ajax-driver");module.exports=function(options,cb){cb=once(cb||Function.prototype),options.method=(options.method||"GET").toUpperCase(),options.timeout=null==options.timeout?6e4:options.timeout,options.data=options.data||{},AJAXDriver.request(options,cb)}},{"../../lib/once":46,"./ajax-driver":14}],26:[function(_dereq_,module,exports){"use strict";module.exports=function(body){try{body=JSON.parse(body)}catch(err){}return body}},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(method,body){if("string"!=typeof method)throw new Error("Method must be a string");return body="get"!==method.toLowerCase()&&null!=body?"string"==typeof body?body:JSON.stringify(body):body}},{}],28:[function(_dereq_,module,exports){"use strict";var isXHRAvailable="undefined"!=typeof window&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;module.exports={isAvailable:isXHRAvailable,getRequestObject:function(){return new(isXHRAvailable?window.XMLHttpRequest:window.XDomainRequest)}}},{}],29:[function(_dereq_,module,exports){"use strict";var createAuthorizationData=_dereq_("./create-authorization-data"),jsonClone=_dereq_("./json-clone"),constants=_dereq_("./constants");module.exports={addMetadata:function(configuration,data){var key,attrs=data?jsonClone(data):{},data=createAuthorizationData(configuration.authorization).attrs,_meta=jsonClone(configuration.analyticsMetadata);for(key in attrs.braintreeLibraryVersion=constants.BRAINTREE_LIBRARY_VERSION,attrs._meta)attrs._meta.hasOwnProperty(key)&&(_meta[key]=attrs._meta[key]);return attrs._meta=_meta,data.tokenizationKey?attrs.tokenizationKey=data.tokenizationKey:attrs.authorizationFingerprint=data.authorizationFingerprint,attrs},addEventMetadata:function(clientInstanceOrPromise){var clientInstanceOrPromise=clientInstanceOrPromise.getConfiguration(),authAttrs=createAuthorizationData(clientInstanceOrPromise.authorization).attrs,isProd="production"===clientInstanceOrPromise.gatewayConfiguration.environment,isProd={api_integration_type:clientInstanceOrPromise.analyticsMetadata.integrationType,app_id:window.location.host,c_sdk_ver:constants.VERSION,component:"braintreeclientsdk",merchant_sdk_env:isProd?"production":"sandbox",merchant_id:clientInstanceOrPromise.gatewayConfiguration.merchantId,event_source:"web",platform:constants.PLATFORM,platform_version:window.navigator.userAgent,session_id:clientInstanceOrPromise.analyticsMetadata.sessionId,client_session_id:clientInstanceOrPromise.analyticsMetadata.sessionId,tenant_name:"braintree",product_name:"BT_DCC",space_key:"SKDUYK"};return authAttrs.tokenizationKey?isProd.tokenization_key=authAttrs.tokenizationKey:isProd.auth_fingerprint=authAttrs.authorizationFingerprint,isProd}}},{"./constants":34,"./create-authorization-data":37,"./json-clone":44}],30:[function(_dereq_,module,exports){"use strict";var constants=_dereq_("./constants"),metadata=_dereq_("./add-metadata"),assign=_dereq_("./assign").assign;function sendPaypalEventPlusFields(clientInstanceOrPromise,eventName,extraFields,callback){var timestamp=Date.now();return"vault"===extraFields.flow?extraFields.context_type="BA_Token":"checkout"===extraFields.flow&&(extraFields.context_type="EC_Token"),Promise.resolve(clientInstanceOrPromise).then(function(client){var request=client._request,url=constants.ANALYTICS_URL,qualifiedEvent=constants.ANALYTICS_PREFIX+eventName,isProd="production"===client.getConfiguration().gatewayConfiguration.environment,data={events:[],tracking:[]},client=metadata.addEventMetadata(client,data);return client.event_name=qualifiedEvent,client.t=timestamp,data.events=[{level:"info",event:qualifiedEvent,payload:assign({env:isProd?"production":"sandbox",timestamp:timestamp},extraFields)}],data.tracking=[client],extraFields&&"object"==typeof extraFields&&(data.tracking=[function(trackingMeta,extraFields){var allowedExtraFields=assign({},extraFields);return Object.keys(allowedExtraFields).forEach(function(field){-1===constants.ALLOWED_EXTRA_EVENT_FIELDS.indexOf(field)&&delete allowedExtraFields[field]}),assign(trackingMeta,allowedExtraFields)}(client,extraFields)]),request({url:url,method:"post",data:data,timeout:constants.ANALYTICS_REQUEST_TIMEOUT_MS},callback)}).catch(function(err){callback&&callback(err)})}module.exports={sendEvent:function(clientInstanceOrPromise,eventName,callback){return sendPaypalEventPlusFields(clientInstanceOrPromise,eventName,{},callback)},sendEventPlus:sendPaypalEventPlusFields}},{"./add-metadata":29,"./assign":32,"./constants":34}],31:[function(_dereq_,module,exports){"use strict";var loadScript=_dereq_("@braintree/asset-loader/load-script"),_dereq_=_dereq_("@paypal/accelerated-checkout-loader");module.exports={loadScript:loadScript,loadFastlane:_dereq_.loadAxo}},{"@braintree/asset-loader/load-script":2,"@paypal/accelerated-checkout-loader":8}],32:[function(_dereq_,module,exports){"use strict";var assignNormalized="function"==typeof Object.assign?Object.assign:assignPolyfill;function assignPolyfill(destination){for(var source,key,i=1;i<arguments.length;i++)for(key in source=arguments[i])source.hasOwnProperty(key)&&(destination[key]=source[key]);return destination}module.exports={assign:assignNormalized,_assign:assignPolyfill}},{}],33:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("./enumerate");function BraintreeError(options){if(!BraintreeError.types.hasOwnProperty(options.type))throw new Error(options.type+" is not a valid type.");if(!options.code)throw new Error("Error code required.");if(!options.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=options.code,this.message=options.message,this.type=options.type,this.details=options.details}((BraintreeError.prototype=Object.create(Error.prototype)).constructor=BraintreeError).types=_dereq_(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),BraintreeError.findRootError=function(err){return err instanceof BraintreeError&&err.details&&err.details.originalError?BraintreeError.findRootError(err.details.originalError):err},module.exports=BraintreeError},{"./enumerate":39}],34:[function(_dereq_,module,exports){"use strict";module.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ANALYTICS_URL:"https://www.paypal.com/xoplatform/logger/api/logger",ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.130.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.130.0",ALLOWED_EXTRA_EVENT_FIELDS:["context_id","context_type","payment_ready_button_order","payment_ready_experiment_type","payment_ready_page_type","payment_ready_session_id","button_type"]}},{}],35:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),sharedErrors=_dereq_("./errors");module.exports=function(instance,methodNames){methodNames.forEach(function(methodName){instance[methodName]=function(){throw new BraintreeError({type:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,code:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,message:methodName+" cannot be called after teardown."})}})}},{"./braintree-error":33,"./errors":40}],36:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error");module.exports=function(originalErr,btErrorObject){return originalErr instanceof BraintreeError?originalErr:new BraintreeError({type:btErrorObject.type,code:btErrorObject.code,message:btErrorObject.message,details:{originalError:originalErr}})}},{"./braintree-error":33}],37:[function(_dereq_,module,exports){"use strict";var atob=_dereq_("../lib/vendor/polyfill").atob,CLIENT_API_URLS=_dereq_("../lib/constants").CLIENT_API_URLS;module.exports=function(authorization){var tokenizationKey,environment,data={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(authorization)?(environment=(tokenizationKey=(tokenizationKey=authorization).split("_"))[0],tokenizationKey={merchantId:tokenizationKey.slice(2).join("_"),environment:environment},data.environment=tokenizationKey.environment,data.attrs.tokenizationKey=authorization,data.configUrl=CLIENT_API_URLS[tokenizationKey.environment]+"/merchants/"+tokenizationKey.merchantId+"/client_api/v1/configuration"):(environment=JSON.parse(atob(authorization)),data.environment=environment.environment,data.attrs.authorizationFingerprint=environment.authorizationFingerprint,data.configUrl=environment.configUrl,data.graphQL=environment.graphQL),data}},{"../lib/constants":34,"../lib/vendor/polyfill":49}],38:[function(_dereq_,module,exports){"use strict";module.exports=function(fn){return function(){var args=arguments;setTimeout(function(){fn.apply(null,args)},1)}}},{}],39:[function(_dereq_,module,exports){"use strict";module.exports=function(values,prefix){return prefix=null==prefix?"":prefix,values.reduce(function(enumeration,value){return enumeration[value]=prefix+value,enumeration},{})}},{}],40:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("./braintree-error");module.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:_dereq_.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:_dereq_.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:_dereq_.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:_dereq_.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:_dereq_.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":33}],41:[function(_dereq_,module,exports){"use strict";function convertDateStringToDate(dateString){dateString=dateString.split("-");return new Date(dateString[0],dateString[1],dateString[2])}module.exports=function(firstDate,secondDate){return convertDateStringToDate(firstDate)<=convertDateStringToDate(secondDate)}},{}],42:[function(_dereq_,module,exports){"use strict";module.exports=function(creditCardDetails){return creditCardDetails&&creditCardDetails.hasOwnProperty("fastlane")&&creditCardDetails.fastlane}},{}],43:[function(_dereq_,module,exports){"use strict";var parser,legalHosts={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};module.exports=function(url){return url=url.toLowerCase(),!!/^https:/.test(url)&&((parser=parser||document.createElement("a")).href=url,url=parser.hostname.split(".").slice(-2).join("."),legalHosts.hasOwnProperty(url))}},{}],44:[function(_dereq_,module,exports){"use strict";module.exports=function(value){return JSON.parse(JSON.stringify(value))}},{}],45:[function(_dereq_,module,exports){"use strict";module.exports=function(obj){return Object.keys(obj).filter(function(key){return"function"==typeof obj[key]})}},{}],46:[function(_dereq_,module,exports){"use strict";module.exports=function(fn){var called=!1;return function(){called||(called=!0,fn.apply(null,arguments))}}},{}],47:[function(_dereq_,module,exports){"use strict";function hasQueryParams(url){return url=url||window.location.href,/\?/.test(url)}function stringify(params,namespace){var v,p,value,query=[];for(p in params)params.hasOwnProperty(p)&&(v=params[p],value=namespace?(value=params)&&"object"==typeof value&&"number"==typeof value.length&&"[object Array]"===Object.prototype.toString.call(value)?namespace+"[]":namespace+"["+p+"]":p,query.push("object"==typeof v?stringify(v,value):encodeURIComponent(value)+"="+encodeURIComponent(v)));return query.join("&")}module.exports={parse:function(url){return hasQueryParams(url=url||window.location.href)?(url.split("?")[1]||"").replace(/#.*$/,"").split("&").reduce(function(toReturn,keyValue){var keyValue=keyValue.split("="),key=decodeURIComponent(keyValue[0]),keyValue=decodeURIComponent(keyValue[1]);return toReturn[key]=keyValue,toReturn},{}):{}},stringify:stringify,queryify:function(url,params){return url=url||"",url=null!=params&&"object"==typeof params&&function(obj){for(var key in obj)if(obj.hasOwnProperty(key))return 1}(params)?(url=(url+=-1===url.indexOf("?")?"?":"")+(-1!==url.indexOf("=")?"&":""))+stringify(params):url},hasQueryParams:hasQueryParams}},{}],48:[function(_dereq_,module,exports){"use strict";module.exports=function(snakeString){return-1===snakeString.indexOf("_")?snakeString:snakeString.toLowerCase().replace(/(\_\w)/g,function(match){return match[1].toUpperCase()})}},{}],49:[function(_dereq_,module,exports){"use strict";var atobNormalized="function"==typeof atob?atob:atobPolyfill;function atobPolyfill(base64String){var b,b1,b2,b3,i,characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",result="";if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$/.test(base64String))throw new Error("Non base64 encoded input passed to window.atob polyfill");for(i=0;b1=characters.indexOf(base64String.charAt(i++)),b=(15&(b2=characters.indexOf(base64String.charAt(i++))))<<4|(b3=characters.indexOf(base64String.charAt(i++)))>>2&15,b3=(3&b3)<<6|63&characters.indexOf(base64String.charAt(i++)),result+=String.fromCharCode((63&b1)<<2|b2>>4&3)+(b?String.fromCharCode(b):"")+(b3?String.fromCharCode(b3):""),i<base64String.length;);return result}module.exports={atob:function(base64String){return atobNormalized.call(window,base64String)},_atob:atobPolyfill}},{}]},{},[13])(13)}),function(f){var g;"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):((g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).braintree||(g.braintree={})).hostedFields=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(_dereq_,module,exports){"use strict";var scriptPromiseCache={};function loadScript(options){var scriptLoadPromise,script,attrs,container,stringifiedOptions=JSON.stringify(options);return!options.forceScriptReload&&(scriptLoadPromise=scriptPromiseCache[stringifiedOptions])||(script=document.createElement("script"),attrs=options.dataAttributes||{},container=options.container||document.head,script.src=options.src,script.id=options.id||"",script.async=!0,options.type&&script.setAttribute("type","".concat(options.type)),options.crossorigin&&script.setAttribute("crossorigin","".concat(options.crossorigin)),options.integrity&&script.setAttribute("integrity","".concat(options.integrity)),Object.keys(attrs).forEach(function(key){script.setAttribute("data-".concat(key),"".concat(attrs[key]))}),scriptLoadPromise=new Promise(function(resolve,reject){script.addEventListener("load",function(){resolve(script)}),script.addEventListener("error",function(){reject(new Error("".concat(options.src," failed to load.")))}),script.addEventListener("abort",function(){reject(new Error("".concat(options.src," has aborted.")))}),container.appendChild(script)}),scriptPromiseCache[stringifiedOptions]=scriptLoadPromise),scriptLoadPromise}loadScript.clearCache=function(){scriptPromiseCache={}},module.exports=loadScript},{}],2:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/load-script")},{"./dist/load-script":1}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return ua=ua||window.navigator.userAgent,/Android/i.test(ua)}},{}],4:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return ua=ua||window.navigator.userAgent,/CrOS/i.test(ua)}},{}],5:[function(_dereq_,module,exports){"use strict";var isEdge=_dereq_("./is-edge"),isSamsung=_dereq_("./is-samsung"),isDuckDuckGo=_dereq_("./is-duckduckgo"),isOpera=_dereq_("./is-opera"),isSilk=_dereq_("./is-silk");module.exports=function(ua){return!(-1===(ua=ua||window.navigator.userAgent).indexOf("Chrome")&&-1===ua.indexOf("CriOS")||isEdge(ua)||isSamsung(ua)||isDuckDuckGo(ua)||isOpera(ua)||isSilk(ua))}},{"./is-duckduckgo":6,"./is-edge":7,"./is-opera":13,"./is-samsung":14,"./is-silk":15}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||window.navigator.userAgent).indexOf("DuckDuckGo/")}},{}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||window.navigator.userAgent).indexOf("Edge/")||-1!==ua.indexOf("Edg/")}},{}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return ua=ua||window.navigator.userAgent,/Firefox/i.test(ua)}},{}],9:[function(_dereq_,module,exports){"use strict";var isIos=_dereq_("./is-ios");module.exports=function(ua){return ua=ua||window.navigator.userAgent,isIos(ua)&&/\bGSA\b/.test(ua)}},{"./is-ios":11}],10:[function(_dereq_,module,exports){"use strict";var isIos=_dereq_("./is-ios"),isIosGoogleSearchApp=_dereq_("./is-ios-google-search-app");module.exports=function(ua){return ua=ua||window.navigator.userAgent,!!isIos(ua)&&(!!isIosGoogleSearchApp(ua)||/.+AppleWebKit(?!.*Safari)/i.test(ua))}},{"./is-ios":11,"./is-ios-google-search-app":9}],11:[function(_dereq_,module,exports){"use strict";var isIpadOS=_dereq_("./is-ipados");module.exports=function(ua,checkIpadOS,document){void 0===checkIpadOS&&(checkIpadOS=!0),ua=ua||window.navigator.userAgent;var iOsTest=/iPhone|iPod|iPad/i.test(ua);return checkIpadOS?iOsTest||isIpadOS(ua,document):iOsTest}},{"./is-ipados":12}],12:[function(_dereq_,module,exports){"use strict";module.exports=function(ua,document){return ua=ua||window.navigator.userAgent,document=document||window.document,/Mac|iPad/i.test(ua)&&"ontouchend"in document}},{}],13:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||window.navigator.userAgent).indexOf("OPR/")||-1!==ua.indexOf("Opera/")||-1!==ua.indexOf("OPT/")}},{}],14:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return ua=ua||window.navigator.userAgent,/SamsungBrowser/i.test(ua)}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||window.navigator.userAgent).indexOf("Silk/")}},{}],16:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/is-android")},{"./dist/is-android":3}],17:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/is-chrome-os")},{"./dist/is-chrome-os":4}],18:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/is-chrome")},{"./dist/is-chrome":5}],19:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/is-firefox")},{"./dist/is-firefox":8}],20:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/is-ios-webview")},{"./dist/is-ios-webview":10}],21:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/is-ios")},{"./dist/is-ios":11}],22:[function(_dereq_,module,exports){"use strict";var EventEmitter=function(){function EventEmitter(){this._events={}}return EventEmitter.prototype.on=function(event,callback){this._events[event]?this._events[event].push(callback):this._events[event]=[callback]},EventEmitter.prototype.off=function(event,callback){event=this._events[event];event&&(callback=event.indexOf(callback),event.splice(callback,1))},EventEmitter.prototype._emit=function(event){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];event=this._events[event];event&&event.forEach(function(callback){callback.apply(void 0,args)})},EventEmitter.prototype.hasListener=function(event){event=this._events[event];return!!event&&0<event.length},EventEmitter.createChild=function(ChildObject){ChildObject.prototype=Object.create(EventEmitter.prototype,{constructor:ChildObject})},EventEmitter}();module.exports=EventEmitter},{}],23:[function(_dereq_,module,exports){"use strict";var set_attributes_1=_dereq_("./lib/set-attributes"),default_attributes_1=_dereq_("./lib/default-attributes"),assign_1=_dereq_("./lib/assign");module.exports=function(options){void 0===options&&(options={});var iframe=document.createElement("iframe"),options=(0,assign_1.assign)({},default_attributes_1.defaultAttributes,options);return options.style&&"string"!=typeof options.style&&((0,assign_1.assign)(iframe.style,options.style),delete options.style),(0,set_attributes_1.setAttributes)(iframe,options),iframe.getAttribute("id")||(iframe.id=iframe.name),iframe}},{"./lib/assign":24,"./lib/default-attributes":25,"./lib/set-attributes":26}],24:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assign=void 0,exports.assign=function(target){for(var objs=[],_i=1;_i<arguments.length;_i++)objs[_i-1]=arguments[_i];return objs.forEach(function(obj){"object"==typeof obj&&Object.keys(obj).forEach(function(key){target[key]=obj[key]})}),target}},{}],25:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultAttributes=void 0,exports.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],26:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAttributes=void 0,exports.setAttributes=function(element,attributes){for(var key in attributes){var value;attributes.hasOwnProperty(key)&&(null==(value=attributes[key])?element.removeAttribute(key):element.setAttribute(key,value))}}},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})}},{}],28:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deferred=function(fn){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];setTimeout(function(){try{fn.apply(void 0,args)}catch(err){console.log("Error in callback function"),console.log(err)}},1)}}},{}],29:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.once=function(fn){var called=!1;return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];called||(called=!0,fn.apply(void 0,args))}}},{}],30:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.promiseOrCallback=function(promise,callback){if(!callback)return promise;promise.then(function(data){return callback(null,data)}).catch(function(err){return callback(err)})}},{}],31:[function(_dereq_,module,exports){"use strict";var deferred_1=_dereq_("./lib/deferred"),once_1=_dereq_("./lib/once"),promise_or_callback_1=_dereq_("./lib/promise-or-callback");function wrapPromise(fn){return function(){for(var callback,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return"function"==typeof args[args.length-1]&&(callback=args.pop(),callback=once_1.once(deferred_1.deferred(callback))),promise_or_callback_1.promiseOrCallback(fn.apply(this,args),callback)}}wrapPromise.wrapPrototype=function(target,options){var ignoreMethods=(options=void 0===options?{}:options).ignoreMethods||[],includePrivateMethods=!0===options.transformPrivateMethods;return Object.getOwnPropertyNames(target.prototype).filter(function(method){var isNonConstructorFunction="constructor"!==method&&"function"==typeof target.prototype[method],isNotAnIgnoredMethod=-1===ignoreMethods.indexOf(method),method=includePrivateMethods||"_"!==method.charAt(0);return isNonConstructorFunction&&method&&isNotAnIgnoredMethod}).forEach(function(method){var original=target.prototype[method];target.prototype[method]=wrapPromise(original)}),target},module.exports=wrapPromise},{"./lib/deferred":28,"./lib/once":29,"./lib/promise-or-callback":30}],32:[function(_dereq_,module,exports){var global,factory;global=this,factory=function(exports){"use strict";function __awaiter(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g={next:verb(0),throw:verb(1),return:verb(2)};return"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){var op=[n,v];if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,(op=t?[2&op[0],t.value]:op)[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=0<(t=_.trys).length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else{if(!(t&&_.label<t[2])){t[2]&&_.ops.pop(),_.trys.pop();continue}_.label=t[2],_.ops.push(op)}}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}}var dist={},scriptPromiseCache={};function loadScript$1(options){var scriptLoadPromise,script,attrs,container,stringifiedOptions=JSON.stringify(options);return!options.forceScriptReload&&(scriptLoadPromise=scriptPromiseCache[stringifiedOptions])||(script=document.createElement("script"),attrs=options.dataAttributes||{},container=options.container||document.head,script.src=options.src,script.id=options.id||"",script.async=!0,options.type&&script.setAttribute("type","".concat(options.type)),options.crossorigin&&script.setAttribute("crossorigin","".concat(options.crossorigin)),Object.keys(attrs).forEach(function(key){script.setAttribute("data-".concat(key),"".concat(attrs[key]))}),scriptLoadPromise=new Promise(function(resolve,reject){script.addEventListener("load",function(){resolve(script)}),script.addEventListener("error",function(){reject(new Error("".concat(options.src," failed to load.")))}),script.addEventListener("abort",function(){reject(new Error("".concat(options.src," has aborted.")))}),container.appendChild(script)}),scriptPromiseCache[stringifiedOptions]=scriptLoadPromise),scriptLoadPromise}loadScript$1.clearCache=function(){scriptPromiseCache={}};var _b,loadScript_1$1=loadScript$1,loadScript_1=(Object.defineProperty(dist,"__esModule",{value:!0}),dist.loadStylesheet=loadScript_1=dist.loadScript=void 0,dist.loadScript=loadScript_1$1),FL_NAMESPACE=(dist.loadStylesheet=function(options){var container,stylesheet=document.querySelector('link[href="'.concat(options.href,'"]'));return stylesheet||(stylesheet=document.createElement("link"),container=options.container||document.head,stylesheet.setAttribute("rel","stylesheet"),stylesheet.setAttribute("type","text/css"),stylesheet.setAttribute("href",options.href),stylesheet.setAttribute("id",options.id),container.firstChild?container.insertBefore(stylesheet,container.firstChild):container.appendChild(stylesheet)),Promise.resolve(stylesheet)},"fastlane"),constants={AXO_ASSET_NAME:{minified:"axo",unminified:"axo.unminified"},AXO_ASSET_PATH:"connect-boba",LOCALE_PATH:"".concat("connect-boba","/locales/"),CDNX_PROD:"https://www.paypalobjects.com"},AxoSupportedPlatforms_BT="BT",AxoSupportedPlatforms_PPCP="PPCP";function isAmdEnv(){return"function"==typeof window.define&&!!window.define.amd}function safeLoadBtModule(loadConfig,version,minified){var _a;return void 0===minified&&(minified=!0),__awaiter(this,void 0,void 0,function(){var bt;return __generator(this,function(_c){if((bt=null===window||void 0===window?void 0:window.braintree)&&bt[loadConfig.module]){if(version&&(null==(_a=bt[loadConfig.module])?void 0:_a.VERSION)!==version)throw bt=null==(_a=bt[loadConfig.module])?void 0:_a.VERSION,new Error("".concat(loadConfig.module," already loaded with version ").concat(bt," cannot load version ").concat(version));return[2,!0]}if(version)return[2,function(loadConfig,version,minified){void 0===minified&&(minified=!0);{var module_1;if(isAmdEnv())return module_1=minified?loadConfig.amdModule.minified:loadConfig.amdModule.unminified,new Promise(function(resolve,reject){window.require([module_1],resolve,reject)})}minified=minified?loadConfig.script.minified:loadConfig.script.unminified;return loadScript_1({id:"".concat(loadConfig.id,"-").concat(version),src:"https://js.braintreegateway.com/web/".concat(version,"/js/").concat(minified)})}(loadConfig,version,minified)];throw new Error("Attempted to load ".concat(loadConfig.module," without specifying version"))})})}var _a,loadScript_1$1="client",dist="hostedFields",btModulesLoadConfig=((_a={})[loadScript_1$1]="client",_a[dist]="hosted-fields",(_b={})[loadScript_1$1]={id:"client",module:loadScript_1$1,amdModule:{unminified:"".concat("braintree","/").concat(_a[loadScript_1$1]),minified:"".concat("braintree","/").concat(_a[loadScript_1$1],".min")},script:{unminified:"".concat(_a[loadScript_1$1],".js"),minified:"".concat(_a[loadScript_1$1],".min.js")}},_b[dist]={id:"hcf",module:dist,amdModule:{unminified:"".concat("braintree","/").concat(_a[dist]),minified:"".concat("braintree","/").concat(_a[dist],".min")},script:{unminified:"".concat(_a[dist],".js"),minified:"".concat(_a[dist],".min.js")}},_b);function loadAXOScript(url,minified){var _a,moduleName_1;return void 0===minified&&(minified=!0),isAmdEnv()?(isAmdEnv()&&"function"==typeof window.requirejs&&"function"==typeof window.requirejs.config&&requirejs.config({paths:((_a={})[FL_NAMESPACE]=url,_a)}),moduleName_1="".concat(FL_NAMESPACE,"/").concat(minified?constants.AXO_ASSET_NAME.minified:constants.AXO_ASSET_NAME.unminified),new Promise(function(resolve,reject){window.require([moduleName_1],resolve,reject)})):loadScript_1({id:"axo-id",src:url,forceScriptReload:!0})}function generateAssetUrl(_a){var assetUrl=_a.assetUrl,_a=_a.bundleId;return(_a?"https://cdn-".concat(_a,".static.engineering.dev.paypalinc.com/"):"".concat(constants.CDNX_PROD,"/")).concat(assetUrl)}exports.constants=constants,exports.loadAxo=function(options){return __awaiter(this,void 0,void 0,function(){var btSdkVersion,minified,assetUrl,localeUrl;return __generator(this,function(_a){switch(_a.label){case 0:return performance.mark("pp_axo_sdk_init_invoked"),btSdkVersion=options.btSdkVersion,minified=options.minified,assetUrl=function(options){var assetName=!1!==(null==options?void 0:options.minified)?constants.AXO_ASSET_NAME.minified:constants.AXO_ASSET_NAME.unminified;return generateAssetUrl({assetUrl:isAmdEnv()?constants.AXO_ASSET_PATH:"".concat(constants.AXO_ASSET_PATH,"/").concat(assetName,".js"),bundleId:null==(assetName=null==options?void 0:options.metadata)?void 0:assetName.bundleIdOverride})}(options),localeUrl=function(options){return generateAssetUrl({assetUrl:constants.LOCALE_PATH,bundleId:null==(options=null==options?void 0:options.metadata)?void 0:options.bundleIdOverride})}(options),options.platform!==AxoSupportedPlatforms_BT?[3,2]:[4,Promise.all([safeLoadBtModule(btModulesLoadConfig.hostedFields,btSdkVersion,minified),loadAXOScript(assetUrl,minified)])];case 1:return _a.sent(),[3,5];case 2:return options.platform!==AxoSupportedPlatforms_PPCP?[3,4]:[4,Promise.all([safeLoadBtModule(btModulesLoadConfig.client,btSdkVersion,minified),safeLoadBtModule(btModulesLoadConfig.hostedFields,btSdkVersion,minified),loadAXOScript(assetUrl,minified)])];case 3:return _a.sent(),[3,5];case 4:throw new Error("unsupported axo platform");case 5:return[2,{metadata:{localeUrl:localeUrl}}]}})})}},"object"==typeof exports&&void 0!==module?factory(exports):factory((global="undefined"!=typeof globalThis?globalThis:global||self).loadAxo={})},{}],33:[function(_dereq_,module,exports){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},cardTypes=_dereq_("./lib/card-types"),add_matching_cards_to_results_1=_dereq_("./lib/add-matching-cards-to-results"),is_valid_input_type_1=_dereq_("./lib/is-valid-input-type"),find_best_match_1=_dereq_("./lib/find-best-match"),clone_1=_dereq_("./lib/clone"),customCards={},_dereq_={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",VERVE:"verve",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},ORIGINAL_TEST_ORDER=[_dereq_.VISA,_dereq_.MASTERCARD,_dereq_.AMERICAN_EXPRESS,_dereq_.DINERS_CLUB,_dereq_.DISCOVER,_dereq_.JCB,_dereq_.UNIONPAY,_dereq_.VERVE,_dereq_.MAESTRO,_dereq_.ELO,_dereq_.MIR,_dereq_.HIPER,_dereq_.HIPERCARD],testOrder=(0,clone_1.clone)(ORIGINAL_TEST_ORDER);function findType(cardType){return customCards[cardType]||cardTypes[cardType]}function getCardPosition(name,ignoreErrorForNotExisting){void 0===ignoreErrorForNotExisting&&(ignoreErrorForNotExisting=!1);var position=testOrder.indexOf(name);if(ignoreErrorForNotExisting||-1!==position)return position;throw new Error('"'+name+'" is not a supported card type.')}function creditCardType(cardNumber){var results=[];if(!(0,is_valid_input_type_1.isValidInputType)(cardNumber))return results;if(0===cardNumber.length)return testOrder.map(function(cardType){return(0,clone_1.clone)(findType(cardType))});testOrder.forEach(function(cardType){cardType=findType(cardType);(0,add_matching_cards_to_results_1.addMatchingCardsToResults)(cardNumber,cardType,results)});var bestMatch=(0,find_best_match_1.findBestMatch)(results);return bestMatch?[bestMatch]:results}creditCardType.getTypeInfo=function(cardType){return(0,clone_1.clone)(findType(cardType))},creditCardType.removeCard=function(name){name=getCardPosition(name);testOrder.splice(name,1)},creditCardType.addCard=function(config){var existingCardPosition=getCardPosition(config.type,!0);customCards[config.type]=config,-1===existingCardPosition&&testOrder.push(config.type)},creditCardType.updateCard=function(cardType,updates){var originalObject=customCards[cardType]||cardTypes[cardType];if(!originalObject)throw new Error('"'.concat(cardType,"\" is not a recognized type. Use `addCard` instead.'"));if(updates.type&&originalObject.type!==updates.type)throw new Error("Cannot overwrite type parameter.");cardType=(0,clone_1.clone)(originalObject),cardType=__assign(__assign({},cardType),updates);customCards[cardType.type]=cardType},creditCardType.changeOrder=function(name,position){var currentPosition=getCardPosition(name);testOrder.splice(currentPosition,1),testOrder.splice(position,0,name)},creditCardType.resetModifications=function(){testOrder=(0,clone_1.clone)(ORIGINAL_TEST_ORDER),customCards={}},creditCardType.types=_dereq_,module.exports=creditCardType},{"./lib/add-matching-cards-to-results":34,"./lib/card-types":35,"./lib/clone":36,"./lib/find-best-match":37,"./lib/is-valid-input-type":38}],34:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addMatchingCardsToResults=void 0;var clone_1=_dereq_("./clone"),matches_1=_dereq_("./matches");exports.addMatchingCardsToResults=function(cardNumber,cardConfiguration,results){for(var i=0;i<cardConfiguration.patterns.length;i++){var pattern=cardConfiguration.patterns[i];if((0,matches_1.matches)(cardNumber,pattern)){var clonedCardConfiguration=(0,clone_1.clone)(cardConfiguration),pattern=(Array.isArray(pattern)?String(pattern[0]):String(pattern)).length;cardNumber.length>=pattern&&(clonedCardConfiguration.matchStrength=pattern),results.push(clonedCardConfiguration);break}}}},{"./clone":36,"./matches":39}],35:[function(_dereq_,module,exports){"use strict";module.exports={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[62207,62209],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},verve:{niceType:"Verve",type:"verve",patterns:[[506099,506127],506129,[506133,506150],[506158,506163],506166,506168,506170,506173,[506176,506180],506184,[506187,506188],506191,506195,506197,507865,507866,[507868,507877],[507880,507888],507900,507941],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}}}},{}],36:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clone=void 0,exports.clone=function(originalObject){return originalObject?JSON.parse(JSON.stringify(originalObject)):null}},{}],37:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findBestMatch=void 0,exports.findBestMatch=function(results){return function(results){var numberOfResultsWithMaxStrengthProperty=results.filter(function(result){return result.matchStrength}).length;return 0<numberOfResultsWithMaxStrengthProperty&&numberOfResultsWithMaxStrengthProperty===results.length}(results)?results.reduce(function(bestMatch,result){return!bestMatch||Number(bestMatch.matchStrength)<Number(result.matchStrength)?result:bestMatch}):null}},{}],38:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidInputType=void 0,exports.isValidInputType=function(cardNumber){return"string"==typeof cardNumber||cardNumber instanceof String}},{}],39:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matches=void 0,exports.matches=function(cardNumber,pattern){return Array.isArray(pattern)?function(cardNumber,min,max){var maxLengthToCheck=String(min).length,cardNumber=cardNumber.substr(0,maxLengthToCheck),maxLengthToCheck=parseInt(cardNumber,10);return min=parseInt(String(min).substr(0,cardNumber.length),10),max=parseInt(String(max).substr(0,cardNumber.length),10),min<=maxLengthToCheck&&maxLengthToCheck<=max}(cardNumber,pattern[0],pattern[1]):function(cardNumber,pattern){return(pattern=String(pattern)).substring(0,cardNumber.length)===cardNumber.substring(0,pattern.length)}(cardNumber,pattern)}},{}],40:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Framebus=void 0;var lib_1=_dereq_("./lib"),DefaultPromise="undefined"!=typeof window&&window.Promise,_dereq_=function(){function Framebus(options){this.origin=(options=void 0===options?{}:options).origin||"*",this.channel=options.channel||"",this.verifyDomain=options.verifyDomain,this.targetFrames=options.targetFrames||[],this.limitBroadcastToFramesArray=Boolean(options.targetFrames),this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=Boolean(this.verifyDomain||this.limitBroadcastToFramesArray)}return Framebus.setPromise=function(PromiseGlobal){Framebus.Promise=PromiseGlobal},Framebus.target=function(options){return new Framebus(options)},Framebus.prototype.addTargetFrame=function(frame){this.limitBroadcastToFramesArray&&this.targetFrames.push(frame)},Framebus.prototype.include=function(childWindow){return null!=childWindow&&null!=childWindow.Window&&childWindow.constructor===childWindow.Window&&(lib_1.childWindows.push(childWindow),!0)},Framebus.prototype.target=function(options){return Framebus.target(options)},Framebus.prototype.emit=function(eventName,data,reply){if(this.isDestroyed)return!1;var origin=this.origin;if(eventName=this.namespaceEvent(eventName),(0,lib_1.isntString)(eventName))return!1;if((0,lib_1.isntString)(origin))return!1;"function"==typeof data&&(reply=data,data=void 0);var payload=(0,lib_1.packagePayload)(eventName,origin,data,reply);return!!payload&&(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(frame){(0,lib_1.sendMessage)(frame,payload,origin)}):(0,lib_1.broadcast)(payload,{origin:origin,frame:window.top||window.self}),!0)},Framebus.prototype.emitAsPromise=function(eventName,data){var _this=this;return new Framebus.Promise(function(resolve,reject){_this.emit(eventName,data,function(payload){resolve(payload)})||reject(new Error('Listener not added for "'.concat(eventName,'"')))})},Framebus.prototype.on=function(eventName,originalHandler){var self,origin,handler;return!this.isDestroyed&&(origin=(self=this).origin,handler=originalHandler,eventName=this.namespaceEvent(eventName),!(0,lib_1.subscriptionArgsInvalid)(eventName,handler,origin))&&(this.hasAdditionalChecksForOnListeners&&(handler=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];self.passesVerifyDomainCheck(this&&this.origin)&&self.hasMatchingTargetFrame(this&&this.source)&&originalHandler.apply(void 0,args)}),this.listeners.push({eventName:eventName,handler:handler,originalHandler:originalHandler}),lib_1.subscribers[origin]=lib_1.subscribers[origin]||{},lib_1.subscribers[origin][eventName]=lib_1.subscribers[origin][eventName]||[],lib_1.subscribers[origin][eventName].push(handler),!0)},Framebus.prototype.off=function(eventName,originalHandler){var handler=originalHandler;if(!this.isDestroyed){if(this.hasAdditionalChecksForOnListeners)for(var i=0;i<this.listeners.length;i++){var listener=this.listeners[i];listener.originalHandler===originalHandler&&(handler=listener.handler)}eventName=this.namespaceEvent(eventName);var origin=this.origin;if(!(0,lib_1.subscriptionArgsInvalid)(eventName,handler,origin)){var subscriberList=lib_1.subscribers[origin]&&lib_1.subscribers[origin][eventName];if(subscriberList)for(i=0;i<subscriberList.length;i++)if(subscriberList[i]===handler)return subscriberList.splice(i,1),!0}}return!1},Framebus.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var i=0;i<this.listeners.length;i++){var listener=this.listeners[i];this.off(listener.eventName,listener.handler)}this.listeners.length=0}},Framebus.prototype.passesVerifyDomainCheck=function(origin){return!this.verifyDomain||this.checkOrigin(origin)},Framebus.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(frame){return frame instanceof HTMLIFrameElement?frame.contentWindow:frame}).filter(function(win){return win}):[]},Framebus.prototype.hasMatchingTargetFrame=function(source){var matchingFrame;return!this.limitBroadcastToFramesArray||(matchingFrame=this.targetFramesAsWindows().find(function(frame){return frame===source}),Boolean(matchingFrame))},Framebus.prototype.checkOrigin=function(postMessageOrigin){var merchantHost,a=document.createElement("a");return a.href=location.href,merchantHost="https:"===a.protocol?a.host.replace(/:443$/,""):"http:"===a.protocol?a.host.replace(/:80$/,""):a.host,a.protocol+"//"+merchantHost===postMessageOrigin||!this.verifyDomain||this.verifyDomain(postMessageOrigin)},Framebus.prototype.namespaceEvent=function(eventName){return this.channel?"".concat(this.channel,":").concat(eventName):eventName},Framebus.Promise=DefaultPromise,Framebus}();exports.Framebus=_dereq_},{"./lib":48}],41:[function(_dereq_,module,exports){"use strict";var lib_1=_dereq_("./lib"),_dereq_=_dereq_("./framebus");(0,lib_1.attach)(),module.exports=_dereq_.Framebus},{"./framebus":40,"./lib":48}],42:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.detach=exports.attach=void 0;var _1=_dereq_("./"),isAttached=!1;exports.attach=function(){isAttached||"undefined"==typeof window||(isAttached=!0,window.addEventListener("message",_1.onMessage,!1))},exports.detach=function(){isAttached=!1,window.removeEventListener("message",_1.onMessage,!1)}},{"./":48}],43:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.broadcastToChildWindows=void 0;var _1=_dereq_("./");exports.broadcastToChildWindows=function(payload,origin,source){for(var i=_1.childWindows.length-1;0<=i;i--){var childWindow=_1.childWindows[i];childWindow.closed?_1.childWindows.splice(i,1):source!==childWindow&&(0,_1.broadcast)(payload,{origin:origin,frame:childWindow.top})}}},{"./":48}],44:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.broadcast=void 0;var _1=_dereq_("./");exports.broadcast=function broadcast(payload,options){var frameToBroadcastTo,i=0,origin=options.origin,frame=options.frame;try{for(frame.postMessage(payload,origin),(0,_1.hasOpener)(frame)&&frame.opener.top!==window.top&&broadcast(payload,{origin:origin,frame:frame.opener.top});frameToBroadcastTo=frame.frames[i];)broadcast(payload,{origin:origin,frame:frameToBroadcastTo}),i++}catch(_){}}},{"./":48}],45:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribers=exports.childWindows=exports.prefix=void 0,exports.prefix="/*framebus*/",exports.childWindows=[],exports.subscribers={}},{}],46:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dispatch=void 0;var _1=_dereq_("./");exports.dispatch=function(origin,event,data,reply,e){if(_1.subscribers[origin]&&_1.subscribers[origin][event]){var args=[];data&&args.push(data),reply&&args.push(reply);for(var i=0;i<_1.subscribers[origin][event].length;i++)_1.subscribers[origin][event][i].apply(e,args)}}},{"./":48}],47:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasOpener=void 0,exports.hasOpener=function(frame){return frame.top===frame&&null!=frame.opener&&frame.opener!==frame&&!0!==frame.opener.closed}},{}],48:[function(_dereq_,module,exports){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&("get"in desc?m.__esModule:!desc.writable&&!desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){o[k2=void 0===k2?k:k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(_dereq_("./attach"),exports),__exportStar(_dereq_("./broadcast-to-child-windows"),exports),__exportStar(_dereq_("./broadcast"),exports),__exportStar(_dereq_("./constants"),exports),__exportStar(_dereq_("./dispatch"),exports),__exportStar(_dereq_("./has-opener"),exports),__exportStar(_dereq_("./is-not-string"),exports),__exportStar(_dereq_("./message"),exports),__exportStar(_dereq_("./package-payload"),exports),__exportStar(_dereq_("./send-message"),exports),__exportStar(_dereq_("./subscribe-replier"),exports),__exportStar(_dereq_("./subscription-args-invalid"),exports),__exportStar(_dereq_("./types"),exports),__exportStar(_dereq_("./unpack-payload"),exports)},{"./attach":42,"./broadcast":44,"./broadcast-to-child-windows":43,"./constants":45,"./dispatch":46,"./has-opener":47,"./is-not-string":49,"./message":50,"./package-payload":51,"./send-message":52,"./subscribe-replier":53,"./subscription-args-invalid":54,"./types":55,"./unpack-payload":56}],49:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isntString=void 0,exports.isntString=function(str){return"string"!=typeof str}},{}],50:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onMessage=void 0;var _1=_dereq_("./");exports.onMessage=function(e){var payload,data,reply;(0,_1.isntString)(e.data)||(payload=(0,_1.unpackPayload)(e))&&(data=payload.eventData,reply=payload.reply,(0,_1.dispatch)("*",payload.event,data,reply,e),(0,_1.dispatch)(e.origin,payload.event,data,reply,e),(0,_1.broadcastToChildWindows)(e.data,payload.origin,e.source))}},{"./":48}],51:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.packagePayload=void 0;var _1=_dereq_("./");exports.packagePayload=function(event,origin,data,reply){var packaged,event={event:event,origin:origin};"function"==typeof reply&&(event.reply=(0,_1.subscribeReplier)(reply,origin)),event.eventData=data;try{packaged=_1.prefix+JSON.stringify(event)}catch(e){throw new Error("Could not stringify event: ".concat(e.message))}return packaged}},{"./":48}],52:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendMessage=void 0,exports.sendMessage=function(frame,payload,origin){try{frame.postMessage(payload,origin)}catch(error){}}},{}],53:[function(_dereq_,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}},framebus_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeReplier=void 0,_dereq_("../framebus")),uuid_1=__importDefault(_dereq_("@braintree/uuid"));exports.subscribeReplier=function(fn,origin){var uuid=(0,uuid_1.default)();return framebus_1.Framebus.target({origin:origin}).on(uuid,function replier(data,replyOriginHandler){fn(data,replyOriginHandler),framebus_1.Framebus.target({origin:origin}).off(uuid,replier)}),uuid}},{"../framebus":40,"@braintree/uuid":27}],54:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscriptionArgsInvalid=void 0;var _1=_dereq_("./");exports.subscriptionArgsInvalid=function(event,fn,origin){return!!(0,_1.isntString)(event)||"function"!=typeof fn||(0,_1.isntString)(origin)}},{"./":48}],55:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},{}],56:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unpackPayload=void 0;var _1=_dereq_("./");exports.unpackPayload=function(e){var payload,replyOrigin_1,replySource_1,replyEvent_1;if(e.data.slice(0,_1.prefix.length)!==_1.prefix)return!1;try{payload=JSON.parse(e.data.slice(_1.prefix.length))}catch(err){return!1}return payload.reply&&(replyOrigin_1=e.origin,replySource_1=e.source,replyEvent_1=payload.reply,payload.reply=function(replyData){replySource_1&&(replyData=(0,_1.packagePayload)(replyEvent_1,replyOrigin_1,replyData))&&replySource_1.postMessage(replyData,replyOrigin_1)}),payload}},{"./":48}],57:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIos=exports.isIE9=exports.isSamsungBrowser=exports.isAndroidChrome=exports.isKitKatWebview=void 0;var UA="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent,isAndroid=_dereq_("@braintree/browser-detection/is-android"),isChromeOs=_dereq_("@braintree/browser-detection/is-chrome-os"),isChrome=_dereq_("@braintree/browser-detection/is-chrome"),isIos=_dereq_("@braintree/browser-detection/is-ios"),isIos=(exports.isIos=isIos,_dereq_("@braintree/browser-detection/is-ie9")),KITKAT_WEBVIEW_REGEX=(exports.isIE9=isIos,/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/);exports.isKitKatWebview=function(ua){return isAndroid(ua=void 0===ua?UA:ua)&&KITKAT_WEBVIEW_REGEX.test(ua)},exports.isAndroidChrome=function(ua){return(isAndroid(ua=void 0===ua?UA:ua)||isChromeOs(ua))&&isChrome(ua)},exports.isSamsungBrowser=function(ua){return/SamsungBrowser/.test(ua=void 0===ua?UA:ua)||function(ua){return!isChrome(ua)&&-1<ua.indexOf("Samsung")}(ua)}},{"@braintree/browser-detection/is-android":70,"@braintree/browser-detection/is-chrome":72,"@braintree/browser-detection/is-chrome-os":71,"@braintree/browser-detection/is-ie9":73,"@braintree/browser-detection/is-ios":74}],58:[function(_dereq_,module,exports){"use strict";var device_1=_dereq_("./lib/device");module.exports=function(){return!(0,device_1.isSamsungBrowser)()}},{"./lib/device":57}],59:[function(_dereq_,module,exports){arguments[4][3][0].apply(exports,arguments)},{dup:3}],60:[function(_dereq_,module,exports){arguments[4][4][0].apply(exports,arguments)},{dup:4}],61:[function(_dereq_,module,exports){arguments[4][5][0].apply(exports,arguments)},{"./is-duckduckgo":62,"./is-edge":63,"./is-opera":67,"./is-samsung":68,"./is-silk":69,dup:5}],62:[function(_dereq_,module,exports){arguments[4][6][0].apply(exports,arguments)},{dup:6}],63:[function(_dereq_,module,exports){arguments[4][7][0].apply(exports,arguments)},{dup:7}],64:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||window.navigator.userAgent).indexOf("MSIE 9")}},{}],65:[function(_dereq_,module,exports){arguments[4][11][0].apply(exports,arguments)},{"./is-ipados":66,dup:11}],66:[function(_dereq_,module,exports){arguments[4][12][0].apply(exports,arguments)},{dup:12}],67:[function(_dereq_,module,exports){arguments[4][13][0].apply(exports,arguments)},{dup:13}],68:[function(_dereq_,module,exports){arguments[4][14][0].apply(exports,arguments)},{dup:14}],69:[function(_dereq_,module,exports){arguments[4][15][0].apply(exports,arguments)},{dup:15}],70:[function(_dereq_,module,exports){arguments[4][16][0].apply(exports,arguments)},{"./dist/is-android":59,dup:16}],71:[function(_dereq_,module,exports){arguments[4][17][0].apply(exports,arguments)},{"./dist/is-chrome-os":60,dup:17}],72:[function(_dereq_,module,exports){arguments[4][18][0].apply(exports,arguments)},{"./dist/is-chrome":61,dup:18}],73:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/is-ie9")},{"./dist/is-ie9":64}],74:[function(_dereq_,module,exports){arguments[4][21][0].apply(exports,arguments)},{"./dist/is-ios":65,dup:21}],75:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/supports-input-formatting")},{"./dist/supports-input-formatting":58}],76:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error"),errors=_dereq_("../shared/errors"),allowedAttributes=_dereq_("../shared/constants").allowedAttributes;module.exports=function(attribute,value){var err;return allowedAttributes.hasOwnProperty(attribute)?null==value||function(attribute,value){return"string"!==allowedAttributes[attribute]?"boolean"===allowedAttributes[attribute]&&("true"===String(value)||"false"===String(value)):"string"==typeof value||"number"==typeof value}(attribute,value)||(err=new BraintreeError({type:errors.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:errors.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+value+'" is not allowed for "'+attribute+'" attribute.'})):err=new BraintreeError({type:errors.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:errors.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+attribute+'" attribute is not supported in Hosted Fields.'}),err}},{"../../lib/braintree-error":95,"../shared/constants":84,"../shared/errors":85}],77:[function(_dereq_,module,exports){"use strict";var constants=_dereq_("../shared/constants"),useMin=_dereq_("../../lib/use-min");module.exports=function(assetsUrl,componentId,isDebug){return assetsUrl+"/web/"+constants.VERSION+"/html/hosted-fields-frame"+useMin(isDebug)+".html#"+componentId}},{"../../lib/use-min":110,"../shared/constants":84}],78:[function(_dereq_,module,exports){"use strict";var directions=_dereq_("../shared/constants").navigationDirections,browserDetection=_dereq_("../shared/browser-detection"),focusIntercept=_dereq_("../shared/focus-intercept"),findParentTags=_dereq_("../shared/find-parent-tags"),userFocusableTagNames=["INPUT","SELECT","TEXTAREA"],unfocusedInputTypes=["hidden","button","reset","submit","checkbox","radio","file"];function _isUserFocusableElement(element){return browserDetection.hasSoftwareKeyboard()?-1<userFocusableTagNames.indexOf(element.tagName)&&unfocusedInputTypes.indexOf(element.type)<0:"hidden"!==element.type}function _findFirstFocusableElement(elementsInForm){for(var element,elementsIndex=0;elementsIndex<elementsInForm.length;elementsIndex++)if(_isUserFocusableElement(element=elementsInForm[elementsIndex]))return element;return null}module.exports={removeExtraFocusElements:function(checkoutForm,onRemoveFocusIntercepts){checkoutForm=Array.prototype.slice.call(checkoutForm.elements);[_findFirstFocusableElement(checkoutForm),_findFirstFocusableElement(checkoutForm.reverse())].forEach(function(input){input&&focusIntercept.matchFocusElement(input.getAttribute("id"))&&onRemoveFocusIntercepts(input.getAttribute("id"))})},createFocusChangeHandler:function(hostedFieldsId,callbacks){return function(data){var currentIndex,targetElement,checkoutForm,navHelper,sourceElement=document.getElementById("bt-"+data.field+"-"+data.direction+"-"+hostedFieldsId);if(sourceElement)if(checkoutForm=findParentTags(sourceElement,"form")[0],document.forms.length<1||!checkoutForm)callbacks.onRemoveFocusIntercepts();else{currentIndex=(checkoutForm=[].slice.call(checkoutForm.elements)).indexOf(sourceElement),navHelper=function(direction,numberOfElementsInForm){switch(direction){case directions.BACK:return{checkIndexBounds:function(index){return index<0},indexChange:-1};case directions.FORWARD:return{checkIndexBounds:function(index){return numberOfElementsInForm-1<index},indexChange:1}}return{}}(data.direction,checkoutForm.length);do{if(currentIndex+=navHelper.indexChange,navHelper.checkIndexBounds(currentIndex))return}while(!_isUserFocusableElement(targetElement=checkoutForm[currentIndex]));focusIntercept.matchFocusElement(targetElement.getAttribute("id"))?callbacks.onTriggerInputFocus(targetElement.getAttribute("data-braintree-type")):targetElement.focus()}}}}},{"../shared/browser-detection":83,"../shared/constants":84,"../shared/find-parent-tags":86,"../shared/focus-intercept":87}],79:[function(_dereq_,module,exports){"use strict";var allowedStyles=_dereq_("../shared/constants").allowedStyles;module.exports=function(cssClass){var computedStyles,element=document.createElement("input"),styles={};return"."===cssClass[0]&&(cssClass=cssClass.substring(1)),element.className=cssClass,element.style.display="none !important",element.style.position="fixed !important",element.style.left="-99999px !important",element.style.top="-99999px !important",document.body.appendChild(element),computedStyles=window.getComputedStyle(element),allowedStyles.forEach(function(style){var value=computedStyles[style];value&&(styles[style]=value)}),document.body.removeChild(element),styles}},{"../shared/constants":84}],80:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("../../lib/assign").assign,createAssetsUrl=_dereq_("../../lib/create-assets-url"),isVerifiedDomain=_dereq_("../../lib/is-verified-domain"),Destructor=_dereq_("../../lib/destructor"),iFramer=_dereq_("@braintree/iframer"),Bus=_dereq_("framebus"),createDeferredClient=_dereq_("../../lib/create-deferred-client"),BraintreeError=_dereq_("../../lib/braintree-error"),composeUrl=_dereq_("./compose-url"),getStylesFromClass=_dereq_("./get-styles-from-class"),constants=_dereq_("../shared/constants"),errors=_dereq_("../shared/errors"),INTEGRATION_TIMEOUT_MS=_dereq_("../../lib/constants").INTEGRATION_TIMEOUT_MS,uuid=_dereq_("@braintree/uuid"),findParentTags=_dereq_("../shared/find-parent-tags"),browserDetection=_dereq_("../shared/browser-detection"),events=constants.events,EventEmitter=_dereq_("@braintree/event-emitter"),injectFrame=_dereq_("./inject-frame"),analytics=_dereq_("../../lib/analytics"),allowedFields=constants.allowedFields,methods=_dereq_("../../lib/methods"),shadow=_dereq_("../../lib/shadow"),findRootNode=_dereq_("../../lib/find-root-node"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),sharedErrors=_dereq_("../../lib/errors"),getCardTypes=_dereq_("../shared/get-card-types"),attributeValidationError=_dereq_("./attribute-validation-error"),wrapPromise=_dereq_("@braintree/wrap-promise"),focusChange=_dereq_("./focus-change"),destroyFocusIntercept=_dereq_("../shared/focus-intercept").destroy;function HostedFields(options){var failureTimeout,assetsUrl,clientConfig,hostedFieldsUrl,self=this,fields={},frameReadyPromiseResolveFunctions={},frameReadyPromises=[],componentId=uuid(),sessionId=options.sessionId;if(this._merchantConfigurationOptions=assign({},options),clientConfig=options.client?(assetsUrl=(clientConfig=options.client.getConfiguration(void 0,sessionId)).gatewayConfiguration.assetsUrl,clientConfig.isDebug):(assetsUrl=createAssetsUrl.create(options.authorization),Boolean(options.isDebug)),this._clientPromise=createDeferredClient.create({client:options.client,authorization:options.authorization,debug:clientConfig,assetsUrl:assetsUrl,name:"Hosted Fields",sessionId:sessionId}),hostedFieldsUrl=composeUrl(assetsUrl,componentId,clientConfig),!options.fields||0===Object.keys(options.fields).length)throw new BraintreeError({type:sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,code:sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});EventEmitter.call(this),this._injectedNodes=[],this._destructor=new Destructor,this._fields=fields,this._state={fields:{},cards:getCardTypes("")},this._bus=new Bus({channel:componentId,verifyDomain:isVerifiedDomain,targetFrames:[window]}),this._destructor.registerFunctionForTeardown(function(){self._bus.teardown()}),options.client?analytics.sendEvent(this._clientPromise,"custom.hosted-fields.initialized"):analytics.sendEvent(this._clientPromise,"custom.hosted-fields.initialized.deferred-client"),Object.keys(options.fields).forEach(function(key){var externalContainer,internalContainer,frame,field;if(!constants.allowedFields.hasOwnProperty(key))throw new BraintreeError({type:errors.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:errors.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+key+'" is not a valid field.'});if(!(externalContainer="string"==typeof(externalContainer=(field=options.fields[key]).container||field.selector)?document.querySelector(externalContainer):externalContainer)||1!==externalContainer.nodeType)throw new BraintreeError({type:errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:field.selector,fieldContainer:field.container,fieldKey:key}});if(externalContainer.querySelector('iframe[name^="braintree-"]'))throw new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:field.selector,fieldContainer:field.container,fieldKey:key}});if(internalContainer=externalContainer,shadow.isShadowElement(internalContainer)&&(internalContainer=shadow.transformToSlot(internalContainer,"height: 100%")),field.maxlength&&"number"!=typeof field.maxlength)throw new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:key}});if(field.minlength&&"number"!=typeof field.minlength)throw new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:key}});frame=iFramer({type:key,name:"braintree-hosted-field-"+key,style:constants.defaultIFrameStyle,title:field.iframeTitle||"Secure Credit Card Frame - "+constants.allowedFields[key].label}),this._bus.addTargetFrame(frame),this._injectedNodes.push.apply(this._injectedNodes,injectFrame(componentId,frame,internalContainer,function(){self.focus(key)})),this._setupLabelFocus(key,externalContainer),fields[key]={frameElement:frame,containerElement:externalContainer},field=new Promise(function(resolve){frameReadyPromiseResolveFunctions[key]=resolve}),frameReadyPromises.push(field),this._state.fields[key]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:externalContainer},setTimeout(function(){frame.src=hostedFieldsUrl},0)}.bind(this)),this._merchantConfigurationOptions.styles&&Object.keys(this._merchantConfigurationOptions.styles).forEach(function(selector){var className=self._merchantConfigurationOptions.styles[selector];"string"==typeof className&&(self._merchantConfigurationOptions.styles[selector]=getStylesFromClass(className))}),this._bus.on(events.REMOVE_FOCUS_INTERCEPTS,function(data){destroyFocusIntercept(data&&data.id)}),this._bus.on(events.TRIGGER_FOCUS_CHANGE,focusChange.createFocusChangeHandler(componentId,{onRemoveFocusIntercepts:function(element){self._bus.emit(events.REMOVE_FOCUS_INTERCEPTS,{id:element})},onTriggerInputFocus:function(targetType){self.focus(targetType)}})),this._bus.on(events.READY_FOR_CLIENT,function(reply){self._clientPromise.then(function(client){reply(client)})}),this._bus.on(events.CARD_FORM_ENTRY_HAS_BEGUN,function(){analytics.sendEvent(self._clientPromise,"hosted-fields.input.started")}),this._bus.on(events.BIN_AVAILABLE,function(bin){self._emit("binAvailable",{bin:bin})}),failureTimeout=setTimeout(function(){analytics.sendEvent(self._clientPromise,"custom.hosted-fields.load.timed-out"),self._emit("timeout")},INTEGRATION_TIMEOUT_MS),Promise.all(frameReadyPromises).then(function(results){var formattedConfig,results=results[0];clearTimeout(failureTimeout),results((results=self._merchantConfigurationOptions,(formattedConfig=assign({},results)).fields=assign({},formattedConfig.fields),Object.keys(formattedConfig.fields).forEach(function(field){formattedConfig.fields[field]=assign({},formattedConfig.fields[field]),delete formattedConfig.fields[field].container}),formattedConfig)),self._cleanUpFocusIntercepts(),self._emit("ready")}),this._bus.on(events.FRAME_READY,function(data,reply){frameReadyPromiseResolveFunctions[data.field](reply)}),this._bus.on(events.INPUT_EVENT,function(fields){return function(eventData){var merchantPayload=eventData.merchantPayload,emittedBy=merchantPayload.emittedBy,container=fields[emittedBy].containerElement;Object.keys(merchantPayload.fields).forEach(function(key){merchantPayload.fields[key].container=fields[key].containerElement}),emittedBy=merchantPayload.fields[emittedBy],container.classList.toggle(constants.externalClasses.FOCUSED,emittedBy.isFocused),container.classList.toggle(constants.externalClasses.VALID,emittedBy.isValid),container.classList.toggle(constants.externalClasses.INVALID,!emittedBy.isPotentiallyValid),this._state={cards:merchantPayload.cards,fields:merchantPayload.fields},this._emit(eventData.type,merchantPayload)}}(fields).bind(this)),this._destructor.registerFunctionForTeardown(function(){for(var node,parent,j=0;j<self._injectedNodes.length;j++)(parent=(node=self._injectedNodes[j]).parentNode).removeChild(node),parent.classList.remove(constants.externalClasses.FOCUSED,constants.externalClasses.INVALID,constants.externalClasses.VALID)}),this._destructor.registerFunctionForTeardown(function(){destroyFocusIntercept()}),this._destructor.registerFunctionForTeardown(function(){var methodNames=methods(HostedFields.prototype).concat(methods(EventEmitter.prototype));convertMethodsToError(self,methodNames)})}EventEmitter.createChild(HostedFields),HostedFields.prototype._setupLabelFocus=function(type,container){var labels,i,self=this,rootNode=findRootNode(container);if(null!=container.id){for(labels=Array.prototype.slice.call(document.querySelectorAll('label[for="'+container.id+'"]')),labels=(labels=(labels=rootNode!==document?labels.concat(Array.prototype.slice.call(rootNode.querySelectorAll('label[for="'+container.id+'"]'))):labels).concat(findParentTags(container,"label"))).filter(function(label,index,arr){return arr.indexOf(label)===index}),i=0;i<labels.length;i++)labels[i].addEventListener("click",triggerFocus,!1);this._destructor.registerFunctionForTeardown(function(){for(i=0;i<labels.length;i++)labels[i].removeEventListener("click",triggerFocus,!1)})}function triggerFocus(){self.focus(type)}},HostedFields.prototype._getAnyFieldContainer=function(){var self=this;return Object.keys(this._fields).reduce(function(found,field){return found||self._fields[field].containerElement},null)},HostedFields.prototype._cleanUpFocusIntercepts=function(){var iframeContainer;!(document.forms.length<1)&&(iframeContainer=this._getAnyFieldContainer(),iframeContainer=findParentTags(iframeContainer,"form")[0])?focusChange.removeExtraFocusElements(iframeContainer,function(id){this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS,{id:id})}.bind(this)):this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS)},HostedFields.prototype._attachInvalidFieldContainersToError=function(err){err.details&&err.details.invalidFieldKeys&&0<err.details.invalidFieldKeys.length&&(err.details.invalidFields={},err.details.invalidFieldKeys.forEach(function(field){err.details.invalidFields[field]=this._fields[field].containerElement}.bind(this)))},HostedFields.prototype.getChallenges=function(){return this._clientPromise.then(function(client){return client.getConfiguration().gatewayConfiguration.challenges})},HostedFields.prototype.getSupportedCardTypes=function(){return this._clientPromise.then(function(client){return client.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes.map(function(cardType){return"MasterCard"===cardType?"Mastercard":cardType})})},HostedFields.prototype.teardown=function(){var self=this;return new Promise(function(resolve,reject){self._destructor.teardown(function(err){analytics.sendEvent(self._clientPromise,"custom.hosted-fields.teardown-completed"),err?reject(err):resolve()})})},HostedFields.prototype.tokenize=function(options){var self=this;return options=options||{},new Promise(function(resolve,reject){self._bus.emit(events.TOKENIZATION_REQUEST,options,function(response){var err=response[0],response=response[1];err?(self._attachInvalidFieldContainersToError(err),reject(new BraintreeError(err))):resolve(response)})})},HostedFields.prototype.addClass=function(field,classname){var err;return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?this._bus.emit(events.ADD_CLASS,{field:field,classname:classname}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when adding a class.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.removeClass=function(field,classname){var err;return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?this._bus.emit(events.REMOVE_CLASS,{field:field,classname:classname}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when removing a class.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.setAttribute=function(options){var attributeErr,err;return allowedFields.hasOwnProperty(options.field)?this._fields.hasOwnProperty(options.field)?(attributeErr=attributeValidationError(options.attribute,options.value))?err=attributeErr:this._bus.emit(events.SET_ATTRIBUTE,{field:options.field,attribute:options.attribute,value:options.value}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+options.field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+options.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.setMonthOptions=function(options){var errorMessage,self=this,merchantOptions=this._merchantConfigurationOptions.fields;return merchantOptions.expirationMonth?merchantOptions.expirationMonth.select||(errorMessage="Expiration month field must be a select element."):errorMessage="Expiration month field must exist to use setMonthOptions.",errorMessage?Promise.reject(new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:errorMessage})):new Promise(function(resolve){self._bus.emit(events.SET_MONTH_OPTIONS,options,resolve)})},HostedFields.prototype.setMessage=function(options){this._bus.emit(events.SET_MESSAGE,{field:options.field,message:options.message})},HostedFields.prototype.removeAttribute=function(options){var attributeErr,err;return allowedFields.hasOwnProperty(options.field)?this._fields.hasOwnProperty(options.field)?(attributeErr=attributeValidationError(options.attribute))?err=attributeErr:this._bus.emit(events.REMOVE_ATTRIBUTE,{field:options.field,attribute:options.attribute}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+options.field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+options.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.setPlaceholder=function(field,placeholder){return this.setAttribute({field:field,attribute:"placeholder",value:placeholder})},HostedFields.prototype.clear=function(field){var err;return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?this._bus.emit(events.CLEAR_FIELD,{field:field}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when clearing a field.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.focus=function(field){var err,fieldConfig=this._fields[field];return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?(fieldConfig.frameElement.focus(),this._bus.emit(events.TRIGGER_INPUT_FOCUS,{field:field}),browserDetection.isIos()&&setTimeout(function(){var node,verticalMidpoint,horizontalMidpoint;node=(node=fieldConfig.containerElement).getBoundingClientRect(),verticalMidpoint=Math.floor(node.height/2),horizontalMidpoint=Math.floor(node.width/2),node.top<(window.innerHeight-verticalMidpoint||document.documentElement.clientHeight-verticalMidpoint)&&node.right>horizontalMidpoint&&node.bottom>verticalMidpoint&&node.left<(window.innerWidth-horizontalMidpoint||document.documentElement.clientWidth-horizontalMidpoint)||fieldConfig.containerElement.scrollIntoView()},5)):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when focusing a field.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.getState=function(){return this._state},module.exports=wrapPromise.wrapPrototype(HostedFields)},{"../../lib/analytics":90,"../../lib/assign":92,"../../lib/braintree-error":95,"../../lib/constants":96,"../../lib/convert-methods-to-error":97,"../../lib/create-assets-url":98,"../../lib/create-deferred-client":100,"../../lib/destructor":101,"../../lib/errors":103,"../../lib/find-root-node":104,"../../lib/is-verified-domain":105,"../../lib/methods":107,"../../lib/shadow":109,"../shared/browser-detection":83,"../shared/constants":84,"../shared/errors":85,"../shared/find-parent-tags":86,"../shared/focus-intercept":87,"../shared/get-card-types":88,"./attribute-validation-error":76,"./compose-url":77,"./focus-change":78,"./get-styles-from-class":79,"./inject-frame":81,"@braintree/event-emitter":22,"@braintree/iframer":23,"@braintree/uuid":27,"@braintree/wrap-promise":31,framebus:41}],81:[function(_dereq_,module,exports){"use strict";var focusIntercept=_dereq_("../shared/focus-intercept"),directions=_dereq_("../shared/constants").navigationDirections;module.exports=function(id,frame,container,focusHandler){var frameType=frame.getAttribute("type"),clearboth=document.createElement("div"),fragment=document.createDocumentFragment(),focusInterceptBefore=focusIntercept.generate(id,frameType,directions.BACK,focusHandler),id=focusIntercept.generate(id,frameType,directions.FORWARD,focusHandler);return clearboth.style.clear="both",fragment.appendChild(focusInterceptBefore),fragment.appendChild(frame),fragment.appendChild(id),fragment.appendChild(clearboth),container.appendChild(fragment),[frame,clearboth]}},{"../shared/constants":84,"../shared/focus-intercept":87}],82:[function(_dereq_,module,exports){"use strict";var HostedFields=_dereq_("./external/hosted-fields"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),errors=_dereq_("./shared/errors"),supportsInputFormatting=_dereq_("restricted-input/supports-input-formatting"),wrapPromise=_dereq_("@braintree/wrap-promise"),BraintreeError=_dereq_("../lib/braintree-error");module.exports={supportsInputFormatting:supportsInputFormatting,create:wrapPromise(function(options){return basicComponentVerification.verify({name:"Hosted Fields",authorization:options.authorization,client:options.client}).then(function(){var integration=new HostedFields(options);return new Promise(function(resolve,reject){integration.on("ready",function(){resolve(integration)}),integration.on("timeout",function(){reject(new BraintreeError(errors.HOSTED_FIELDS_TIMEOUT))})})})}),VERSION:"3.130.0"}},{"../lib/basic-component-verification":93,"../lib/braintree-error":95,"./external/hosted-fields":80,"./shared/errors":85,"@braintree/wrap-promise":31,"restricted-input/supports-input-formatting":75}],83:[function(_dereq_,module,exports){"use strict";var isAndroid=_dereq_("@braintree/browser-detection/is-android"),isChromeOS=_dereq_("@braintree/browser-detection/is-chrome-os"),isIos=_dereq_("@braintree/browser-detection/is-ios"),isChrome=_dereq_("@braintree/browser-detection/is-chrome");module.exports={isAndroid:isAndroid,isChromeOS:isChromeOS,isChromeIos:function(){return isChrome()&&isIos()},isFirefox:_dereq_("@braintree/browser-detection/is-firefox"),isIos:isIos,isIosWebview:_dereq_("@braintree/browser-detection/is-ios-webview"),hasSoftwareKeyboard:function(){return isAndroid()||isChromeOS()||isIos()}}},{"@braintree/browser-detection/is-android":16,"@braintree/browser-detection/is-chrome":18,"@braintree/browser-detection/is-chrome-os":17,"@braintree/browser-detection/is-firefox":19,"@braintree/browser-detection/is-ios":21,"@braintree/browser-detection/is-ios-webview":20}],84:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("../../lib/enumerate"),_dereq_=_dereq_("./errors"),_dereq_={VERSION:"3.130.0",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},navigationDirections:{BACK:"before",FORWARD:"after"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:_dereq_.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:_dereq_.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-box-shadow","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-box-shadow","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-text-fill-color","-webkit-transition","appearance","box-shadow","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","margin","margin-top","margin-right","margin-bottom","margin-left","opacity","outline","padding","padding-top","padding-right","padding-bottom","padding-left","text-align","text-shadow","transition"],allowedFields:{cardholderName:{name:"cardholder-name",label:"Cardholder Name"},number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},allowedBillingAddressFields:["company","countryCodeNumeric","countryCodeAlpha2","countryCodeAlpha3","countryName","extendedAddress","locality","region","firstName","lastName","postalCode","streetAddress"],allowedShippingAddressFields:["company","countryCodeNumeric","countryCodeAlpha2","countryCodeAlpha3","countryName","extendedAddress","locality","region","firstName","lastName","postalCode","streetAddress"],autocompleteMappings:{"cardholder-name":"cc-name","credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};_dereq_.events=enumerate(["ADD_CLASS","AUTOFILL_DATA_AVAILABLE","BIN_AVAILABLE","CARD_FORM_ENTRY_HAS_BEGUN","CLEAR_FIELD","CONFIGURATION","FRAME_READY","INPUT_EVENT","READY_FOR_CLIENT","REMOVE_ATTRIBUTE","REMOVE_CLASS","REMOVE_FOCUS_INTERCEPTS","SET_ATTRIBUTE","SET_MESSAGE","SET_MONTH_OPTIONS","TOKENIZATION_REQUEST","TRIGGER_FOCUS_CHANGE","TRIGGER_INPUT_FOCUS","VALIDATE_STRICT"],"hosted-fields:"),module.exports=_dereq_},{"../../lib/enumerate":102,"./errors":85}],85:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("../../lib/braintree-error");module.exports={HOSTED_FIELDS_TIMEOUT:{type:_dereq_.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:_dereq_.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:_dereq_.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:_dereq_.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:_dereq_.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:_dereq_.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:_dereq_.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:_dereq_.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":95}],86:[function(_dereq_,module,exports){"use strict";module.exports=function(element,tag){for(var parent=element.parentNode,parents=[];null!=parent;)null!=parent.tagName&&parent.tagName.toLowerCase()===tag&&parents.push(parent),parent=parent.parentNode;return parents}},{}],87:[function(_dereq_,module,exports){"use strict";var browserDetection=_dereq_("./browser-detection"),_dereq_=_dereq_("./constants"),allowedFields=Object.keys(_dereq_.allowedFields),directions=_dereq_.navigationDirections,focusIntercept={generate:function(hostedFieldsId,type,direction,handler){var input=document.createElement("input");return browserDetection.hasSoftwareKeyboard()||browserDetection.isFirefox()?(input.setAttribute("aria-hidden","true"),input.setAttribute("autocomplete","off"),input.setAttribute("data-braintree-direction",direction),input.setAttribute("data-braintree-type",type),input.setAttribute("id","bt-"+type+"-"+direction+"-"+hostedFieldsId),input.setAttribute("style",JSON.stringify({border:"none !important",display:"block !important",height:"1px !important",left:"-1px !important",opacity:"0 !important",position:"absolute !important",top:"-1px !important",width:"1px !important"}).replace(/[{}"]/g,"").replace(/,/g,";")),input.classList.add("focus-intercept"),input.addEventListener("focus",function(event){handler(event),browserDetection.hasSoftwareKeyboard()||input.blur()}),input):document.createDocumentFragment()},destroy:function(idString){var focusInputs=idString?[document.getElementById(idString)]:(focusInputs=document.querySelectorAll("[data-braintree-direction]"),[].slice.call(focusInputs));focusInputs.forEach(function(node){node&&1===node.nodeType&&focusIntercept.matchFocusElement(node.getAttribute("id"))&&node.parentNode.removeChild(node)})},matchFocusElement:function(idString){var hasBTPrefix,isAllowedType;return!(!idString||(idString=idString.split("-")).length<4)&&(hasBTPrefix="bt"===idString[0],isAllowedType=-1<allowedFields.indexOf(idString[1]),idString=idString[2]===directions.BACK||idString[2]===directions.FORWARD,Boolean(hasBTPrefix&&isAllowedType&&idString))}};module.exports=focusIntercept},{"./browser-detection":83,"./constants":84}],88:[function(_dereq_,module,exports){"use strict";var creditCardType=_dereq_("credit-card-type");module.exports=function(number){number=creditCardType(number);return number.forEach(function(card){"mastercard"===card.type&&(card.type="master-card")}),number}},{"credit-card-type":33}],89:[function(_dereq_,module,exports){"use strict";var createAuthorizationData=_dereq_("./create-authorization-data"),jsonClone=_dereq_("./json-clone"),constants=_dereq_("./constants");module.exports={addMetadata:function(configuration,data){var key,attrs=data?jsonClone(data):{},data=createAuthorizationData(configuration.authorization).attrs,_meta=jsonClone(configuration.analyticsMetadata);for(key in attrs.braintreeLibraryVersion=constants.BRAINTREE_LIBRARY_VERSION,attrs._meta)attrs._meta.hasOwnProperty(key)&&(_meta[key]=attrs._meta[key]);return attrs._meta=_meta,data.tokenizationKey?attrs.tokenizationKey=data.tokenizationKey:attrs.authorizationFingerprint=data.authorizationFingerprint,attrs},addEventMetadata:function(clientInstanceOrPromise){var clientInstanceOrPromise=clientInstanceOrPromise.getConfiguration(),authAttrs=createAuthorizationData(clientInstanceOrPromise.authorization).attrs,isProd="production"===clientInstanceOrPromise.gatewayConfiguration.environment,isProd={api_integration_type:clientInstanceOrPromise.analyticsMetadata.integrationType,app_id:window.location.host,c_sdk_ver:constants.VERSION,component:"braintreeclientsdk",merchant_sdk_env:isProd?"production":"sandbox",merchant_id:clientInstanceOrPromise.gatewayConfiguration.merchantId,event_source:"web",platform:constants.PLATFORM,platform_version:window.navigator.userAgent,session_id:clientInstanceOrPromise.analyticsMetadata.sessionId,client_session_id:clientInstanceOrPromise.analyticsMetadata.sessionId,tenant_name:"braintree",product_name:"BT_DCC",space_key:"SKDUYK"};return authAttrs.tokenizationKey?isProd.tokenization_key=authAttrs.tokenizationKey:isProd.auth_fingerprint=authAttrs.authorizationFingerprint,isProd}}},{"./constants":96,"./create-authorization-data":99,"./json-clone":106}],90:[function(_dereq_,module,exports){"use strict";var constants=_dereq_("./constants"),metadata=_dereq_("./add-metadata"),assign=_dereq_("./assign").assign;function sendPaypalEventPlusFields(clientInstanceOrPromise,eventName,extraFields,callback){var timestamp=Date.now();return"vault"===extraFields.flow?extraFields.context_type="BA_Token":"checkout"===extraFields.flow&&(extraFields.context_type="EC_Token"),Promise.resolve(clientInstanceOrPromise).then(function(client){var request=client._request,url=constants.ANALYTICS_URL,qualifiedEvent=constants.ANALYTICS_PREFIX+eventName,isProd="production"===client.getConfiguration().gatewayConfiguration.environment,data={events:[],tracking:[]},client=metadata.addEventMetadata(client,data);return client.event_name=qualifiedEvent,client.t=timestamp,data.events=[{level:"info",event:qualifiedEvent,payload:assign({env:isProd?"production":"sandbox",timestamp:timestamp},extraFields)}],data.tracking=[client],extraFields&&"object"==typeof extraFields&&(data.tracking=[function(trackingMeta,extraFields){var allowedExtraFields=assign({},extraFields);return Object.keys(allowedExtraFields).forEach(function(field){-1===constants.ALLOWED_EXTRA_EVENT_FIELDS.indexOf(field)&&delete allowedExtraFields[field]}),assign(trackingMeta,allowedExtraFields)}(client,extraFields)]),request({url:url,method:"post",data:data,timeout:constants.ANALYTICS_REQUEST_TIMEOUT_MS},callback)}).catch(function(err){callback&&callback(err)})}module.exports={sendEvent:function(clientInstanceOrPromise,eventName,callback){return sendPaypalEventPlusFields(clientInstanceOrPromise,eventName,{},callback)},sendEventPlus:sendPaypalEventPlusFields}},{"./add-metadata":89,"./assign":92,"./constants":96}],91:[function(_dereq_,module,exports){"use strict";var loadScript=_dereq_("@braintree/asset-loader/load-script"),_dereq_=_dereq_("@paypal/accelerated-checkout-loader");module.exports={loadScript:loadScript,loadFastlane:_dereq_.loadAxo}},{"@braintree/asset-loader/load-script":2,"@paypal/accelerated-checkout-loader":32}],92:[function(_dereq_,module,exports){"use strict";var assignNormalized="function"==typeof Object.assign?Object.assign:assignPolyfill;function assignPolyfill(destination){for(var source,key,i=1;i<arguments.length;i++)for(key in source=arguments[i])source.hasOwnProperty(key)&&(destination[key]=source[key]);return destination}module.exports={assign:assignNormalized,_assign:assignPolyfill}},{}],93:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),sharedErrors=_dereq_("./errors");module.exports={verify:function(options){var client,name;return options?(name=options.name,client=options.client,options=options.authorization,client||options?options||"3.130.0"===client.getVersion()?Promise.resolve():Promise.reject(new BraintreeError({type:sharedErrors.INCOMPATIBLE_VERSIONS.type,code:sharedErrors.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+client.getVersion()+") and "+name+" (version 3.130.0) components must be from the same SDK version."})):Promise.reject(new BraintreeError({type:sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,code:sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+name+"."}))):Promise.reject(new BraintreeError({type:sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":95,"./errors":103}],94:[function(_dereq_,module,exports){"use strict";var once=_dereq_("./once");module.exports=function(functions,cb){var i,length=functions.length,remaining=length,callback=once(cb);if(0===length)callback(null);else for(i=0;i<length;i++)!function(fn,callback){0===fn.length?(fn(),callback(null)):fn(callback)}(functions[i],finish);function finish(err){err?callback(err):0===--remaining&&callback(null)}}},{"./once":108}],95:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("./enumerate");function BraintreeError(options){if(!BraintreeError.types.hasOwnProperty(options.type))throw new Error(options.type+" is not a valid type.");if(!options.code)throw new Error("Error code required.");if(!options.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=options.code,this.message=options.message,this.type=options.type,this.details=options.details}((BraintreeError.prototype=Object.create(Error.prototype)).constructor=BraintreeError).types=_dereq_(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),BraintreeError.findRootError=function(err){return err instanceof BraintreeError&&err.details&&err.details.originalError?BraintreeError.findRootError(err.details.originalError):err},module.exports=BraintreeError},{"./enumerate":102}],96:[function(_dereq_,module,exports){"use strict";module.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ANALYTICS_URL:"https://www.paypal.com/xoplatform/logger/api/logger",ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.130.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.130.0",ALLOWED_EXTRA_EVENT_FIELDS:["context_id","context_type","payment_ready_button_order","payment_ready_experiment_type","payment_ready_page_type","payment_ready_session_id","button_type"]}},{}],97:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),sharedErrors=_dereq_("./errors");module.exports=function(instance,methodNames){methodNames.forEach(function(methodName){instance[methodName]=function(){throw new BraintreeError({type:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,code:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,message:methodName+" cannot be called after teardown."})}})}},{"./braintree-error":95,"./errors":103}],98:[function(_dereq_,module,exports){"use strict";var ASSETS_URLS=_dereq_("./constants").ASSETS_URLS;module.exports={create:function(authorization){return ASSETS_URLS.production}}},{"./constants":96}],99:[function(_dereq_,module,exports){"use strict";var atob=_dereq_("../lib/vendor/polyfill").atob,CLIENT_API_URLS=_dereq_("../lib/constants").CLIENT_API_URLS;module.exports=function(authorization){var tokenizationKey,environment,data={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(authorization)?(environment=(tokenizationKey=(tokenizationKey=authorization).split("_"))[0],tokenizationKey={merchantId:tokenizationKey.slice(2).join("_"),environment:environment},data.environment=tokenizationKey.environment,data.attrs.tokenizationKey=authorization,data.configUrl=CLIENT_API_URLS[tokenizationKey.environment]+"/merchants/"+tokenizationKey.merchantId+"/client_api/v1/configuration"):(environment=JSON.parse(atob(authorization)),data.environment=environment.environment,data.attrs.authorizationFingerprint=environment.authorizationFingerprint,data.configUrl=environment.configUrl,data.graphQL=environment.graphQL),data}},{"../lib/constants":96,"../lib/vendor/polyfill":111}],100:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),assets=_dereq_("./assets"),sharedErrors=_dereq_("./errors");module.exports={create:function(options){var promise=Promise.resolve();return options.client?Promise.resolve(options.client):(promise=window.braintree&&window.braintree.client?promise:assets.loadScript({src:options.assetsUrl+"/web/3.130.0/js/client.min.js"}).catch(function(err){return Promise.reject(new BraintreeError({type:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:err}}))})).then(function(){return"3.130.0"!==window.braintree.client.VERSION?Promise.reject(new BraintreeError({type:sharedErrors.INCOMPATIBLE_VERSIONS.type,code:sharedErrors.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+options.name+" (version 3.130.0) components must be from the same SDK version."})):window.braintree.client.create({authorization:options.authorization,debug:options.debug})})}}},{"./assets":91,"./braintree-error":95,"./errors":103}],101:[function(_dereq_,module,exports){"use strict";var batchExecuteFunctions=_dereq_("./batch-execute-functions");function Destructor(){this._teardownRegistry=[],this._isTearingDown=!1}Destructor.prototype.registerFunctionForTeardown=function(fn){"function"==typeof fn&&this._teardownRegistry.push(fn)},Destructor.prototype.teardown=function(callback){this._isTearingDown?callback(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,batchExecuteFunctions(this._teardownRegistry,function(err){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof callback&&callback(err)}.bind(this)))},module.exports=Destructor},{"./batch-execute-functions":94}],102:[function(_dereq_,module,exports){"use strict";module.exports=function(values,prefix){return prefix=null==prefix?"":prefix,values.reduce(function(enumeration,value){return enumeration[value]=prefix+value,enumeration},{})}},{}],103:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("./braintree-error");module.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:_dereq_.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:_dereq_.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:_dereq_.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:_dereq_.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:_dereq_.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":95}],104:[function(_dereq_,module,exports){"use strict";module.exports=function(element){for(;element.parentNode;)element=element.parentNode;return element}},{}],105:[function(_dereq_,module,exports){"use strict";var parser,legalHosts={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};module.exports=function(url){return url=url.toLowerCase(),!!/^https:/.test(url)&&((parser=parser||document.createElement("a")).href=url,url=parser.hostname.split(".").slice(-2).join("."),legalHosts.hasOwnProperty(url))}},{}],106:[function(_dereq_,module,exports){"use strict";module.exports=function(value){return JSON.parse(JSON.stringify(value))}},{}],107:[function(_dereq_,module,exports){"use strict";module.exports=function(obj){return Object.keys(obj).filter(function(key){return"function"==typeof obj[key]})}},{}],108:[function(_dereq_,module,exports){"use strict";module.exports=function(fn){var called=!1;return function(){called||(called=!0,fn.apply(null,arguments))}}},{}],109:[function(_dereq_,module,exports){"use strict";var uuid=_dereq_("@braintree/uuid"),findRootNode=_dereq_("./find-root-node");function isShadowElement(element){return"[object ShadowRoot]"===(element=findRootNode(element)).toString()}function getShadowHost(element){return isShadowElement(element=findRootNode(element))?element.host:null}module.exports={isShadowElement:isShadowElement,getShadowHost:getShadowHost,transformToSlot:function transformToSlot(element,styles){var styleNode=findRootNode(element).querySelector("style"),shadowHost=getShadowHost(element),slotName="shadow-slot-"+uuid(),slot=document.createElement("slot"),slotProvider=document.createElement("div");return slot.setAttribute("name",slotName),element.appendChild(slot),slotProvider.setAttribute("slot",slotName),shadowHost.appendChild(slotProvider),styles&&(styleNode||(styleNode=document.createElement("style"),element.appendChild(styleNode)),styleNode.sheet.insertRule('::slotted([slot="'+slotName+'"]) { '+styles+" }")),isShadowElement(shadowHost)?transformToSlot(slotProvider,styles):slotProvider}}},{"./find-root-node":104,"@braintree/uuid":27}],110:[function(_dereq_,module,exports){"use strict";module.exports=function(isDebug){return isDebug?"":".min"}},{}],111:[function(_dereq_,module,exports){"use strict";var atobNormalized="function"==typeof atob?atob:atobPolyfill;function atobPolyfill(base64String){var b,b1,b2,b3,i,characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",result="";if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$/.test(base64String))throw new Error("Non base64 encoded input passed to window.atob polyfill");for(i=0;b1=characters.indexOf(base64String.charAt(i++)),b=(15&(b2=characters.indexOf(base64String.charAt(i++))))<<4|(b3=characters.indexOf(base64String.charAt(i++)))>>2&15,b3=(3&b3)<<6|63&characters.indexOf(base64String.charAt(i++)),result+=String.fromCharCode((63&b1)<<2|b2>>4&3)+(b?String.fromCharCode(b):"")+(b3?String.fromCharCode(b3):""),i<base64String.length;);return result}module.exports={atob:function(base64String){return atobNormalized.call(window,base64String)},_atob:atobPolyfill}},{}]},{},[82])(82)}),function(f){var g;"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):((g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).braintree||(g.braintree={})).dataCollector=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(_dereq_,module,exports){"use strict";var scriptPromiseCache={};function loadScript(options){var scriptLoadPromise,script,attrs,container,stringifiedOptions=JSON.stringify(options);return!options.forceScriptReload&&(scriptLoadPromise=scriptPromiseCache[stringifiedOptions])||(script=document.createElement("script"),attrs=options.dataAttributes||{},container=options.container||document.head,script.src=options.src,script.id=options.id||"",script.async=!0,options.type&&script.setAttribute("type","".concat(options.type)),options.crossorigin&&script.setAttribute("crossorigin","".concat(options.crossorigin)),options.integrity&&script.setAttribute("integrity","".concat(options.integrity)),Object.keys(attrs).forEach(function(key){script.setAttribute("data-".concat(key),"".concat(attrs[key]))}),scriptLoadPromise=new Promise(function(resolve,reject){script.addEventListener("load",function(){resolve(script)}),script.addEventListener("error",function(){reject(new Error("".concat(options.src," failed to load.")))}),script.addEventListener("abort",function(){reject(new Error("".concat(options.src," has aborted.")))}),container.appendChild(script)}),scriptPromiseCache[stringifiedOptions]=scriptLoadPromise),scriptLoadPromise}loadScript.clearCache=function(){scriptPromiseCache={}},module.exports=loadScript},{}],2:[function(_dereq_,module,exports){module.exports=_dereq_("./dist/load-script")},{"./dist/load-script":1}],3:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deferred=function(fn){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];setTimeout(function(){try{fn.apply(void 0,args)}catch(err){console.log("Error in callback function"),console.log(err)}},1)}}},{}],4:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.once=function(fn){var called=!1;return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];called||(called=!0,fn.apply(void 0,args))}}},{}],5:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.promiseOrCallback=function(promise,callback){if(!callback)return promise;promise.then(function(data){return callback(null,data)}).catch(function(err){return callback(err)})}},{}],6:[function(_dereq_,module,exports){"use strict";var deferred_1=_dereq_("./lib/deferred"),once_1=_dereq_("./lib/once"),promise_or_callback_1=_dereq_("./lib/promise-or-callback");function wrapPromise(fn){return function(){for(var callback,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return"function"==typeof args[args.length-1]&&(callback=args.pop(),callback=once_1.once(deferred_1.deferred(callback))),promise_or_callback_1.promiseOrCallback(fn.apply(this,args),callback)}}wrapPromise.wrapPrototype=function(target,options){var ignoreMethods=(options=void 0===options?{}:options).ignoreMethods||[],includePrivateMethods=!0===options.transformPrivateMethods;return Object.getOwnPropertyNames(target.prototype).filter(function(method){var isNonConstructorFunction="constructor"!==method&&"function"==typeof target.prototype[method],isNotAnIgnoredMethod=-1===ignoreMethods.indexOf(method),method=includePrivateMethods||"_"!==method.charAt(0);return isNonConstructorFunction&&method&&isNotAnIgnoredMethod}).forEach(function(method){var original=target.prototype[method];target.prototype[method]=wrapPromise(original)}),target},module.exports=wrapPromise},{"./lib/deferred":3,"./lib/once":4,"./lib/promise-or-callback":5}],7:[function(_dereq_,module,exports){var global,factory;global=this,factory=function(exports){"use strict";function __awaiter(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g={next:verb(0),throw:verb(1),return:verb(2)};return"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){var op=[n,v];if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,(op=t?[2&op[0],t.value]:op)[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=0<(t=_.trys).length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else{if(!(t&&_.label<t[2])){t[2]&&_.ops.pop(),_.trys.pop();continue}_.label=t[2],_.ops.push(op)}}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}}var dist={},scriptPromiseCache={};function loadScript$1(options){var scriptLoadPromise,script,attrs,container,stringifiedOptions=JSON.stringify(options);return!options.forceScriptReload&&(scriptLoadPromise=scriptPromiseCache[stringifiedOptions])||(script=document.createElement("script"),attrs=options.dataAttributes||{},container=options.container||document.head,script.src=options.src,script.id=options.id||"",script.async=!0,options.type&&script.setAttribute("type","".concat(options.type)),options.crossorigin&&script.setAttribute("crossorigin","".concat(options.crossorigin)),Object.keys(attrs).forEach(function(key){script.setAttribute("data-".concat(key),"".concat(attrs[key]))}),scriptLoadPromise=new Promise(function(resolve,reject){script.addEventListener("load",function(){resolve(script)}),script.addEventListener("error",function(){reject(new Error("".concat(options.src," failed to load.")))}),script.addEventListener("abort",function(){reject(new Error("".concat(options.src," has aborted.")))}),container.appendChild(script)}),scriptPromiseCache[stringifiedOptions]=scriptLoadPromise),scriptLoadPromise}loadScript$1.clearCache=function(){scriptPromiseCache={}};var _b,loadScript_1$1=loadScript$1,loadScript_1=(Object.defineProperty(dist,"__esModule",{value:!0}),dist.loadStylesheet=loadScript_1=dist.loadScript=void 0,dist.loadScript=loadScript_1$1),FL_NAMESPACE=(dist.loadStylesheet=function(options){var container,stylesheet=document.querySelector('link[href="'.concat(options.href,'"]'));return stylesheet||(stylesheet=document.createElement("link"),container=options.container||document.head,stylesheet.setAttribute("rel","stylesheet"),stylesheet.setAttribute("type","text/css"),stylesheet.setAttribute("href",options.href),stylesheet.setAttribute("id",options.id),container.firstChild?container.insertBefore(stylesheet,container.firstChild):container.appendChild(stylesheet)),Promise.resolve(stylesheet)},"fastlane"),constants={AXO_ASSET_NAME:{minified:"axo",unminified:"axo.unminified"},AXO_ASSET_PATH:"connect-boba",LOCALE_PATH:"".concat("connect-boba","/locales/"),CDNX_PROD:"https://www.paypalobjects.com"},AxoSupportedPlatforms_BT="BT",AxoSupportedPlatforms_PPCP="PPCP";function isAmdEnv(){return"function"==typeof window.define&&!!window.define.amd}function safeLoadBtModule(loadConfig,version,minified){var _a;return void 0===minified&&(minified=!0),__awaiter(this,void 0,void 0,function(){var bt;return __generator(this,function(_c){if((bt=null===window||void 0===window?void 0:window.braintree)&&bt[loadConfig.module]){if(version&&(null==(_a=bt[loadConfig.module])?void 0:_a.VERSION)!==version)throw bt=null==(_a=bt[loadConfig.module])?void 0:_a.VERSION,new Error("".concat(loadConfig.module," already loaded with version ").concat(bt," cannot load version ").concat(version));return[2,!0]}if(version)return[2,function(loadConfig,version,minified){void 0===minified&&(minified=!0);{var module_1;if(isAmdEnv())return module_1=minified?loadConfig.amdModule.minified:loadConfig.amdModule.unminified,new Promise(function(resolve,reject){window.require([module_1],resolve,reject)})}minified=minified?loadConfig.script.minified:loadConfig.script.unminified;return loadScript_1({id:"".concat(loadConfig.id,"-").concat(version),src:"https://js.braintreegateway.com/web/".concat(version,"/js/").concat(minified)})}(loadConfig,version,minified)];throw new Error("Attempted to load ".concat(loadConfig.module," without specifying version"))})})}var _a,loadScript_1$1="client",dist="hostedFields",btModulesLoadConfig=((_a={})[loadScript_1$1]="client",_a[dist]="hosted-fields",(_b={})[loadScript_1$1]={id:"client",module:loadScript_1$1,amdModule:{unminified:"".concat("braintree","/").concat(_a[loadScript_1$1]),minified:"".concat("braintree","/").concat(_a[loadScript_1$1],".min")},script:{unminified:"".concat(_a[loadScript_1$1],".js"),minified:"".concat(_a[loadScript_1$1],".min.js")}},_b[dist]={id:"hcf",module:dist,amdModule:{unminified:"".concat("braintree","/").concat(_a[dist]),minified:"".concat("braintree","/").concat(_a[dist],".min")},script:{unminified:"".concat(_a[dist],".js"),minified:"".concat(_a[dist],".min.js")}},_b);function loadAXOScript(url,minified){var _a,moduleName_1;return void 0===minified&&(minified=!0),isAmdEnv()?(isAmdEnv()&&"function"==typeof window.requirejs&&"function"==typeof window.requirejs.config&&requirejs.config({paths:((_a={})[FL_NAMESPACE]=url,_a)}),moduleName_1="".concat(FL_NAMESPACE,"/").concat(minified?constants.AXO_ASSET_NAME.minified:constants.AXO_ASSET_NAME.unminified),new Promise(function(resolve,reject){window.require([moduleName_1],resolve,reject)})):loadScript_1({id:"axo-id",src:url,forceScriptReload:!0})}function generateAssetUrl(_a){var assetUrl=_a.assetUrl,_a=_a.bundleId;return(_a?"https://cdn-".concat(_a,".static.engineering.dev.paypalinc.com/"):"".concat(constants.CDNX_PROD,"/")).concat(assetUrl)}exports.constants=constants,exports.loadAxo=function(options){return __awaiter(this,void 0,void 0,function(){var btSdkVersion,minified,assetUrl,localeUrl;return __generator(this,function(_a){switch(_a.label){case 0:return performance.mark("pp_axo_sdk_init_invoked"),btSdkVersion=options.btSdkVersion,minified=options.minified,assetUrl=function(options){var assetName=!1!==(null==options?void 0:options.minified)?constants.AXO_ASSET_NAME.minified:constants.AXO_ASSET_NAME.unminified;return generateAssetUrl({assetUrl:isAmdEnv()?constants.AXO_ASSET_PATH:"".concat(constants.AXO_ASSET_PATH,"/").concat(assetName,".js"),bundleId:null==(assetName=null==options?void 0:options.metadata)?void 0:assetName.bundleIdOverride})}(options),localeUrl=function(options){return generateAssetUrl({assetUrl:constants.LOCALE_PATH,bundleId:null==(options=null==options?void 0:options.metadata)?void 0:options.bundleIdOverride})}(options),options.platform!==AxoSupportedPlatforms_BT?[3,2]:[4,Promise.all([safeLoadBtModule(btModulesLoadConfig.hostedFields,btSdkVersion,minified),loadAXOScript(assetUrl,minified)])];case 1:return _a.sent(),[3,5];case 2:return options.platform!==AxoSupportedPlatforms_PPCP?[3,4]:[4,Promise.all([safeLoadBtModule(btModulesLoadConfig.client,btSdkVersion,minified),safeLoadBtModule(btModulesLoadConfig.hostedFields,btSdkVersion,minified),loadAXOScript(assetUrl,minified)])];case 3:return _a.sent(),[3,5];case 4:throw new Error("unsupported axo platform");case 5:return[2,{metadata:{localeUrl:localeUrl}}]}})})}},"object"==typeof exports&&void 0!==module?factory(exports):factory((global="undefined"!=typeof globalThis?globalThis:global||self).loadAxo={})},{}],8:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("../lib/braintree-error");module.exports={DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:_dereq_.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":13}],9:[function(_dereq_,module,exports){"use strict";var cachedSessionId,FRAUDNET_FNCLS=_dereq_("../lib/constants").FRAUDNET_FNCLS,FRAUDNET_SOURCE=_dereq_("../lib/constants").FRAUDNET_SOURCE,FRAUDNET_URL=_dereq_("../lib/constants").FRAUDNET_URL,loadScript=_dereq_("../lib/assets").loadScript;function Fraudnet(){}function removeElementIfOnPage(element){element&&element.parentNode&&element.parentNode.removeChild(element)}Fraudnet.prototype.initialize=function(options){var sessionId,timestamp,self=this,parameterBlockConfig=(this.sessionId=options.sessionId||options.clientSessionId,this.sessionId&&(this.sessionId=this.sessionId.substring(0,32)),options.sessionId||(cachedSessionId=this.sessionId),{f:this.sessionId,s:FRAUDNET_SOURCE});return options.hasOwnProperty("beacon")&&!0!==options.beacon?parameterBlockConfig.bu=!1:parameterBlockConfig.b=(sessionId=this.sessionId,timestamp=(new Date).getTime()/1e3,"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+sessionId+"&t="+timestamp+"&a=14"),options.hasOwnProperty("cb1")&&(parameterBlockConfig.cb1=options.cb1),this._parameterBlock=function(config,environment){var el=document.body.appendChild(document.createElement("script"));"production"!==environment&&(config.sandbox=!0);return el.type="application/json",el.setAttribute("fncls",FRAUDNET_FNCLS),el.text=JSON.stringify(config),el}(parameterBlockConfig,options.environment),loadScript({src:FRAUDNET_URL}).then(function(block){return self._thirdPartyBlock=block,self}).catch(function(){return null})},Fraudnet.prototype.teardown=function(){removeElementIfOnPage(document.querySelector('iframe[title="ppfniframe"]')),removeElementIfOnPage(document.querySelector('iframe[title="pbf"]')),removeElementIfOnPage(this._parameterBlock),removeElementIfOnPage(this._thirdPartyBlock)},module.exports={setup:function(options){var fraudNet=new Fraudnet;return!(options=options||{}).sessionId&&cachedSessionId?(fraudNet.sessionId=cachedSessionId,Promise.resolve(fraudNet)):fraudNet.initialize(options)},clearSessionIdCache:function(){cachedSessionId=null}}},{"../lib/assets":11,"../lib/constants":14}],10:[function(_dereq_,module,exports){"use strict";var fraudnet=_dereq_("./fraudnet"),BraintreeError=_dereq_("../lib/braintree-error"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),wrapPromise=_dereq_("@braintree/wrap-promise"),errors=_dereq_("./errors");module.exports={create:wrapPromise(function(options){var name="Data Collector",result={_instances:[]},data={};return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then(function(){return result._instantiatedWithAClient=!options.useDeferredClient,result._createPromise=createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name}).then(function(client){client=client.getConfiguration(),client={sessionId:options.riskCorrelationId||options.clientMetadataId||options.correlationId,clientSessionId:client.analyticsMetadata.sessionId,environment:client.gatewayConfiguration.environment,cb1:options.cb1};return options.hasOwnProperty("beacon")&&(client.beacon=options.beacon),fraudnet.setup(client).then(function(fraudnetInstance){fraudnetInstance&&(data.correlation_id=fraudnetInstance.sessionId,result._instances.push(fraudnetInstance))})}).then(function(){return 0===result._instances.length?Promise.reject(new BraintreeError(errors.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(result.deviceData=JSON.stringify(data),result.rawDeviceData=data,result)}),result.teardown=function(result){return wrapPromise(function(){return result._createPromise.then(function(){result._instances.forEach(function(instance){instance&&instance.teardown()}),convertMethodsToError(result,methods(result))})})}(result),result.getDeviceData=function(result){return wrapPromise(function(options){return options=options||{},result._createPromise.then(function(){return options.raw?Promise.resolve(result.rawDeviceData):Promise.resolve(result.deviceData)})})}(result),result._instantiatedWithAClient?result._createPromise:result})}),VERSION:"3.130.0"}},{"../lib/basic-component-verification":12,"../lib/braintree-error":13,"../lib/convert-methods-to-error":15,"../lib/create-assets-url":16,"../lib/create-deferred-client":17,"../lib/methods":20,"./errors":8,"./fraudnet":9,"@braintree/wrap-promise":6}],11:[function(_dereq_,module,exports){"use strict";var loadScript=_dereq_("@braintree/asset-loader/load-script"),_dereq_=_dereq_("@paypal/accelerated-checkout-loader");module.exports={loadScript:loadScript,loadFastlane:_dereq_.loadAxo}},{"@braintree/asset-loader/load-script":2,"@paypal/accelerated-checkout-loader":7}],12:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),sharedErrors=_dereq_("./errors");module.exports={verify:function(options){var client,name;return options?(name=options.name,client=options.client,options=options.authorization,client||options?options||"3.130.0"===client.getVersion()?Promise.resolve():Promise.reject(new BraintreeError({type:sharedErrors.INCOMPATIBLE_VERSIONS.type,code:sharedErrors.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+client.getVersion()+") and "+name+" (version 3.130.0) components must be from the same SDK version."})):Promise.reject(new BraintreeError({type:sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,code:sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+name+"."}))):Promise.reject(new BraintreeError({type:sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":13,"./errors":19}],13:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("./enumerate");function BraintreeError(options){if(!BraintreeError.types.hasOwnProperty(options.type))throw new Error(options.type+" is not a valid type.");if(!options.code)throw new Error("Error code required.");if(!options.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=options.code,this.message=options.message,this.type=options.type,this.details=options.details}((BraintreeError.prototype=Object.create(Error.prototype)).constructor=BraintreeError).types=_dereq_(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),BraintreeError.findRootError=function(err){return err instanceof BraintreeError&&err.details&&err.details.originalError?BraintreeError.findRootError(err.details.originalError):err},module.exports=BraintreeError},{"./enumerate":18}],14:[function(_dereq_,module,exports){"use strict";module.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ANALYTICS_URL:"https://www.paypal.com/xoplatform/logger/api/logger",ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.130.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.130.0",ALLOWED_EXTRA_EVENT_FIELDS:["context_id","context_type","payment_ready_button_order","payment_ready_experiment_type","payment_ready_page_type","payment_ready_session_id","button_type"]}},{}],15:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),sharedErrors=_dereq_("./errors");module.exports=function(instance,methodNames){methodNames.forEach(function(methodName){instance[methodName]=function(){throw new BraintreeError({type:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,code:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,message:methodName+" cannot be called after teardown."})}})}},{"./braintree-error":13,"./errors":19}],16:[function(_dereq_,module,exports){"use strict";var ASSETS_URLS=_dereq_("./constants").ASSETS_URLS;module.exports={create:function(authorization){return ASSETS_URLS.production}}},{"./constants":14}],17:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),assets=_dereq_("./assets"),sharedErrors=_dereq_("./errors");module.exports={create:function(options){var promise=Promise.resolve();return options.client?Promise.resolve(options.client):(promise=window.braintree&&window.braintree.client?promise:assets.loadScript({src:options.assetsUrl+"/web/3.130.0/js/client.min.js"}).catch(function(err){return Promise.reject(new BraintreeError({type:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:err}}))})).then(function(){return"3.130.0"!==window.braintree.client.VERSION?Promise.reject(new BraintreeError({type:sharedErrors.INCOMPATIBLE_VERSIONS.type,code:sharedErrors.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+options.name+" (version 3.130.0) components must be from the same SDK version."})):window.braintree.client.create({authorization:options.authorization,debug:options.debug})})}}},{"./assets":11,"./braintree-error":13,"./errors":19}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(values,prefix){return prefix=null==prefix?"":prefix,values.reduce(function(enumeration,value){return enumeration[value]=prefix+value,enumeration},{})}},{}],19:[function(_dereq_,module,exports){"use strict";_dereq_=_dereq_("./braintree-error");module.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:_dereq_.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:_dereq_.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:_dereq_.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:_dereq_.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:_dereq_.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":13}],20:[function(_dereq_,module,exports){"use strict";module.exports=function(obj){return Object.keys(obj).filter(function(key){return"function"==typeof obj[key]})}},{}]},{},[10])(10)}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).Draggable={})}(this,function(exports){"use strict";class AbstractEvent{constructor(data){this._canceled=!1,this.data=data}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=!0}canceled(){return this._canceled}clone(data){return new this.constructor({...this.data,...data})}}AbstractEvent.type="event",AbstractEvent.cancelable=!1;class AbstractPlugin{constructor(draggable){this.draggable=draggable}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}const defaultDelay={mouse:0,drag:0,touch:100};class Sensor{constructor(containers=[],options={}){this.containers=[...containers],this.options={...options},this.dragging=!1,this.currentContainer=null,this.originalSource=null,this.startEvent=null,this.delay=function(optionsDelay){var delay={};if(void 0===optionsDelay)return{...defaultDelay};if("number"==typeof optionsDelay)for(const key in defaultDelay)Object.prototype.hasOwnProperty.call(defaultDelay,key)&&(delay[key]=optionsDelay);else for(const key in defaultDelay)Object.prototype.hasOwnProperty.call(defaultDelay,key)&&(void 0===optionsDelay[key]?delay[key]=defaultDelay[key]:delay[key]=optionsDelay[key]);return delay}(options.delay)}attach(){return this}detach(){return this}addContainer(...containers){this.containers=[...this.containers,...containers]}removeContainer(...containers){this.containers=this.containers.filter(container=>!containers.includes(container))}trigger(element,sensorEvent){var event=document.createEvent("Event");return event.detail=sensorEvent,event.initEvent(sensorEvent.type,!0,!0),element.dispatchEvent(event),this.lastEvent=sensorEvent}}function closest(node,value){if(null!=node){let current=node;do{if(conditionFn(current=current.correspondingUseElement||current.correspondingElement||current))return current}while(null!=(current=current?.parentNode||null)&&current!==document.body&&current!==document);function conditionFn(currentNode){return null!=currentNode&&null!=value&&(function(value){return Boolean("string"==typeof value)}(value)?Element.prototype.matches.call(currentNode,value):function(value){return Boolean(value instanceof NodeList||value instanceof Array)}(value)?[...value].includes(currentNode):function(value){return Boolean(value instanceof Node)}(value)?value===currentNode:function(value){return Boolean("function"==typeof value)}(value)&&value(currentNode))}}return null}function AutoBind(originalMethod,{name,addInitializer}){addInitializer(function(){this[name]=originalMethod.bind(this)})}function distance(x1,y1,x2,y2){return Math.sqrt((x2-x1)**2+(y2-y1)**2)}function touchCoords(event){var{touches:event,changedTouches}=event;return event&&event[0]||changedTouches&&changedTouches[0]}class SensorEvent extends AbstractEvent{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class DragStartSensorEvent extends SensorEvent{}DragStartSensorEvent.type="drag:start";class DragMoveSensorEvent extends SensorEvent{}DragMoveSensorEvent.type="drag:move";class DragStopSensorEvent extends SensorEvent{}DragStopSensorEvent.type="drag:stop";class DragPressureSensorEvent extends SensorEvent{}DragPressureSensorEvent.type="drag:pressure";const onContextMenuWhileDragging=Symbol("onContextMenuWhileDragging"),onMouseDown$2=Symbol("onMouseDown"),onMouseMove$1=Symbol("onMouseMove"),onMouseUp$2=Symbol("onMouseUp"),startDrag$1=Symbol("startDrag"),onDistanceChange$1=Symbol("onDistanceChange");class MouseSensor extends Sensor{constructor(containers=[],options={}){super(containers,options),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[onContextMenuWhileDragging]=this[onContextMenuWhileDragging].bind(this),this[onMouseDown$2]=this[onMouseDown$2].bind(this),this[onMouseMove$1]=this[onMouseMove$1].bind(this),this[onMouseUp$2]=this[onMouseUp$2].bind(this),this[startDrag$1]=this[startDrag$1].bind(this),this[onDistanceChange$1]=this[onDistanceChange$1].bind(this)}attach(){document.addEventListener("mousedown",this[onMouseDown$2],!0)}detach(){document.removeEventListener("mousedown",this[onMouseDown$2],!0)}[onMouseDown$2](event){var container,originalSource,delay,pageX,pageY;0!==event.button||event.ctrlKey||event.metaKey||!(container=closest(event.target,this.containers))||this.options.handle&&event.target&&!closest(event.target,this.options.handle)||(originalSource=closest(event.target,this.options.draggable))&&(delay=this["delay"],{pageX,pageY}=event,Object.assign(this,{pageX:pageX,pageY:pageY}),this.onMouseDownAt=Date.now(),this.startEvent=event,this.currentContainer=container,this.originalSource=originalSource,document.addEventListener("mouseup",this[onMouseUp$2]),document.addEventListener("dragstart",preventNativeDragStart),document.addEventListener("mousemove",this[onDistanceChange$1]),this.mouseDownTimeout=window.setTimeout(()=>{this[onDistanceChange$1]({pageX:this.pageX,pageY:this.pageY})},delay.mouse))}[startDrag$1](){var startEvent=this.startEvent,container=this.currentContainer,originalSource=this.originalSource,container=new DragStartSensorEvent({clientX:startEvent.clientX,clientY:startEvent.clientY,target:startEvent.target,container:container,originalSource:originalSource,originalEvent:startEvent});this.trigger(this.currentContainer,container),this.dragging=!container.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[onContextMenuWhileDragging],!0),document.addEventListener("mousemove",this[onMouseMove$1]))}[onDistanceChange$1](event){var timeElapsed,{pageX:event,pageY}=event,distance$1=this.options["distance"],{startEvent,delay}=this;Object.assign(this,{pageX:event,pageY:pageY}),this.currentContainer&&(timeElapsed=Date.now()-this.onMouseDownAt,startEvent=distance(startEvent.pageX,startEvent.pageY,event,pageY)||0,clearTimeout(this.mouseDownTimeout),timeElapsed<delay.mouse?document.removeEventListener("mousemove",this[onDistanceChange$1]):distance$1<=startEvent&&(document.removeEventListener("mousemove",this[onDistanceChange$1]),this[startDrag$1]()))}[onMouseMove$1](event){var target;this.dragging&&(target=document.elementFromPoint(event.clientX,event.clientY),target=new DragMoveSensorEvent({clientX:event.clientX,clientY:event.clientY,target:target,container:this.currentContainer,originalEvent:event}),this.trigger(this.currentContainer,target))}[onMouseUp$2](event){var target;clearTimeout(this.mouseDownTimeout),0===event.button&&(document.removeEventListener("mouseup",this[onMouseUp$2]),document.removeEventListener("dragstart",preventNativeDragStart),document.removeEventListener("mousemove",this[onDistanceChange$1]),this.dragging)&&(target=document.elementFromPoint(event.clientX,event.clientY),target=new DragStopSensorEvent({clientX:event.clientX,clientY:event.clientY,target:target,container:this.currentContainer,originalEvent:event}),this.trigger(this.currentContainer,target),document.removeEventListener("contextmenu",this[onContextMenuWhileDragging],!0),document.removeEventListener("mousemove",this[onMouseMove$1]),this.currentContainer=null,this.dragging=!1,this.startEvent=null)}[onContextMenuWhileDragging](event){event.preventDefault()}}function preventNativeDragStart(event){event.preventDefault()}const onTouchStart=Symbol("onTouchStart"),onTouchEnd=Symbol("onTouchEnd"),onTouchMove=Symbol("onTouchMove"),startDrag=Symbol("startDrag"),onDistanceChange=Symbol("onDistanceChange");let preventScrolling=!1;window.addEventListener("touchmove",event=>{preventScrolling&&event.preventDefault()},{passive:!1});class TouchSensor extends Sensor{constructor(containers=[],options={}){super(containers,options),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[onTouchStart]=this[onTouchStart].bind(this),this[onTouchEnd]=this[onTouchEnd].bind(this),this[onTouchMove]=this[onTouchMove].bind(this),this[startDrag]=this[startDrag].bind(this),this[onDistanceChange]=this[onDistanceChange].bind(this)}attach(){document.addEventListener("touchstart",this[onTouchStart])}detach(){document.removeEventListener("touchstart",this[onTouchStart])}[onTouchStart](event){var originalSource,distance,delay,pageX,pageY,container=closest(event.target,this.containers);!container||this.options.handle&&event.target&&!closest(event.target,this.options.handle)||(originalSource=closest(event.target,this.options.draggable))&&({distance=0}=this.options,delay=this["delay"],{pageX,pageY}=touchCoords(event),Object.assign(this,{pageX:pageX,pageY:pageY}),this.onTouchStartAt=Date.now(),this.startEvent=event,this.currentContainer=container,this.originalSource=originalSource,document.addEventListener("touchend",this[onTouchEnd]),document.addEventListener("touchcancel",this[onTouchEnd]),document.addEventListener("touchmove",this[onDistanceChange]),container.addEventListener("contextmenu",onContextMenu),distance&&(preventScrolling=!0),this.tapTimeout=window.setTimeout(()=>{this[onDistanceChange]({touches:[{pageX:this.pageX,pageY:this.pageY}]})},delay.touch))}[startDrag](){var startEvent=this.startEvent,container=this.currentContainer,touch=touchCoords(startEvent),originalSource=this.originalSource,touch=new DragStartSensorEvent({clientX:touch.pageX,clientY:touch.pageY,target:startEvent.target,container:container,originalSource:originalSource,originalEvent:startEvent});this.trigger(this.currentContainer,touch),this.dragging=!touch.canceled(),this.dragging&&document.addEventListener("touchmove",this[onTouchMove]),preventScrolling=this.dragging}[onDistanceChange](event){var distance$1=this.options["distance"],{startEvent,delay}=this,startEvent=touchCoords(startEvent),event=touchCoords(event),timeElapsed=Date.now()-this.onTouchStartAt,startEvent=distance(startEvent.pageX,startEvent.pageY,event.pageX,event.pageY);Object.assign(this,event),clearTimeout(this.tapTimeout),timeElapsed<delay.touch?document.removeEventListener("touchmove",this[onDistanceChange]):distance$1<=startEvent&&(document.removeEventListener("touchmove",this[onDistanceChange]),this[startDrag]())}[onTouchMove](event){var pageY,target,pageX;this.dragging&&({pageX,pageY}=touchCoords(event),target=document.elementFromPoint(pageX-window.scrollX,pageY-window.scrollY),pageX=new DragMoveSensorEvent({clientX:pageX,clientY:pageY,target:target,container:this.currentContainer,originalEvent:event}),this.trigger(this.currentContainer,pageX))}[onTouchEnd](event){var pageY,target,pageX;clearTimeout(this.tapTimeout),preventScrolling=!1,document.removeEventListener("touchend",this[onTouchEnd]),document.removeEventListener("touchcancel",this[onTouchEnd]),document.removeEventListener("touchmove",this[onDistanceChange]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",onContextMenu),this.dragging&&(document.removeEventListener("touchmove",this[onTouchMove]),{pageX,pageY}=touchCoords(event),target=document.elementFromPoint(pageX-window.scrollX,pageY-window.scrollY),event.preventDefault(),pageX=new DragStopSensorEvent({clientX:pageX,clientY:pageY,target:target,container:this.currentContainer,originalEvent:event}),this.trigger(this.currentContainer,pageX),this.currentContainer=null,this.dragging=!1,this.startEvent=null)}}function onContextMenu(event){event.preventDefault(),event.stopPropagation()}const onMouseDown$1=Symbol("onMouseDown"),onMouseUp$1=Symbol("onMouseUp"),onDragStart$7=Symbol("onDragStart"),onDragOver$3=Symbol("onDragOver"),onDragEnd=Symbol("onDragEnd"),onDrop=Symbol("onDrop"),reset=Symbol("reset");class DragSensor extends Sensor{constructor(containers=[],options={}){super(containers,options),this.mouseDownTimeout=null,this.draggableElement=null,this.nativeDraggableElement=null,this[onMouseDown$1]=this[onMouseDown$1].bind(this),this[onMouseUp$1]=this[onMouseUp$1].bind(this),this[onDragStart$7]=this[onDragStart$7].bind(this),this[onDragOver$3]=this[onDragOver$3].bind(this),this[onDragEnd]=this[onDragEnd].bind(this),this[onDrop]=this[onDrop].bind(this)}attach(){document.addEventListener("mousedown",this[onMouseDown$1],!0)}detach(){document.removeEventListener("mousedown",this[onMouseDown$1],!0)}[onDragStart$7](event){event.dataTransfer.setData("text",""),event.dataTransfer.effectAllowed=this.options.type;var target=document.elementFromPoint(event.clientX,event.clientY),originalSource=this.draggableElement;if(originalSource){const dragStartEvent=new DragStartSensorEvent({clientX:event.clientX,clientY:event.clientY,target:target,originalSource:originalSource,container:this.currentContainer,originalEvent:event});setTimeout(()=>{this.trigger(this.currentContainer,dragStartEvent),dragStartEvent.canceled()?this.dragging=!1:this.dragging=!0},0)}}[onDragOver$3](event){var container,target;this.dragging&&(target=document.elementFromPoint(event.clientX,event.clientY),container=this.currentContainer,target=new DragMoveSensorEvent({clientX:event.clientX,clientY:event.clientY,target:target,container:container,originalEvent:event}),this.trigger(container,target),target.canceled()||(event.preventDefault(),event.dataTransfer.dropEffect=this.options.type))}[onDragEnd](event){var container,target;this.dragging&&(document.removeEventListener("mouseup",this[onMouseUp$1],!0),target=document.elementFromPoint(event.clientX,event.clientY),container=this.currentContainer,target=new DragStopSensorEvent({clientX:event.clientX,clientY:event.clientY,target:target,container:container,originalEvent:event}),this.trigger(container,target),this.dragging=!1,this.startEvent=null,this[reset]())}[onDrop](event){event.preventDefault()}[onMouseDown$1](event){if(!event.target||!event.target.form&&!event.target.contenteditable){var target=event.target;if(this.currentContainer=closest(target,this.containers),this.currentContainer&&(!this.options.handle||!target||closest(target,this.options.handle))){const originalSource=closest(target,this.options.draggable);originalSource&&((target=closest(event.target,element=>element.draggable))&&(target.draggable=!1,this.nativeDraggableElement=target),document.addEventListener("mouseup",this[onMouseUp$1],!0),document.addEventListener("dragstart",this[onDragStart$7],!1),document.addEventListener("dragover",this[onDragOver$3],!1),document.addEventListener("dragend",this[onDragEnd],!1),document.addEventListener("drop",this[onDrop],!1),this.startEvent=event,this.mouseDownTimeout=setTimeout(()=>{originalSource.draggable=!0,this.draggableElement=originalSource},this.delay.drag))}}}[onMouseUp$1](){this[reset]()}[reset](){clearTimeout(this.mouseDownTimeout),document.removeEventListener("mouseup",this[onMouseUp$1],!0),document.removeEventListener("dragstart",this[onDragStart$7],!1),document.removeEventListener("dragover",this[onDragOver$3],!1),document.removeEventListener("dragend",this[onDragEnd],!1),document.removeEventListener("drop",this[onDrop],!1),this.nativeDraggableElement&&(this.nativeDraggableElement.draggable=!0,this.nativeDraggableElement=null),this.draggableElement&&(this.draggableElement.draggable=!1,this.draggableElement=null)}}const onMouseForceWillBegin=Symbol("onMouseForceWillBegin"),onMouseForceDown=Symbol("onMouseForceDown"),onMouseDown=Symbol("onMouseDown"),onMouseForceChange=Symbol("onMouseForceChange"),onMouseMove=Symbol("onMouseMove"),onMouseUp=Symbol("onMouseUp");var onMouseForceGlobalChange=Symbol("onMouseForceGlobalChange");class ForceTouchSensor extends Sensor{constructor(containers=[],options={}){super(containers,options),this.mightDrag=!1,this[onMouseForceWillBegin]=this[onMouseForceWillBegin].bind(this),this[onMouseForceDown]=this[onMouseForceDown].bind(this),this[onMouseDown]=this[onMouseDown].bind(this),this[onMouseForceChange]=this[onMouseForceChange].bind(this),this[onMouseMove]=this[onMouseMove].bind(this),this[onMouseUp]=this[onMouseUp].bind(this)}attach(){for(const container of this.containers)container.addEventListener("webkitmouseforcewillbegin",this[onMouseForceWillBegin],!1),container.addEventListener("webkitmouseforcedown",this[onMouseForceDown],!1),container.addEventListener("mousedown",this[onMouseDown],!0),container.addEventListener("webkitmouseforcechanged",this[onMouseForceChange],!1);document.addEventListener("mousemove",this[onMouseMove]),document.addEventListener("mouseup",this[onMouseUp])}detach(){for(const container of this.containers)container.removeEventListener("webkitmouseforcewillbegin",this[onMouseForceWillBegin],!1),container.removeEventListener("webkitmouseforcedown",this[onMouseForceDown],!1),container.removeEventListener("mousedown",this[onMouseDown],!0),container.removeEventListener("webkitmouseforcechanged",this[onMouseForceChange],!1);document.removeEventListener("mousemove",this[onMouseMove]),document.removeEventListener("mouseup",this[onMouseUp])}[onMouseForceWillBegin](event){event.preventDefault(),this.mightDrag=!0}[onMouseForceDown](event){var container,originalSource,target;this.dragging||(target=document.elementFromPoint(event.clientX,event.clientY),container=event.currentTarget,this.options.handle&&target&&!closest(target,this.options.handle))||(originalSource=closest(target,this.options.draggable))&&(target=new DragStartSensorEvent({clientX:event.clientX,clientY:event.clientY,target:target,container:container,originalSource:originalSource,originalEvent:event}),this.trigger(container,target),this.currentContainer=container,this.dragging=!target.canceled(),this.mightDrag=!1)}[onMouseUp](event){this.dragging&&(event=new DragStopSensorEvent({clientX:event.clientX,clientY:event.clientY,target:null,container:this.currentContainer,originalEvent:event}),this.trigger(this.currentContainer,event),this.currentContainer=null,this.dragging=!1,this.mightDrag=!1)}[onMouseDown](event){this.mightDrag&&(event.stopPropagation(),event.stopImmediatePropagation(),event.preventDefault())}[onMouseMove](event){var target;this.dragging&&(target=document.elementFromPoint(event.clientX,event.clientY),target=new DragMoveSensorEvent({clientX:event.clientX,clientY:event.clientY,target:target,container:this.currentContainer,originalEvent:event}),this.trigger(this.currentContainer,target))}[onMouseForceChange](event){var container,target;this.dragging||(target=event.target,container=event.currentTarget,target=new DragPressureSensorEvent({pressure:event.webkitForce,clientX:event.clientX,clientY:event.clientY,target:target,container:container,originalEvent:event}),this.trigger(container,target))}[onMouseForceGlobalChange](event){var target;this.dragging&&(target=event.target,target=new DragPressureSensorEvent({pressure:event.webkitForce,clientX:event.clientX,clientY:event.clientY,target:target,container:this.currentContainer,originalEvent:event}),this.trigger(this.currentContainer,target))}}var _initProto$1,onMouseForceGlobalChange=Object.freeze({__proto__:null,DragMoveSensorEvent:DragMoveSensorEvent,DragPressureSensorEvent:DragPressureSensorEvent,DragSensor:DragSensor,DragStartSensorEvent:DragStartSensorEvent,DragStopSensorEvent:DragStopSensorEvent,ForceTouchSensor:ForceTouchSensor,MouseSensor:MouseSensor,Sensor:Sensor,SensorEvent:SensorEvent,TouchSensor:TouchSensor});class CollidableEvent extends AbstractEvent{constructor(data){super(data),this.data=data}get dragEvent(){return this.data.dragEvent}}CollidableEvent.type="collidable";class CollidableInEvent extends CollidableEvent{get collidingElement(){return this.data.collidingElement}}CollidableInEvent.type="collidable:in";class CollidableOutEvent extends CollidableEvent{get collidingElement(){return this.data.collidingElement}}CollidableOutEvent.type="collidable:out";const onDragMove$4=Symbol("onDragMove"),onDragStop$7=Symbol("onDragStop"),onRequestAnimationFrame=Symbol("onRequestAnimationFrame");class Collidable extends AbstractPlugin{constructor(draggable){super(draggable),this.currentlyCollidingElement=null,this.lastCollidingElement=null,this.currentAnimationFrame=null,this[onDragMove$4]=this[onDragMove$4].bind(this),this[onDragStop$7]=this[onDragStop$7].bind(this),this[onRequestAnimationFrame]=this[onRequestAnimationFrame].bind(this)}attach(){this.draggable.on("drag:move",this[onDragMove$4]).on("drag:stop",this[onDragStop$7])}detach(){this.draggable.off("drag:move",this[onDragMove$4]).off("drag:stop",this[onDragStop$7])}getCollidables(){var collidables=this.draggable.options.collidables;return"string"==typeof collidables?Array.prototype.slice.call(document.querySelectorAll(collidables)):collidables instanceof NodeList||collidables instanceof Array?Array.prototype.slice.call(collidables):collidables instanceof HTMLElement?[collidables]:"function"==typeof collidables?collidables():[]}[onDragMove$4](event){var target=event.sensorEvent.target,target=(this.currentAnimationFrame=requestAnimationFrame(this[onRequestAnimationFrame](target)),this.currentlyCollidingElement&&event.cancel(),new CollidableInEvent({dragEvent:event,collidingElement:this.currentlyCollidingElement})),event=new CollidableOutEvent({dragEvent:event,collidingElement:this.lastCollidingElement}),enteringCollidable=Boolean(this.currentlyCollidingElement&&this.lastCollidingElement!==this.currentlyCollidingElement),leavingCollidable=Boolean(!this.currentlyCollidingElement&&this.lastCollidingElement);enteringCollidable?(this.lastCollidingElement&&this.draggable.trigger(event),this.draggable.trigger(target)):leavingCollidable&&this.draggable.trigger(event),this.lastCollidingElement=this.currentlyCollidingElement}[onDragStop$7](event){var lastCollidingElement=this.currentlyCollidingElement||this.lastCollidingElement,event=new CollidableOutEvent({dragEvent:event,collidingElement:lastCollidingElement});lastCollidingElement&&this.draggable.trigger(event),this.lastCollidingElement=null,this.currentlyCollidingElement=null}[onRequestAnimationFrame](target){return()=>{const collidables=this.getCollidables();this.currentlyCollidingElement=closest(target,element=>collidables.includes(element))}}}function createAddInitializerMethod(e,t){return function(r){(function(e,t){if(e.v)throw new Error("attempted to call "+t+" after decoration was finished")})(t,"addInitializer"),assertCallable(r,"An initializer"),e.push(r)}}function assertInstanceIfPrivate(e,t){if(!e(t))throw new TypeError("Attempted to access private element on non-instance")}function assertCallable(e,t){if("function"!=typeof e)throw new TypeError(t+" must be a function")}function assertValidReturnValue(e,t){var r=typeof t;if(1===e){if("object"!=r||null===t)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");void 0!==t.get&&assertCallable(t.get,"accessor.get"),void 0!==t.set&&assertCallable(t.set,"accessor.set"),void 0!==t.init&&assertCallable(t.init,"accessor.init")}else if("function"!=r)throw new TypeError((0===e?"field":5===e?"class":"method")+" decorators must return a function or void 0")}function applyMemberDec(e,t,r,a,n,i,s,o,c,l,u){var f,p,h,m=r[0];a||Array.isArray(m)||(m=[m]),o?f=0===i||1===i?{get:function(e){return function(){return e(this)}}(r[3]),set:function(e){return function(t){e(this,t)}}(r[4])}:3===i?{get:r[3]}:4===i?{set:r[3]}:{value:r[3]}:0!==i&&(f=Object.getOwnPropertyDescriptor(t,n)),1===i?p={get:f.get,set:f.set}:2===i?p=f.value:3===i?p=f.get:4===i&&(p=f.set);for(var I,w,d,M,g=a?2:1,b=m.length-1;0<=b;b-=g)void 0!==(h=function(e,t,r,a,n,i,s,o,c,l,u){var f;switch(i){case 1:f="accessor";break;case 2:f="method";break;case 3:f="getter";break;case 4:f="setter";break;default:f="field"}var d,p,s={kind:f,name:o?"#"+r:r,static:s,private:o,metadata:u},u={v:!1},n=(0!==i&&(s.addInitializer=createAddInitializerMethod(n,u)),o||0!==i&&2!==i?2===i?d=function(e){return assertInstanceIfPrivate(l,e),a.value}:(!(n=0===i||1===i)&&3!==i||(d=o?function(e){return assertInstanceIfPrivate(l,e),a.get.call(e)}:function(e){return a.get.call(e)}),!n&&4!==i||(p=o?function(e,t){assertInstanceIfPrivate(l,e),a.set.call(e,t)}:function(e,t){a.set.call(e,t)})):(d=function(e){return e[r]},0===i&&(p=function(e,t){e[r]=t})),o?l.bind():function(e){return r in e});s.access=d&&p?{get:d,set:p,has:n}:d?{get:d,has:n}:{set:p,has:n};try{return e.call(t,c,s)}finally{u.v=!0}}(m[b],a?m[b-1]:void 0,n,f,c,i,s,o,p,l,u))&&(assertValidReturnValue(i,h),0===i?I=h:p=1===i?(I=h.init,{get:h.get||p.get,set:h.set||p.set}):h,void 0!==I)&&(void 0===d?d=I:"function"==typeof d?d=[d,I]:d.push(I));0!==i&&1!==i||(d=void 0===d?function(e,t){return t}:"function"!=typeof d?(w=d,function(e,t){for(var r=t,a=w.length-1;0<=a;a--)r=w[a].call(e,r);return r}):(M=d,function(e,t){return M.call(e,t)}),e.push(d)),0!==i&&(1===i?(f.get=p.get,f.set=p.set):2===i?f.value=p:3===i?f.get=p:4===i&&(f.set=p),o?1===i?(e.push(function(e,t){return p.get.call(e,t)}),e.push(function(e,t){return p.set.call(e,t)})):2===i?e.push(p):e.push(function(e,t){return p.call(e,t)}):Object.defineProperty(t,n,f))}function applyMemberDecs(e,t,r,a){for(var n,i,s,o=[],c=new Map,l=new Map,u=0;u<t.length;u++){var f=t[u];if(Array.isArray(f)){var d,p,h=f[1],v=f[2],y=3<f.length,m=16&h,g=!!(8&h),b=r;if(h&=7,g?(d=e,0!=h&&(p=i=i||[]),b=s=y&&!s?function(t){return function(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?typeof e:"null"));return e}(t)===e}:s):(d=e.prototype,0!=h&&(p=n=n||[])),0!=h&&!y){var I=g?l:c,w=I.get(v)||0;if(!0===w||3===w&&4!=h||4===w&&3!=h)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+v);I.set(v,!(!w&&2<h)||h)}applyMemberDec(o,d,f,m,v,h,g,y,p,b,a)}}return pushInitializers(o,n),pushInitializers(o,i),o}function pushInitializers(e,t){t&&e.push(function(e){for(var r=0;r<t.length;r++)t[r].call(e);return e})}function defineMetadata(e,t){return Object.defineProperty(e,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:t})}function _applyDecs2305(e,t,r,a,n,i){6<=arguments.length&&(s=i[Symbol.metadata||Symbol.for("Symbol.metadata")]);var s,o=Object.create(void 0===s?null:s),i=applyMemberDecs(e,t,n,o);return r.length||defineMetadata(e,o),{e:i,get c(){return function(e,t,r,a){if(t.length){for(var n=[],i=e,s=e.name,o=r?2:1,c=t.length-1;0<=c;c-=o){var l={v:!1};try{var u=t[c].call(r?t[c-1]:void 0,i,{kind:"class",name:s,addInitializer:createAddInitializerMethod(n,l),metadata:a})}finally{l.v=!0}void 0!==u&&(assertValidReturnValue(5,u),i=u)}return[defineMetadata(i,a),function(){for(var e=0;e<n.length;e++)n[e].call(i)}]}}(e,r,a,o)}}}class DragEvent extends AbstractEvent{constructor(data){super(data),this.data=data}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}DragEvent.type="drag";class DragStartEvent extends DragEvent{}DragStartEvent.type="drag:start",DragStartEvent.cancelable=!0;class DragMoveEvent extends DragEvent{}DragMoveEvent.type="drag:move";class DragOverEvent extends DragEvent{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}DragOverEvent.type="drag:over",DragOverEvent.cancelable=!0;class DragOutEvent extends DragEvent{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}DragOutEvent.type="drag:out";class DragOverContainerEvent extends DragEvent{get overContainer(){return this.data.overContainer}}DragOverContainerEvent.type="drag:over:container";class DragOutContainerEvent extends DragEvent{get overContainer(){return this.data.overContainer}}DragOutContainerEvent.type="drag:out:container";class DragPressureEvent extends DragEvent{get pressure(){return this.data.pressure}}DragPressureEvent.type="drag:pressure";class DragStopEvent extends DragEvent{}DragStopEvent.type="drag:stop",DragStopEvent.cancelable=!0;class DragStoppedEvent extends DragEvent{}DragStoppedEvent.type="drag:stopped";var _initProto;class ResizeMirror extends AbstractPlugin{constructor(draggable){_initProto$1(super(draggable)),this.lastWidth=0,this.lastHeight=0,this.mirror=null}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror}){this.mirror=mirror}onMirrorDestroy(){this.mirror=null}onDragOver(dragEvent){this.resize(dragEvent)}resize(dragEvent){requestAnimationFrame(()=>{let over=null;var callback,overContainer=dragEvent["overContainer"];if(null!=this.mirror&&null!=this.mirror.parentNode){this.mirror.parentNode!==overContainer&&overContainer.appendChild(this.mirror);const overElement=(over=dragEvent.type===DragOverEvent.type?dragEvent.over:over)||this.draggable.getDraggableElementsForContainer(overContainer)[0];overElement&&(callback=()=>{var overRect=overElement.getBoundingClientRect();null==this.mirror||this.lastHeight===overRect.height&&this.lastWidth===overRect.width||(this.mirror.style.width=overRect.width+"px",this.mirror.style.height=overRect.height+"px",this.lastWidth=overRect.width,this.lastHeight=overRect.height)},requestAnimationFrame(()=>{requestAnimationFrame(callback)}))}})}}[_initProto$1]=_applyDecs2305(ResizeMirror,[[AutoBind,2,"onMirrorCreated"],[AutoBind,2,"onMirrorDestroy"],[AutoBind,2,"onDragOver"]],[],0,void 0,AbstractPlugin).e;class SnapEvent extends AbstractEvent{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}SnapEvent.type="snap";class SnapInEvent extends SnapEvent{}SnapInEvent.type="snap:in",SnapInEvent.cancelable=!0;class SnapOutEvent extends SnapEvent{}SnapOutEvent.type="snap:out",SnapOutEvent.cancelable=!0;const onDragStart$6=Symbol("onDragStart"),onDragStop$6=Symbol("onDragStop"),onDragOver$2=Symbol("onDragOver"),onDragOut=Symbol("onDragOut"),onMirrorCreated$1=Symbol("onMirrorCreated"),onMirrorDestroy=Symbol("onMirrorDestroy");class Snappable extends AbstractPlugin{constructor(draggable){super(draggable),this.firstSource=null,this.mirror=null,this[onDragStart$6]=this[onDragStart$6].bind(this),this[onDragStop$6]=this[onDragStop$6].bind(this),this[onDragOver$2]=this[onDragOver$2].bind(this),this[onDragOut]=this[onDragOut].bind(this),this[onMirrorCreated$1]=this[onMirrorCreated$1].bind(this),this[onMirrorDestroy]=this[onMirrorDestroy].bind(this)}attach(){this.draggable.on("drag:start",this[onDragStart$6]).on("drag:stop",this[onDragStop$6]).on("drag:over",this[onDragOver$2]).on("drag:out",this[onDragOut]).on("droppable:over",this[onDragOver$2]).on("droppable:out",this[onDragOut]).on("mirror:created",this[onMirrorCreated$1]).on("mirror:destroy",this[onMirrorDestroy])}detach(){this.draggable.off("drag:start",this[onDragStart$6]).off("drag:stop",this[onDragStop$6]).off("drag:over",this[onDragOver$2]).off("drag:out",this[onDragOut]).off("droppable:over",this[onDragOver$2]).off("droppable:out",this[onDragOut]).off("mirror:created",this[onMirrorCreated$1]).off("mirror:destroy",this[onMirrorDestroy])}[onDragStart$6](event){event.canceled()||(this.firstSource=event.source)}[onDragStop$6](){this.firstSource=null}[onDragOver$2](event){if(!event.canceled()){const source=event.source||event.dragEvent.source;source===this.firstSource?this.firstSource=null:(event=new SnapInEvent({dragEvent:event,snappable:event.over||event.droppable}),this.draggable.trigger(event),event.canceled()||(this.mirror&&(this.mirror.style.display="none"),source.classList.remove(...this.draggable.getClassNamesFor("source:dragging")),source.classList.add(...this.draggable.getClassNamesFor("source:placed")),setTimeout(()=>{source.classList.remove(...this.draggable.getClassNamesFor("source:placed"))},this.draggable.options.placedTimeout)))}}[onDragOut](event){var source;event.canceled()||(source=event.source||event.dragEvent.source,event=new SnapOutEvent({dragEvent:event,snappable:event.over||event.droppable}),this.draggable.trigger(event),event.canceled())||(this.mirror&&(this.mirror.style.display=""),source.classList.add(...this.draggable.getClassNamesFor("source:dragging")))}[onMirrorCreated$1]({mirror}){this.mirror=mirror}[onMirrorDestroy](){this.mirror=null}}const defaultOptions$7={duration:150,easingFunction:"ease-in-out",horizontal:!1};class SwapAnimation extends AbstractPlugin{constructor(draggable){_initProto(super(draggable)),this.options={...defaultOptions$7,...this.getOptions()},this.lastAnimationFrame=null}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex,newIndex,dragEvent}){const{source,over}=dragEvent;this.lastAnimationFrame&&cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{newIndex<=oldIndex?animate$1(source,over,this.options):animate$1(over,source,this.options)})}}function animate$1(from,to,{duration,easingFunction,horizontal}){for(const element of[from,to])element.style.pointerEvents="none";horizontal?(horizontal=from.offsetWidth,from.style.transform=`translate3d(${horizontal}px, 0, 0)`,to.style.transform=`translate3d(-${horizontal}px, 0, 0)`):(horizontal=from.offsetHeight,from.style.transform=`translate3d(0, ${horizontal}px, 0)`,to.style.transform=`translate3d(0, -${horizontal}px, 0)`),requestAnimationFrame(()=>{for(const element of[from,to])element.addEventListener("transitionend",resetElementOnTransitionEnd$1),element.style.transition=`transform ${duration}ms `+easingFunction,element.style.transform=""})}function resetElementOnTransitionEnd$1(event){var eventTarget;null!=event.target&&(eventTarget=event.target,Boolean("style"in eventTarget))&&(event.target.style.transition="",event.target.style.pointerEvents="",event.target.removeEventListener("transitionend",resetElementOnTransitionEnd$1))}[_initProto]=_applyDecs2305(SwapAnimation,[[AutoBind,2,"onSortableSorted"]],[],0,void 0,AbstractPlugin).e;const onSortableSorted=Symbol("onSortableSorted"),onSortableSort=Symbol("onSortableSort"),defaultOptions$6={duration:150,easingFunction:"ease-in-out"};class SortAnimation extends AbstractPlugin{constructor(draggable){super(draggable),this.options={...defaultOptions$6,...this.getOptions()},this.lastAnimationFrame=null,this.lastElements=[],this[onSortableSorted]=this[onSortableSorted].bind(this),this[onSortableSort]=this[onSortableSort].bind(this)}attach(){this.draggable.on("sortable:sort",this[onSortableSort]),this.draggable.on("sortable:sorted",this[onSortableSorted])}detach(){this.draggable.off("sortable:sort",this[onSortableSort]),this.draggable.off("sortable:sorted",this[onSortableSorted])}getOptions(){return this.draggable.options.sortAnimation||{}}[onSortableSort]({dragEvent}){dragEvent=dragEvent.sourceContainer,dragEvent=this.draggable.getDraggableElementsForContainer(dragEvent);this.lastElements=Array.from(dragEvent).map(el=>({domEl:el,offsetTop:el.offsetTop,offsetLeft:el.offsetLeft}))}[onSortableSorted]({oldIndex,newIndex}){if(oldIndex!==newIndex){const effectedElements=[];let start,end,num;num=newIndex<oldIndex?(start=newIndex,end=oldIndex-1,1):(start=oldIndex+1,end=newIndex,-1);for(let i=start;i<=end;i++){var from=this.lastElements[i],to=this.lastElements[i+num];effectedElements.push({from:from,to:to})}cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{effectedElements.forEach(element=>{{var[{from:element,to},{duration,easingFunction}]=[element,this.options];const domEl=element.domEl,x=element.offsetLeft-to.offsetLeft,y=element.offsetTop-to.offsetTop;domEl.style.pointerEvents="none",domEl.style.transform=`translate3d(${x}px, ${y}px, 0)`,requestAnimationFrame(()=>{domEl.addEventListener("transitionend",resetElementOnTransitionEnd),domEl.style.transition=`transform ${duration}ms `+easingFunction,domEl.style.transform=""})}})})}}}function resetElementOnTransitionEnd(event){event.target.style.transition="",event.target.style.pointerEvents="",event.target.removeEventListener("transitionend",resetElementOnTransitionEnd)}var element,index$1=Object.freeze({__proto__:null,Collidable:Collidable,ResizeMirror:ResizeMirror,Snappable:Snappable,SortAnimation:SortAnimation,SwapAnimation:SwapAnimation,defaultResizeMirrorOptions:{},defaultSortAnimationOptions:defaultOptions$6,defaultSwapAnimationOptions:defaultOptions$7});const onInitialize$1=Symbol("onInitialize"),onDestroy$1=Symbol("onDestroy"),announceEvent=Symbol("announceEvent"),announceMessage=Symbol("announceMessage"),defaultOptions$5={expire:7e3};class Announcement extends AbstractPlugin{constructor(draggable){super(draggable),this.options={...defaultOptions$5,...this.getOptions()},this.originalTriggerMethod=this.draggable.trigger,this[onInitialize$1]=this[onInitialize$1].bind(this),this[onDestroy$1]=this[onDestroy$1].bind(this)}attach(){this.draggable.on("draggable:initialize",this[onInitialize$1])}detach(){this.draggable.off("draggable:destroy",this[onDestroy$1])}getOptions(){return this.draggable.options.announcements||{}}[announceEvent](event){var message=this.options[event.type];message&&"string"==typeof message&&this[announceMessage](message),message&&"function"==typeof message&&this[announceMessage](message(event))}[announceMessage](message){!function(message,{expire}){const element=document.createElement("div");element.textContent=message,liveRegion.appendChild(element),setTimeout(()=>{liveRegion.removeChild(element)},expire)}(message,{expire:this.options.expire})}[onInitialize$1](){this.draggable.trigger=event=>{try{this[announceEvent](event)}finally{this.originalTriggerMethod.call(this.draggable,event)}}}[onDestroy$1](){this.draggable.trigger=this.originalTriggerMethod}}(element=document.createElement("div")).setAttribute("id","draggable-live-region"),element.setAttribute("aria-relevant","additions"),element.setAttribute("aria-atomic","true"),element.setAttribute("aria-live","assertive"),element.setAttribute("role","log"),element.style.position="fixed",element.style.width="1px",element.style.height="1px",element.style.top="-1px",element.style.overflow="hidden";const liveRegion=element;document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(liveRegion)});const onInitialize=Symbol("onInitialize"),onDestroy=Symbol("onDestroy"),defaultOptions$4={};class Focusable extends AbstractPlugin{constructor(draggable){super(draggable),this.options={...defaultOptions$4,...this.getOptions()},this[onInitialize]=this[onInitialize].bind(this),this[onDestroy]=this[onDestroy].bind(this)}attach(){this.draggable.on("draggable:initialize",this[onInitialize]).on("draggable:destroy",this[onDestroy])}detach(){this.draggable.off("draggable:initialize",this[onInitialize]).off("draggable:destroy",this[onDestroy]),this[onDestroy]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[onInitialize](){requestAnimationFrame(()=>{this.getElements().forEach(element=>function(element){var hasMissingTabIndex=Boolean(!element.getAttribute("tabindex")&&-1===element.tabIndex);hasMissingTabIndex&&(elementsWithMissingTabIndex.push(element),element.tabIndex=0)}(element))})}[onDestroy](){requestAnimationFrame(()=>{this.getElements().forEach(element=>function(element){var tabIndexElementPosition=elementsWithMissingTabIndex.indexOf(element);-1!==tabIndexElementPosition&&(element.tabIndex=-1,elementsWithMissingTabIndex.splice(tabIndexElementPosition,1))}(element))})}}const elementsWithMissingTabIndex=[];class MirrorEvent extends AbstractEvent{constructor(data){super(data),this.data=data}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}class MirrorCreateEvent extends MirrorEvent{}MirrorCreateEvent.type="mirror:create";class MirrorCreatedEvent extends MirrorEvent{get mirror(){return this.data.mirror}}MirrorCreatedEvent.type="mirror:created";class MirrorAttachedEvent extends MirrorEvent{get mirror(){return this.data.mirror}}MirrorAttachedEvent.type="mirror:attached";class MirrorMoveEvent extends MirrorEvent{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}MirrorMoveEvent.type="mirror:move",MirrorMoveEvent.cancelable=!0;class MirrorMovedEvent extends MirrorEvent{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}MirrorMovedEvent.type="mirror:moved";class MirrorDestroyEvent extends MirrorEvent{get mirror(){return this.data.mirror}}MirrorDestroyEvent.type="mirror:destroy",MirrorDestroyEvent.cancelable=!0;const onDragStart$5=Symbol("onDragStart"),onDragMove$3=Symbol("onDragMove"),onDragStop$5=Symbol("onDragStop"),onMirrorCreated=Symbol("onMirrorCreated"),onMirrorMove=Symbol("onMirrorMove"),onScroll=Symbol("onScroll"),getAppendableContainer=Symbol("getAppendableContainer"),defaultOptions$3={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class Mirror extends AbstractPlugin{constructor(draggable){super(draggable),this.options={...defaultOptions$3,...this.getOptions()},this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[onDragStart$5]=this[onDragStart$5].bind(this),this[onDragMove$3]=this[onDragMove$3].bind(this),this[onDragStop$5]=this[onDragStop$5].bind(this),this[onMirrorCreated]=this[onMirrorCreated].bind(this),this[onMirrorMove]=this[onMirrorMove].bind(this),this[onScroll]=this[onScroll].bind(this)}attach(){this.draggable.on("drag:start",this[onDragStart$5]).on("drag:move",this[onDragMove$3]).on("drag:stop",this[onDragStop$5]).on("mirror:created",this[onMirrorCreated]).on("mirror:move",this[onMirrorMove])}detach(){this.draggable.off("drag:start",this[onDragStart$5]).off("drag:move",this[onDragMove$3]).off("drag:stop",this[onDragStop$5]).off("mirror:created",this[onMirrorCreated]).off("mirror:move",this[onMirrorMove])}getOptions(){return this.draggable.options.mirror||{}}[onDragStart$5](dragEvent){var originalSource,sourceContainer,sensorEvent,mirrorCreateEvent,mirrorCreatedEvent,source;dragEvent.canceled()||("ontouchstart"in window&&document.addEventListener("scroll",this[onScroll],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY},{source,originalSource,sourceContainer,sensorEvent}=dragEvent,this.lastMirrorMovedClient={x:sensorEvent.clientX,y:sensorEvent.clientY},mirrorCreateEvent=new MirrorCreateEvent({source:source,originalSource:originalSource,sourceContainer:sourceContainer,sensorEvent:sensorEvent,dragEvent:dragEvent}),this.draggable.trigger(mirrorCreateEvent),/^drag/.test(sensorEvent.originalEvent.type))||mirrorCreateEvent.canceled()||(mirrorCreateEvent=this[getAppendableContainer](source)||sourceContainer,this.mirror=source.cloneNode(!0),mirrorCreatedEvent=new MirrorCreatedEvent({source:source,originalSource:originalSource,sourceContainer:sourceContainer,sensorEvent:sensorEvent,dragEvent:dragEvent,mirror:this.mirror}),source=new MirrorAttachedEvent({source:source,originalSource:originalSource,sourceContainer:sourceContainer,sensorEvent:sensorEvent,dragEvent:dragEvent,mirror:this.mirror}),this.draggable.trigger(mirrorCreatedEvent),mirrorCreateEvent.appendChild(this.mirror),this.draggable.trigger(source))}[onDragMove$3](dragEvent){if(this.mirror&&!dragEvent.canceled()){var{source,originalSource,sourceContainer,sensorEvent}=dragEvent;let passedThreshX=!0,passedThreshY=!0;if(this.options.thresholdX||this.options.thresholdY){var{x:lastX,y:lastY}=this.lastMirrorMovedClient;if(Math.abs(lastX-sensorEvent.clientX)<this.options.thresholdX?passedThreshX=!1:this.lastMirrorMovedClient.x=sensorEvent.clientX,Math.abs(lastY-sensorEvent.clientY)<this.options.thresholdY?passedThreshY=!1:this.lastMirrorMovedClient.y=sensorEvent.clientY,!passedThreshX&&!passedThreshY)return}lastX=new MirrorMoveEvent({source:source,originalSource:originalSource,sourceContainer:sourceContainer,sensorEvent:sensorEvent,dragEvent:dragEvent,mirror:this.mirror,passedThreshX:passedThreshX,passedThreshY:passedThreshY});this.draggable.trigger(lastX)}}[onDragStop$5](dragEvent){var sourceContainer,sensorEvent,source;"ontouchstart"in window&&document.removeEventListener("scroll",this[onScroll],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},this.mirror&&({source,sourceContainer,sensorEvent}=dragEvent,source=new MirrorDestroyEvent({source:source,mirror:this.mirror,sourceContainer:sourceContainer,sensorEvent:sensorEvent,dragEvent:dragEvent}),this.draggable.trigger(source),source.canceled()||this.mirror.remove())}[onScroll](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[onMirrorCreated]({mirror,source,sensorEvent}){var mirrorClasses=this.draggable.getClassNamesFor("mirror"),mirror=(mirror.style.display="none",{mirror:mirror,source:source,sensorEvent:sensorEvent,mirrorClasses:mirrorClasses,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0});return Promise.resolve(mirror).then(computeMirrorDimensions).then(calculateMirrorOffset).then(resetMirror).then(addMirrorClasses).then(positionMirror({initial:!0})).then(removeMirrorID).then(({mirrorOffset,initialX,initialY,...args})=>(this.mirrorOffset=mirrorOffset,this.initialX=initialX,this.initialY=initialY,{mirrorOffset:mirrorOffset,initialX:this.lastMovedX=initialX,initialY:this.lastMovedY=initialY,...args}))}[onMirrorMove](mirrorEvent){var initialState;return mirrorEvent.canceled()?null:(initialState={mirror:mirrorEvent.mirror,sensorEvent:mirrorEvent.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:mirrorEvent.passedThreshX,passedThreshY:mirrorEvent.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY},Promise.resolve(initialState).then(positionMirror({raf:!0})).then(({lastMovedX,lastMovedY,...args})=>({lastMovedX:this.lastMovedX=lastMovedX,lastMovedY:this.lastMovedY=lastMovedY,...args})).then(args=>{var mirrorMovedEvent=new MirrorMovedEvent({source:mirrorEvent.source,originalSource:mirrorEvent.originalSource,sourceContainer:mirrorEvent.sourceContainer,sensorEvent:mirrorEvent.sensorEvent,dragEvent:mirrorEvent.dragEvent,mirror:this.mirror,passedThreshX:mirrorEvent.passedThreshX,passedThreshY:mirrorEvent.passedThreshY});return this.draggable.trigger(mirrorMovedEvent),args}))}[getAppendableContainer](source){var appendTo=this.options.appendTo;return"string"==typeof appendTo?document.querySelector(appendTo):appendTo instanceof HTMLElement?appendTo:"function"==typeof appendTo?appendTo(source):source.parentNode}}function computeMirrorDimensions({source,...args}){return withPromise(resolve=>{var sourceRect=source.getBoundingClientRect();resolve({source:source,sourceRect:sourceRect,...args})})}function calculateMirrorOffset({sensorEvent,sourceRect,options,...args}){return withPromise(resolve=>{var top=null===options.cursorOffsetY?sensorEvent.clientY-sourceRect.top:options.cursorOffsetY,left=null===options.cursorOffsetX?sensorEvent.clientX-sourceRect.left:options.cursorOffsetX;resolve({sensorEvent:sensorEvent,sourceRect:sourceRect,mirrorOffset:{top:top,left:left},options:options,...args})})}function resetMirror({mirror,source,options,...args}){return withPromise(resolve=>{let offsetHeight,offsetWidth;var computedSourceStyles;options.constrainDimensions&&(computedSourceStyles=getComputedStyle(source),offsetHeight=computedSourceStyles.getPropertyValue("height"),offsetWidth=computedSourceStyles.getPropertyValue("width")),mirror.style.display=null,mirror.style.position="fixed",mirror.style.pointerEvents="none",mirror.style.top=0,mirror.style.left=0,mirror.style.margin=0,options.constrainDimensions&&(mirror.style.height=offsetHeight,mirror.style.width=offsetWidth),resolve({mirror:mirror,source:source,options:options,...args})})}function addMirrorClasses({mirror,mirrorClasses,...args}){return withPromise(resolve=>{mirror.classList.add(...mirrorClasses),resolve({mirror:mirror,mirrorClasses:mirrorClasses,...args})})}function removeMirrorID({mirror,...args}){return withPromise(resolve=>{mirror.removeAttribute("id"),delete mirror.id,resolve({mirror:mirror,...args})})}function positionMirror({withFrame=!1,initial=!1}={}){return({mirror,sensorEvent,mirrorOffset,initialY,initialX,scrollOffset,options,passedThreshX,passedThreshY,lastMovedX,lastMovedY,...args})=>withPromise(resolve=>{var x,y,result={mirror:mirror,sensorEvent:sensorEvent,mirrorOffset:mirrorOffset,options:options,...args};mirrorOffset&&(x=passedThreshX?Math.round((sensorEvent.clientX-mirrorOffset.left-scrollOffset.x)/(options.thresholdX||1))*(options.thresholdX||1):Math.round(lastMovedX),y=passedThreshY?Math.round((sensorEvent.clientY-mirrorOffset.top-scrollOffset.y)/(options.thresholdY||1))*(options.thresholdY||1):Math.round(lastMovedY),options.xAxis&&options.yAxis||initial?mirror.style.transform=`translate3d(${x}px, ${y}px, 0)`:options.xAxis&&!options.yAxis?mirror.style.transform=`translate3d(${x}px, ${initialY}px, 0)`:options.yAxis&&!options.xAxis&&(mirror.style.transform=`translate3d(${initialX}px, ${y}px, 0)`),initial&&(result.initialX=x,result.initialY=y),result.lastMovedX=x,result.lastMovedY=y),resolve(result)},{frame:withFrame})}function withPromise(callback,{raf=!1}={}){return new Promise((resolve,reject)=>{raf?requestAnimationFrame(()=>{callback(resolve,reject)}):callback(resolve,reject)})}const onDragStart$4=Symbol("onDragStart"),onDragMove$2=Symbol("onDragMove"),onDragStop$4=Symbol("onDragStop"),scroll=Symbol("scroll"),defaultOptions$2={speed:6,sensitivity:50,scrollableElements:[]};class Scrollable extends AbstractPlugin{constructor(draggable){super(draggable),this.options={...defaultOptions$2,...this.getOptions()},this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[onDragStart$4]=this[onDragStart$4].bind(this),this[onDragMove$2]=this[onDragMove$2].bind(this),this[onDragStop$4]=this[onDragStop$4].bind(this),this[scroll]=this[scroll].bind(this)}attach(){this.draggable.on("drag:start",this[onDragStart$4]).on("drag:move",this[onDragMove$2]).on("drag:stop",this[onDragStop$4])}detach(){this.draggable.off("drag:start",this[onDragStart$4]).off("drag:move",this[onDragMove$2]).off("drag:stop",this[onDragStop$4])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(target){if(this.hasDefinedScrollableElements())return closest(target,this.options.scrollableElements)||document.documentElement;{if(!target)return getDocumentScrollingElement();const position=getComputedStyle(target).getPropertyValue("position"),excludeStaticParents="absolute"===position,scrollableElement=closest(target,parent=>{return(!excludeStaticParents||!function(element){element=getComputedStyle(element).getPropertyValue("position");return"static"===element}(parent))&&(parent=parent,parent=(parent=getComputedStyle(parent,null)).getPropertyValue("overflow")+parent.getPropertyValue("overflow-y")+parent.getPropertyValue("overflow-x"),/(auto|scroll)/.test(parent))});return"fixed"!==position&&scrollableElement?scrollableElement:getDocumentScrollingElement();return}}hasDefinedScrollableElements(){return Boolean(0!==this.options.scrollableElements.length)}[onDragStart$4](dragEvent){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(dragEvent.source)})}[onDragMove$2](dragEvent){var sensorEvent,scrollOffset;this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(dragEvent.sensorEvent.target)}),this.scrollableElement&&(sensorEvent=dragEvent.sensorEvent,scrollOffset={x:0,y:0},"ontouchstart"in window&&(scrollOffset.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,scrollOffset.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:sensorEvent.clientX-scrollOffset.x,clientY:sensorEvent.clientY-scrollOffset.y},this.scrollAnimationFrame=requestAnimationFrame(this[scroll]))}[onDragStop$4](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[scroll](){var speed,sensitivity,rect,documentScrollingElement,scrollableElement,clientX,clientY,topCutOff,bottomCutOff;this.scrollableElement&&this.currentMousePosition&&(cancelAnimationFrame(this.scrollAnimationFrame),{speed,sensitivity}=this.options,bottomCutOff=(rect=this.scrollableElement.getBoundingClientRect()).bottom>window.innerHeight,topCutOff=rect.top<0,documentScrollingElement=getDocumentScrollingElement(),scrollableElement=this.scrollableElement,clientX=this.currentMousePosition.clientX,clientY=this.currentMousePosition.clientY,scrollableElement===document.body||scrollableElement===document.documentElement||(topCutOff||bottomCutOff)?({innerHeight:topCutOff,innerWidth:bottomCutOff}=window,clientY<sensitivity?documentScrollingElement.scrollTop-=speed:topCutOff-clientY<sensitivity&&(documentScrollingElement.scrollTop+=speed),clientX<sensitivity?documentScrollingElement.scrollLeft-=speed:bottomCutOff-clientX<sensitivity&&(documentScrollingElement.scrollLeft+=speed)):({offsetHeight:topCutOff,offsetWidth:bottomCutOff}=scrollableElement,rect.top+topCutOff-clientY<sensitivity?scrollableElement.scrollTop+=speed:clientY-rect.top<sensitivity&&(scrollableElement.scrollTop-=speed),rect.left+bottomCutOff-clientX<sensitivity?scrollableElement.scrollLeft+=speed:clientX-rect.left<sensitivity&&(scrollableElement.scrollLeft-=speed)),this.scrollAnimationFrame=requestAnimationFrame(this[scroll]))}}function getDocumentScrollingElement(){return document.scrollingElement||document.documentElement}class Emitter{constructor(){this.callbacks={}}on(type,...callbacks){return this.callbacks[type]||(this.callbacks[type]=[]),this.callbacks[type].push(...callbacks),this}off(type,callback){if(!this.callbacks[type])return null;var copy=this.callbacks[type].slice(0);for(let i=0;i<copy.length;i++)callback===copy[i]&&this.callbacks[type].splice(i,1);return this}trigger(event){if(!this.callbacks[event.type])return null;var callbacks=[...this.callbacks[event.type]],caughtErrors=[];for(let i=callbacks.length-1;0<=i;i--){var callback=callbacks[i];try{callback(event)}catch(error){caughtErrors.push(error)}}return caughtErrors.length&&console.error(`Draggable caught errors while triggering '${event.type}'`,caughtErrors),this}}class DraggableEvent extends AbstractEvent{get draggable(){return this.data.draggable}}DraggableEvent.type="draggable";class DraggableInitializedEvent extends DraggableEvent{}DraggableInitializedEvent.type="draggable:initialize";class DraggableDestroyEvent extends DraggableEvent{}DraggableDestroyEvent.type="draggable:destroy";const onDragStart$3=Symbol("onDragStart"),onDragMove$1=Symbol("onDragMove"),onDragStop$3=Symbol("onDragStop"),onDragPressure=Symbol("onDragPressure"),dragStop=Symbol("dragStop"),defaultAnnouncements$3={"drag:start":event=>"Picked up "+(event.source.textContent.trim()||event.source.id||"draggable element"),"drag:stop":event=>"Released "+(event.source.textContent.trim()||event.source.id||"draggable element")},defaultClasses$1={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},defaultOptions$1={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class Draggable{constructor(containers=[document.body],options={}){if(containers instanceof NodeList||containers instanceof Array)this.containers=[...containers];else{if(!(containers instanceof HTMLElement))throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.containers=[containers]}this.options={...defaultOptions$1,...options,classes:{...defaultClasses$1,...options.classes||{}},announcements:{...defaultAnnouncements$3,...options.announcements||{}},exclude:{plugins:options.exclude&&options.exclude.plugins||[],sensors:options.exclude&&options.exclude.sensors||[]}},this.emitter=new Emitter,this.dragging=!1,this.plugins=[],this.sensors=[],this[onDragStart$3]=this[onDragStart$3].bind(this),this[onDragMove$1]=this[onDragMove$1].bind(this),this[onDragStop$3]=this[onDragStop$3].bind(this),this[onDragPressure]=this[onDragPressure].bind(this),this[dragStop]=this[dragStop].bind(this),document.addEventListener("drag:start",this[onDragStart$3],!0),document.addEventListener("drag:move",this[onDragMove$1],!0),document.addEventListener("drag:stop",this[onDragStop$3],!0),document.addEventListener("drag:pressure",this[onDragPressure],!0);containers=Object.values(Draggable.Plugins).filter(Plugin=>!this.options.exclude.plugins.includes(Plugin)),options=Object.values(Draggable.Sensors).filter(sensor=>!this.options.exclude.sensors.includes(sensor)),this.addPlugin(...containers,...this.options.plugins),this.addSensor(...options,...this.options.sensors),containers=new DraggableInitializedEvent({draggable:this});this.on("mirror:created",({mirror})=>this.mirror=mirror),this.on("mirror:destroy",()=>this.mirror=null),this.trigger(containers)}destroy(){document.removeEventListener("drag:start",this[onDragStart$3],!0),document.removeEventListener("drag:move",this[onDragMove$1],!0),document.removeEventListener("drag:stop",this[onDragStop$3],!0),document.removeEventListener("drag:pressure",this[onDragPressure],!0);var draggableDestroyEvent=new DraggableDestroyEvent({draggable:this});this.trigger(draggableDestroyEvent),this.removePlugin(...this.plugins.map(plugin=>plugin.constructor)),this.removeSensor(...this.sensors.map(sensor=>sensor.constructor))}addPlugin(...plugins){plugins=plugins.map(Plugin=>new Plugin(this));return plugins.forEach(plugin=>plugin.attach()),this.plugins=[...this.plugins,...plugins],this}removePlugin(...plugins){return this.plugins.filter(plugin=>plugins.includes(plugin.constructor)).forEach(plugin=>plugin.detach()),this.plugins=this.plugins.filter(plugin=>!plugins.includes(plugin.constructor)),this}addSensor(...sensors){sensors=sensors.map(Sensor=>new Sensor(this.containers,this.options));return sensors.forEach(sensor=>sensor.attach()),this.sensors=[...this.sensors,...sensors],this}removeSensor(...sensors){return this.sensors.filter(sensor=>sensors.includes(sensor.constructor)).forEach(sensor=>sensor.detach()),this.sensors=this.sensors.filter(sensor=>!sensors.includes(sensor.constructor)),this}addContainer(...containers){return this.containers=[...this.containers,...containers],this.sensors.forEach(sensor=>sensor.addContainer(...containers)),this}removeContainer(...containers){return this.containers=this.containers.filter(container=>!containers.includes(container)),this.sensors.forEach(sensor=>sensor.removeContainer(...containers)),this}on(type,...callbacks){return this.emitter.on(type,...callbacks),this}off(type,callback){return this.emitter.off(type,callback),this}trigger(event){return this.emitter.trigger(event),this}getClassNameFor(name){return this.getClassNamesFor(name)[0]}getClassNamesFor(name){name=this.options.classes[name];return name instanceof Array?name:"string"==typeof name||name instanceof String?[name]:[]}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce((current,container)=>[...current,...this.getDraggableElementsForContainer(container)],[])}getDraggableElementsForContainer(container){return[...container.querySelectorAll(this.options.draggable)].filter(childElement=>childElement!==this.originalSource&&childElement!==this.mirror)}cancel(){this[dragStop]()}[onDragStart$3](event){var sensorEvent=event.detail,{target,container,originalSource}=sensorEvent;this.containers.includes(container)&&(this.options.handle&&target&&!closest(target,this.options.handle)?sensorEvent.cancel():(this.originalSource=originalSource,this.sourceContainer=container,this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none",target=new DragStartEvent({source:this.source,originalSource:this.originalSource,sourceContainer:container,sensorEvent:sensorEvent}),this.trigger(target),this.dragging=!target.canceled(),target.canceled()?(this.source.remove(),this.originalSource.style.display=null):(this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),applyUserSelect(document.body,"none"),requestAnimationFrame(()=>{var newSensorEvent=event.detail.clone({target:this.source});this[onDragMove$1]({...event,detail:newSensorEvent})}))))}[onDragMove$1](event){var container,target,overContainer,isOverContainer,dragMoveEvent,isLeavingContainer,isLeavingDraggable;this.dragging&&(container=(event=event.detail)["container"],target=event.target,dragMoveEvent=new DragMoveEvent({source:this.source,originalSource:this.originalSource,sourceContainer:container,sensorEvent:event}),this.trigger(dragMoveEvent),dragMoveEvent.canceled()&&event.cancel(),target=closest(target,this.options.draggable),dragMoveEvent=closest(event.target,this.containers),overContainer=event.overContainer||dragMoveEvent,isLeavingContainer=this.currentOverContainer&&overContainer!==this.currentOverContainer,isLeavingDraggable=this.currentOver&&target!==this.currentOver,isOverContainer=overContainer&&this.currentOverContainer!==overContainer,dragMoveEvent=dragMoveEvent&&target&&this.currentOver!==target,isLeavingDraggable&&(isLeavingDraggable=new DragOutEvent({source:this.source,originalSource:this.originalSource,sourceContainer:container,sensorEvent:event,over:this.currentOver,overContainer:this.currentOverContainer}),this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(isLeavingDraggable)),isLeavingContainer&&(isLeavingDraggable=new DragOutContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:container,sensorEvent:event,overContainer:this.currentOverContainer}),this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(isLeavingDraggable)),isOverContainer&&(overContainer.classList.add(...this.getClassNamesFor("container:over")),isLeavingContainer=new DragOverContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:container,sensorEvent:event,overContainer:overContainer}),this.currentOverContainer=overContainer,this.trigger(isLeavingContainer)),dragMoveEvent)&&(target.classList.add(...this.getClassNamesFor("draggable:over")),isLeavingDraggable=new DragOverEvent({source:this.source,originalSource:this.originalSource,sourceContainer:container,sensorEvent:event,overContainer:overContainer,over:target}),this.currentOver=target,this.trigger(isLeavingDraggable))}[dragStop](event){var dragStopEvent;this.dragging&&(this.dragging=!1,dragStopEvent=new DragStopEvent({source:this.source,originalSource:this.originalSource,sensorEvent:event?event.sensorEvent:null,sourceContainer:this.sourceContainer}),this.trigger(dragStopEvent),dragStopEvent.canceled()||this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.remove(),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),applyUserSelect(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout),dragStopEvent=new DragStoppedEvent({source:this.source,originalSource:this.originalSource,sensorEvent:event?event.sensorEvent:null,sourceContainer:this.sourceContainer}),this.trigger(dragStopEvent),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null)}[onDragStop$3](event){this[dragStop](event)}[onDragPressure](event){var source;this.dragging&&(event=event.detail,source=this.source||closest(event.originalEvent.target,this.options.draggable),source=new DragPressureEvent({sensorEvent:event,source:source,pressure:event.pressure}),this.trigger(source))}}function applyUserSelect(element,value){element.style.webkitUserSelect=value,element.style.mozUserSelect=value,element.style.msUserSelect=value,element.style.oUserSelect=value,element.style.userSelect=value}Draggable.Plugins={Announcement:Announcement,Focusable:Focusable,Mirror:Mirror,Scrollable:Scrollable},Draggable.Sensors={MouseSensor:MouseSensor,TouchSensor:TouchSensor};class DroppableEvent extends AbstractEvent{constructor(data){super(data),this.data=data}get dragEvent(){return this.data.dragEvent}}DroppableEvent.type="droppable";class DroppableStartEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableStartEvent.type="droppable:start",DroppableStartEvent.cancelable=!0;class DroppableDroppedEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableDroppedEvent.type="droppable:dropped",DroppableDroppedEvent.cancelable=!0;class DroppableReturnedEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableReturnedEvent.type="droppable:returned",DroppableReturnedEvent.cancelable=!0;class DroppableStopEvent extends DroppableEvent{get dropzone(){return this.data.dropzone}}DroppableStopEvent.type="droppable:stop",DroppableStopEvent.cancelable=!0;const onDragStart$2=Symbol("onDragStart"),onDragMove=Symbol("onDragMove"),onDragStop$2=Symbol("onDragStop"),dropInDropzone=Symbol("dropInDropZone"),returnToOriginalDropzone=Symbol("returnToOriginalDropzone"),closestDropzone=Symbol("closestDropzone"),getDropzones=Symbol("getDropzones");const defaultAnnouncements$2={"droppable:dropped":function({dragEvent,dropzone}){return`Dropped ${dragEvent.source.textContent.trim()||dragEvent.source.id||"draggable element"} into `+(dropzone.textContent.trim()||dropzone.id||"droppable element")},"droppable:returned":function({dragEvent,dropzone}){return`Returned ${dragEvent.source.textContent.trim()||dragEvent.source.id||"draggable element"} from `+(dropzone.textContent.trim()||dropzone.id||"droppable element")}},defaultClasses={"droppable:active":"draggable-dropzone--active","droppable:occupied":"draggable-dropzone--occupied"},defaultOptions={dropzone:".draggable-droppable"};class Droppable extends Draggable{constructor(containers=[],options={}){super(containers,{...defaultOptions,...options,classes:{...defaultClasses,...options.classes||{}},announcements:{...defaultAnnouncements$2,...options.announcements||{}}}),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null,this[onDragStart$2]=this[onDragStart$2].bind(this),this[onDragMove]=this[onDragMove].bind(this),this[onDragStop$2]=this[onDragStop$2].bind(this),this.on("drag:start",this[onDragStart$2]).on("drag:move",this[onDragMove]).on("drag:stop",this[onDragStop$2])}destroy(){super.destroy(),this.off("drag:start",this[onDragStart$2]).off("drag:move",this[onDragMove]).off("drag:stop",this[onDragStop$2])}[onDragStart$2](event){if(!event.canceled()){this.dropzones=[...this[getDropzones]()];var dropzone=closest(event.sensorEvent.target,this.options.dropzone);if(dropzone){var droppableStartEvent=new DroppableStartEvent({dragEvent:event,dropzone:dropzone});if(this.trigger(droppableStartEvent),droppableStartEvent.canceled())event.cancel();else{this.initialDropzone=dropzone;for(const dropzoneElement of this.dropzones)dropzoneElement.classList.contains(this.getClassNameFor("droppable:occupied"))||dropzoneElement.classList.add(...this.getClassNamesFor("droppable:active"))}}else event.cancel()}}[onDragMove](event){var dropzone;event.canceled()||((dropzone=this[closestDropzone](event.sensorEvent.target))&&!dropzone.classList.contains(this.getClassNameFor("droppable:occupied"))&&this[dropInDropzone](event,dropzone)?this.lastDropzone=dropzone:dropzone&&dropzone!==this.initialDropzone||!this.lastDropzone||(this[returnToOriginalDropzone](event),this.lastDropzone=null))}[onDragStop$2](event){event=new DroppableStopEvent({dragEvent:event,dropzone:this.lastDropzone||this.initialDropzone}),this.trigger(event),event=this.getClassNamesFor("droppable:occupied");for(const dropzone of this.dropzones)dropzone.classList.remove(...this.getClassNamesFor("droppable:active"));this.lastDropzone&&this.lastDropzone!==this.initialDropzone&&this.initialDropzone.classList.remove(...event),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null}[dropInDropzone](event,dropzone){var droppableDroppedEvent=new DroppableDroppedEvent({dragEvent:event,dropzone:dropzone});return this.trigger(droppableDroppedEvent),!droppableDroppedEvent.canceled()&&(droppableDroppedEvent=this.getClassNamesFor("droppable:occupied"),this.lastDropzone&&this.lastDropzone.classList.remove(...droppableDroppedEvent),dropzone.appendChild(event.source),dropzone.classList.add(...droppableDroppedEvent),!0)}[returnToOriginalDropzone](event){var droppableReturnedEvent=new DroppableReturnedEvent({dragEvent:event,dropzone:this.lastDropzone});this.trigger(droppableReturnedEvent),droppableReturnedEvent.canceled()||(this.initialDropzone.appendChild(event.source),this.lastDropzone.classList.remove(...this.getClassNamesFor("droppable:occupied")))}[closestDropzone](target){return this.dropzones?closest(target,this.dropzones):null}[getDropzones](){var dropzone=this.options.dropzone;return"string"==typeof dropzone?document.querySelectorAll(dropzone):dropzone instanceof NodeList||dropzone instanceof Array?dropzone:"function"==typeof dropzone?dropzone():[]}}class SwappableEvent extends AbstractEvent{constructor(data){super(data),this.data=data}get dragEvent(){return this.data.dragEvent}}SwappableEvent.type="swappable";class SwappableStartEvent extends SwappableEvent{}SwappableStartEvent.type="swappable:start",SwappableStartEvent.cancelable=!0;class SwappableSwapEvent extends SwappableEvent{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}SwappableSwapEvent.type="swappable:swap",SwappableSwapEvent.cancelable=!0;class SwappableSwappedEvent extends SwappableEvent{get swappedElement(){return this.data.swappedElement}}SwappableSwappedEvent.type="swappable:swapped";class SwappableStopEvent extends SwappableEvent{}SwappableStopEvent.type="swappable:stop";const onDragStart$1=Symbol("onDragStart"),onDragOver$1=Symbol("onDragOver"),onDragStop$1=Symbol("onDragStop");const defaultAnnouncements$1={"swappabled:swapped":function({dragEvent,swappedElement}){return`Swapped ${dragEvent.source.textContent.trim()||dragEvent.source.id||"swappable element"} with `+(swappedElement.textContent.trim()||swappedElement.id||"swappable element")}};class Swappable extends Draggable{constructor(containers=[],options={}){super(containers,{...options,announcements:{...defaultAnnouncements$1,...options.announcements||{}}}),this.lastOver=null,this[onDragStart$1]=this[onDragStart$1].bind(this),this[onDragOver$1]=this[onDragOver$1].bind(this),this[onDragStop$1]=this[onDragStop$1].bind(this),this.on("drag:start",this[onDragStart$1]).on("drag:over",this[onDragOver$1]).on("drag:stop",this[onDragStop$1])}destroy(){super.destroy(),this.off("drag:start",this._onDragStart).off("drag:over",this._onDragOver).off("drag:stop",this._onDragStop)}[onDragStart$1](event){var swappableStartEvent=new SwappableStartEvent({dragEvent:event});this.trigger(swappableStartEvent),swappableStartEvent.canceled()&&event.cancel()}[onDragOver$1](event){var swappableSwapEvent;event.over===event.originalSource||event.over===event.source||event.canceled()||(swappableSwapEvent=new SwappableSwapEvent({dragEvent:event,over:event.over,overContainer:event.overContainer}),this.trigger(swappableSwapEvent),swappableSwapEvent.canceled())||(this.lastOver&&this.lastOver!==event.over&&swap(this.lastOver,event.source),this.lastOver===event.over?this.lastOver=null:this.lastOver=event.over,swap(event.source,event.over),swappableSwapEvent=new SwappableSwappedEvent({dragEvent:event,swappedElement:event.over}),this.trigger(swappableSwapEvent))}[onDragStop$1](event){event=new SwappableStopEvent({dragEvent:event});this.trigger(event),this.lastOver=null}}function swap(source,over){const overParent=over.parentNode,sourceParent=source.parentNode;var callback,tmpElement;callback=tmpElement=>{sourceParent.insertBefore(tmpElement,source),overParent.insertBefore(source,over),sourceParent.insertBefore(over,tmpElement)},tmpElement=document.createElement("div"),callback(tmpElement),tmpElement.remove()}class SortableEvent extends AbstractEvent{constructor(data){super(data),this.data=data}get dragEvent(){return this.data.dragEvent}}SortableEvent.type="sortable";class SortableStartEvent extends SortableEvent{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}SortableStartEvent.type="sortable:start",SortableStartEvent.cancelable=!0;class SortableSortEvent extends SortableEvent{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}SortableSortEvent.type="sortable:sort",SortableSortEvent.cancelable=!0;class SortableSortedEvent extends SortableEvent{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}SortableSortedEvent.type="sortable:sorted";class SortableStopEvent extends SortableEvent{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}SortableStopEvent.type="sortable:stop";const onDragStart=Symbol("onDragStart"),onDragOverContainer=Symbol("onDragOverContainer"),onDragOver=Symbol("onDragOver"),onDragStop=Symbol("onDragStop");const defaultAnnouncements={"sortable:sorted":function({dragEvent}){var overText,sourceText=dragEvent.source.textContent.trim()||dragEvent.source.id||"sortable element";return dragEvent.over?(overText=dragEvent.over.textContent.trim()||dragEvent.over.id||"sortable element",dragEvent.source.compareDocumentPosition(dragEvent.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${sourceText} after `+overText:`Placed ${sourceText} before `+overText):`Placed ${sourceText} into a different container`}};class Sortable extends Draggable{constructor(containers=[],options={}){super(containers,{...options,announcements:{...defaultAnnouncements,...options.announcements||{}}}),this.startIndex=null,this.startContainer=null,this[onDragStart]=this[onDragStart].bind(this),this[onDragOverContainer]=this[onDragOverContainer].bind(this),this[onDragOver]=this[onDragOver].bind(this),this[onDragStop]=this[onDragStop].bind(this),this.on("drag:start",this[onDragStart]).on("drag:over:container",this[onDragOverContainer]).on("drag:over",this[onDragOver]).on("drag:stop",this[onDragStop])}destroy(){super.destroy(),this.off("drag:start",this[onDragStart]).off("drag:over:container",this[onDragOverContainer]).off("drag:over",this[onDragOver]).off("drag:stop",this[onDragStop])}index(element){return this.getSortableElementsForContainer(element.parentNode).indexOf(element)}getSortableElementsForContainer(container){return[...container.querySelectorAll(this.options.draggable)].filter(childElement=>childElement!==this.originalSource&&childElement!==this.mirror&&childElement.parentNode===container)}[onDragStart](event){this.startContainer=event.source.parentNode,this.startIndex=this.index(event.source);var sortableStartEvent=new SortableStartEvent({dragEvent:event,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(sortableStartEvent),sortableStartEvent.canceled()&&event.cancel()}[onDragOverContainer](event){var oldIndex,source,over,overContainer,sortableSortEvent;event.canceled()||({source,over,overContainer}=event,oldIndex=this.index(source),sortableSortEvent=new SortableSortEvent({dragEvent:event,currentIndex:oldIndex,source:source,over:over}),this.trigger(sortableSortEvent),sortableSortEvent.canceled())||(sortableSortEvent=move({source:source,over:over,overContainer:overContainer,children:this.getSortableElementsForContainer(overContainer)}))&&({oldContainer:source,newContainer:over}=sortableSortEvent,overContainer=this.index(event.source),sortableSortEvent=new SortableSortedEvent({dragEvent:event,oldIndex:oldIndex,newIndex:overContainer,oldContainer:source,newContainer:over}),this.trigger(sortableSortEvent))}[onDragOver](event){var oldIndex,over,overContainer,sortableSortEvent,source;event.over===event.originalSource||event.over===event.source||({source,over,overContainer}=event,oldIndex=this.index(source),sortableSortEvent=new SortableSortEvent({dragEvent:event,currentIndex:oldIndex,source:source,over:over}),this.trigger(sortableSortEvent),sortableSortEvent.canceled())||(sortableSortEvent=move({source:source,over:over,overContainer:overContainer,children:this.getDraggableElementsForContainer(overContainer)}))&&({oldContainer:over,newContainer:overContainer}=sortableSortEvent,sortableSortEvent=this.index(source),source=new SortableSortedEvent({dragEvent:event,oldIndex:oldIndex,newIndex:sortableSortEvent,oldContainer:over,newContainer:overContainer}),this.trigger(source))}[onDragStop](event){event=new SortableStopEvent({dragEvent:event,oldIndex:this.startIndex,newIndex:this.index(event.source),oldContainer:this.startContainer,newContainer:event.source.parentNode});this.trigger(event),this.startIndex=null,this.startContainer=null}}function index(element){return Array.prototype.indexOf.call(element.parentNode.children,element)}function move({source,over,overContainer,children}){var children=!children.length,differentContainer=source.parentNode!==overContainer,sameContainer=over&&source.parentNode===over.parentNode;return children?function(source,overContainer){var oldContainer=source.parentNode;return overContainer.appendChild(source),{oldContainer:oldContainer,newContainer:overContainer}}(source,overContainer):sameContainer?function(source,over){var oldIndex=index(source),newIndex=index(over);oldIndex<newIndex?source.parentNode.insertBefore(source,over.nextElementSibling):source.parentNode.insertBefore(source,over);return{oldContainer:source.parentNode,newContainer:source.parentNode}}(source,over):differentContainer?function(source,over,overContainer){var oldContainer=source.parentNode;over?over.parentNode.insertBefore(source,over):overContainer.appendChild(source);return{oldContainer:oldContainer,newContainer:source.parentNode}}(source,over,overContainer):null}exports.BaseEvent=AbstractEvent,exports.BasePlugin=AbstractPlugin,exports.Draggable=Draggable,exports.Droppable=Droppable,exports.Plugins=index$1,exports.Sensors=onMouseForceGlobalChange,exports.Sortable=Sortable,exports.Swappable=Swappable}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).Popper={})}(this,function(exports){"use strict";function getWindow(node){var ownerDocument;return null==node?window:"[object Window]"!==node.toString()?(ownerDocument=node.ownerDocument)&&ownerDocument.defaultView||window:node}function isElement(node){return node instanceof getWindow(node).Element||node instanceof Element}function isHTMLElement(node){return node instanceof getWindow(node).HTMLElement||node instanceof HTMLElement}function isShadowRoot(node){return"undefined"!=typeof ShadowRoot&&(node instanceof getWindow(node).ShadowRoot||node instanceof ShadowRoot)}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var uaData=navigator.userAgentData;return null!=uaData&&uaData.brands&&Array.isArray(uaData.brands)?uaData.brands.map(function(item){return item.brand+"/"+item.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(element,includeScale,isFixedStrategy){void 0===includeScale&&(includeScale=!1),void 0===isFixedStrategy&&(isFixedStrategy=!1);var clientRect=element.getBoundingClientRect(),scaleX=1,scaleY=1;includeScale&&isHTMLElement(element)&&(scaleX=0<element.offsetWidth&&round(clientRect.width)/element.offsetWidth||1,scaleY=0<element.offsetHeight&&round(clientRect.height)/element.offsetHeight||1);includeScale=(isElement(element)?getWindow(element):window).visualViewport,element=!isLayoutViewport()&&isFixedStrategy,isFixedStrategy=(clientRect.left+(element&&includeScale?includeScale.offsetLeft:0))/scaleX,element=(clientRect.top+(element&&includeScale?includeScale.offsetTop:0))/scaleY,includeScale=clientRect.width/scaleX,scaleX=clientRect.height/scaleY;return{width:includeScale,height:scaleX,top:element,right:isFixedStrategy+includeScale,bottom:element+scaleX,left:isFixedStrategy,x:isFixedStrategy,y:element}}function getWindowScroll(node){node=getWindow(node);return{scrollLeft:node.pageXOffset,scrollTop:node.pageYOffset}}function getNodeName(element){return element?(element.nodeName||"").toLowerCase():null}function getDocumentElement(element){return((isElement(element)?element.ownerDocument:element.document)||window.document).documentElement}function getWindowScrollBarX(element){return getBoundingClientRect(getDocumentElement(element)).left+getWindowScroll(element).scrollLeft}function getComputedStyle(element){return getWindow(element).getComputedStyle(element)}function isScrollParent(element){var element=getComputedStyle(element),overflow=element.overflow,overflowX=element.overflowX,element=element.overflowY;return/auto|scroll|overlay|hidden/.test(overflow+element+overflowX)}function getCompositeRect(elementOrVirtualElement,offsetParent,isFixed){void 0===isFixed&&(isFixed=!1);var isOffsetParentAnElement=isHTMLElement(offsetParent),offsetParentIsScaled=isHTMLElement(offsetParent)&&function(element){var rect=element.getBoundingClientRect(),scaleX=round(rect.width)/element.offsetWidth||1,rect=round(rect.height)/element.offsetHeight||1;return 1!==scaleX||1!==rect}(offsetParent),documentElement=getDocumentElement(offsetParent),elementOrVirtualElement=getBoundingClientRect(elementOrVirtualElement,offsetParentIsScaled,isFixed),offsetParentIsScaled={scrollLeft:0,scrollTop:0},offsets={x:0,y:0};return!isOffsetParentAnElement&&isFixed||("body"===getNodeName(offsetParent)&&!isScrollParent(documentElement)||(offsetParentIsScaled=(isOffsetParentAnElement=offsetParent)!==getWindow(isOffsetParentAnElement)&&isHTMLElement(isOffsetParentAnElement)?{scrollLeft:isOffsetParentAnElement.scrollLeft,scrollTop:isOffsetParentAnElement.scrollTop}:getWindowScroll(isOffsetParentAnElement)),isHTMLElement(offsetParent)?((offsets=getBoundingClientRect(offsetParent,!0)).x+=offsetParent.clientLeft,offsets.y+=offsetParent.clientTop):documentElement&&(offsets.x=getWindowScrollBarX(documentElement))),{x:elementOrVirtualElement.left+offsetParentIsScaled.scrollLeft-offsets.x,y:elementOrVirtualElement.top+offsetParentIsScaled.scrollTop-offsets.y,width:elementOrVirtualElement.width,height:elementOrVirtualElement.height}}function getLayoutRect(element){var clientRect=getBoundingClientRect(element),width=element.offsetWidth,height=element.offsetHeight;return Math.abs(clientRect.width-width)<=1&&(width=clientRect.width),Math.abs(clientRect.height-height)<=1&&(height=clientRect.height),{x:element.offsetLeft,y:element.offsetTop,width:width,height:height}}function getParentNode(element){return"html"===getNodeName(element)?element:element.assignedSlot||element.parentNode||(isShadowRoot(element)?element.host:null)||getDocumentElement(element)}function listScrollParents(element,list){void 0===list&&(list=[]);var scrollParent=function getScrollParent(node){return 0<=["html","body","#document"].indexOf(getNodeName(node))?node.ownerDocument.body:isHTMLElement(node)&&isScrollParent(node)?node:getScrollParent(getParentNode(node))}(element),element=scrollParent===(null==(element=element.ownerDocument)?void 0:element.body),win=getWindow(scrollParent),win=element?[win].concat(win.visualViewport||[],isScrollParent(scrollParent)?scrollParent:[]):scrollParent,scrollParent=list.concat(win);return element?scrollParent:scrollParent.concat(listScrollParents(getParentNode(win)))}function getTrueOffsetParent(element){return isHTMLElement(element)&&"fixed"!==getComputedStyle(element).position?element.offsetParent:null}function getOffsetParent(element){for(var window=getWindow(element),offsetParent=getTrueOffsetParent(element);offsetParent&&function(element){return 0<=["table","td","th"].indexOf(getNodeName(element))}(offsetParent)&&"static"===getComputedStyle(offsetParent).position;)offsetParent=getTrueOffsetParent(offsetParent);return(!offsetParent||"html"!==getNodeName(offsetParent)&&("body"!==getNodeName(offsetParent)||"static"!==getComputedStyle(offsetParent).position))&&(offsetParent||function(element){var isFirefox=/firefox/i.test(getUAString()),isIE=/Trident/i.test(getUAString());if(!isIE||!isHTMLElement(element)||"fixed"!==getComputedStyle(element).position){var currentNode=getParentNode(element);for(isShadowRoot(currentNode)&&(currentNode=currentNode.host);isHTMLElement(currentNode)&&["html","body"].indexOf(getNodeName(currentNode))<0;){var css=getComputedStyle(currentNode);if("none"!==css.transform||"none"!==css.perspective||"paint"===css.contain||-1!==["transform","perspective"].indexOf(css.willChange)||isFirefox&&"filter"===css.willChange||isFirefox&&css.filter&&"none"!==css.filter)return currentNode;currentNode=currentNode.parentNode}}return null}(element))||window}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(acc,placement){return acc.concat([placement+"-"+start,placement+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(acc,placement){return acc.concat([placement,placement+"-"+start,placement+"-"+end])},[]),modifierPhases=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function order(modifiers){var map=new Map,visited=new Set,result=[];return modifiers.forEach(function(modifier){map.set(modifier.name,modifier)}),modifiers.forEach(function(modifier){visited.has(modifier.name)||!function sort(modifier){visited.add(modifier.name),[].concat(modifier.requires||[],modifier.requiresIfExists||[]).forEach(function(dep){visited.has(dep)||(dep=map.get(dep))&&sort(dep)}),result.push(modifier)}(modifier)}),result}function contains(parent,child){var rootNode=child.getRootNode&&child.getRootNode();if(parent.contains(child))return!0;if(rootNode&&isShadowRoot(rootNode)){var next=child;do{if(next&&parent.isSameNode(next))return!0}while(next=next.parentNode||next.host)}return!1}function rectToClientRect(rect){return Object.assign({},rect,{left:rect.x,top:rect.y,right:rect.x+rect.width,bottom:rect.y+rect.height})}function getClientRectFromMixedType(element,clippingParent,strategy){return clippingParent===viewport?rectToClientRect(function(element,strategy){var layoutViewport,win=getWindow(element),html=getDocumentElement(element),win=win.visualViewport,width=html.clientWidth,html=html.clientHeight,x=0,y=0;return win&&(width=win.width,html=win.height,(layoutViewport=isLayoutViewport())||!layoutViewport&&"fixed"===strategy)&&(x=win.offsetLeft,y=win.offsetTop),{width:width,height:html,x:x+getWindowScrollBarX(element),y:y}}(element,strategy)):isElement(clippingParent)?function(element,strategy){return(strategy=getBoundingClientRect(element,!1,"fixed"===strategy)).top=strategy.top+element.clientTop,strategy.left=strategy.left+element.clientLeft,strategy.bottom=strategy.top+element.clientHeight,strategy.right=strategy.left+element.clientWidth,strategy.width=element.clientWidth,strategy.height=element.clientHeight,strategy.x=strategy.left,strategy.y=strategy.top,strategy}(clippingParent,strategy):rectToClientRect(function(element){var html=getDocumentElement(element),winScroll=getWindowScroll(element),_element$ownerDocumen=null==(_element$ownerDocumen=element.ownerDocument)?void 0:_element$ownerDocumen.body,width=max(html.scrollWidth,html.clientWidth,_element$ownerDocumen?_element$ownerDocumen.scrollWidth:0,_element$ownerDocumen?_element$ownerDocumen.clientWidth:0),height=max(html.scrollHeight,html.clientHeight,_element$ownerDocumen?_element$ownerDocumen.scrollHeight:0,_element$ownerDocumen?_element$ownerDocumen.clientHeight:0),element=-winScroll.scrollLeft+getWindowScrollBarX(element),winScroll=-winScroll.scrollTop;return"rtl"===getComputedStyle(_element$ownerDocumen||html).direction&&(element+=max(html.clientWidth,_element$ownerDocumen?_element$ownerDocumen.clientWidth:0)-width),{width:width,height:height,x:element,y:winScroll}}(getDocumentElement(element)))}function getClippingRect(element,boundary,rootBoundary,strategy){boundary="clippingParents"===boundary?function(element){var clippingParents=listScrollParents(getParentNode(element)),clipperElement=0<=["absolute","fixed"].indexOf(getComputedStyle(element).position)&&isHTMLElement(element)?getOffsetParent(element):element;return isElement(clipperElement)?clippingParents.filter(function(clippingParent){return isElement(clippingParent)&&contains(clippingParent,clipperElement)&&"body"!==getNodeName(clippingParent)}):[]}(element):[].concat(boundary),boundary=[].concat(boundary,[rootBoundary]),rootBoundary=boundary[0],boundary=boundary.reduce(function(accRect,clippingParent){clippingParent=getClientRectFromMixedType(element,clippingParent,strategy);return accRect.top=max(clippingParent.top,accRect.top),accRect.right=min(clippingParent.right,accRect.right),accRect.bottom=min(clippingParent.bottom,accRect.bottom),accRect.left=max(clippingParent.left,accRect.left),accRect},getClientRectFromMixedType(element,rootBoundary,strategy));return boundary.width=boundary.right-boundary.left,boundary.height=boundary.bottom-boundary.top,boundary.x=boundary.left,boundary.y=boundary.top,boundary}function getMainAxisFromPlacement(placement){return 0<=["top","bottom"].indexOf(placement)?"x":"y"}function computeOffsets(_ref){var offsets,reference=_ref.reference,element=_ref.element,_ref=_ref.placement,basePlacement=_ref?_ref.split("-")[0]:null,_ref=_ref?_ref.split("-")[1]:null,commonX=reference.x+reference.width/2-element.width/2,commonY=reference.y+reference.height/2-element.height/2;switch(basePlacement){case top:offsets={x:commonX,y:reference.y-element.height};break;case bottom:offsets={x:commonX,y:reference.y+reference.height};break;case right:offsets={x:reference.x+reference.width,y:commonY};break;case left:offsets={x:reference.x-element.width,y:commonY};break;default:offsets={x:reference.x,y:reference.y}}var mainAxis=basePlacement?getMainAxisFromPlacement(basePlacement):null;if(null!=mainAxis){var len="y"===mainAxis?"height":"width";switch(_ref){case start:offsets[mainAxis]=offsets[mainAxis]-(reference[len]/2-element[len]/2);break;case end:offsets[mainAxis]=offsets[mainAxis]+(reference[len]/2-element[len]/2)}}return offsets}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(paddingObject){return Object.assign({},getFreshSideObject(),paddingObject)}function expandToHashMap(value,keys){return keys.reduce(function(hashMap,key){return hashMap[key]=value,hashMap},{})}function detectOverflow(state,options){var offset,options=options=void 0===options?{}:options,_options$placement=options.placement,_options$placement=void 0===_options$placement?state.placement:_options$placement,_options$strategy=options.strategy,_options$strategy=void 0===_options$strategy?state.strategy:_options$strategy,_options$boundary=options.boundary,_options$boundary=void 0===_options$boundary?clippingParents:_options$boundary,_options$rootBoundary=options.rootBoundary,_options$rootBoundary=void 0===_options$rootBoundary?viewport:_options$rootBoundary,_options$elementConte=options.elementContext,_options$elementConte=void 0===_options$elementConte?popper:_options$elementConte,_options$altBoundary=options.altBoundary,_options$altBoundary=void 0!==_options$altBoundary&&_options$altBoundary,options=options.padding,options=void 0===options?0:options,options=mergePaddingObject("number"!=typeof options?options:expandToHashMap(options,basePlacements)),popperRect=state.rects.popper,_options$altBoundary=state.elements[_options$altBoundary?_options$elementConte===popper?reference:popper:_options$elementConte],_options$altBoundary=getClippingRect(isElement(_options$altBoundary)?_options$altBoundary:_options$altBoundary.contextElement||getDocumentElement(state.elements.popper),_options$boundary,_options$rootBoundary,_options$strategy),_options$boundary=getBoundingClientRect(state.elements.reference),_options$rootBoundary=computeOffsets({reference:_options$boundary,element:popperRect,strategy:"absolute",placement:_options$placement}),_options$strategy=rectToClientRect(Object.assign({},popperRect,_options$rootBoundary)),popperRect=_options$elementConte===popper?_options$strategy:_options$boundary,overflowOffsets={top:_options$altBoundary.top-popperRect.top+options.top,bottom:popperRect.bottom-_options$altBoundary.bottom+options.bottom,left:_options$altBoundary.left-popperRect.left+options.left,right:popperRect.right-_options$altBoundary.right+options.right},_options$rootBoundary=state.modifiersData.offset;return _options$elementConte===popper&&_options$rootBoundary&&(offset=_options$rootBoundary[_options$placement],Object.keys(overflowOffsets).forEach(function(key){var multiply=0<=[right,bottom].indexOf(key)?1:-1,axis=0<=[top,bottom].indexOf(key)?"y":"x";overflowOffsets[key]+=offset[axis]*multiply})),overflowOffsets}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return!args.some(function(element){return!(element&&"function"==typeof element.getBoundingClientRect)})}function popperGenerator(generatorOptions){var generatorOptions=generatorOptions=void 0===generatorOptions?{}:generatorOptions,_generatorOptions$def=generatorOptions.defaultModifiers,defaultModifiers=void 0===_generatorOptions$def?[]:_generatorOptions$def,_generatorOptions$def=generatorOptions.defaultOptions,defaultOptions=void 0===_generatorOptions$def?DEFAULT_OPTIONS:_generatorOptions$def;return function(reference,popper,options){void 0===options&&(options=defaultOptions);var fn,pending,state={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,defaultOptions),modifiersData:{},elements:{reference:reference,popper:popper},attributes:{},styles:{}},effectCleanupFns=[],isDestroyed=!1,instance={state:state,setOptions:function(setOptionsAction){var merged,setOptionsAction="function"==typeof setOptionsAction?setOptionsAction(state.options):setOptionsAction,setOptionsAction=(cleanupModifierEffects(),state.options=Object.assign({},defaultOptions,state.options,setOptionsAction),state.scrollParents={reference:isElement(reference)?listScrollParents(reference):reference.contextElement?listScrollParents(reference.contextElement):[],popper:listScrollParents(popper)},function(modifiers){var orderedModifiers=order(modifiers);return modifierPhases.reduce(function(acc,phase){return acc.concat(orderedModifiers.filter(function(modifier){return modifier.phase===phase}))},[])}((setOptionsAction=[].concat(defaultModifiers,state.options.modifiers),merged=setOptionsAction.reduce(function(merged,current){var existing=merged[current.name];return merged[current.name]=existing?Object.assign({},existing,current,{options:Object.assign({},existing.options,current.options),data:Object.assign({},existing.data,current.data)}):current,merged},{}),Object.keys(merged).map(function(key){return merged[key]}))));return state.orderedModifiers=setOptionsAction.filter(function(m){return m.enabled}),state.orderedModifiers.forEach(function(_ref){var name=_ref.name,_ref$options=_ref.options,_ref=_ref.effect;"function"==typeof _ref&&(_ref=_ref({state:state,name:name,instance:instance,options:void 0===_ref$options?{}:_ref$options}),effectCleanupFns.push(_ref||function(){}))}),instance.update()},forceUpdate:function(){if(!isDestroyed){var _state$elements=state.elements,reference=_state$elements.reference,_state$elements=_state$elements.popper;if(areValidElements(reference,_state$elements)){state.rects={reference:getCompositeRect(reference,getOffsetParent(_state$elements),"fixed"===state.options.strategy),popper:getLayoutRect(_state$elements)},state.reset=!1,state.placement=state.options.placement,state.orderedModifiers.forEach(function(modifier){return state.modifiersData[modifier.name]=Object.assign({},modifier.data)});for(var fn,_state$orderedModifie2,_state$orderedModifie,index=0;index<state.orderedModifiers.length;index++)!0===state.reset?(state.reset=!1,index=-1):(fn=(_state$orderedModifie=state.orderedModifiers[index]).fn,_state$orderedModifie2=_state$orderedModifie.options,_state$orderedModifie=_state$orderedModifie.name,"function"==typeof fn&&(state=fn({state:state,options:void 0===_state$orderedModifie2?{}:_state$orderedModifie2,name:_state$orderedModifie,instance:instance})||state))}}},update:(fn=function(){return new Promise(function(resolve){instance.forceUpdate(),resolve(state)})},function(){return pending=pending||new Promise(function(resolve){Promise.resolve().then(function(){pending=void 0,resolve(fn())})})}),destroy:function(){cleanupModifierEffects(),isDestroyed=!0}};return areValidElements(reference,popper)&&instance.setOptions(options).then(function(state){!isDestroyed&&options.onFirstUpdate&&options.onFirstUpdate(state)}),instance;function cleanupModifierEffects(){effectCleanupFns.forEach(function(fn){return fn()}),effectCleanupFns=[]}}}var passive={passive:!0};var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_ref){var state=_ref.state,instance=_ref.instance,_options$scroll=(_ref=_ref.options).scroll,scroll=void 0===_options$scroll||_options$scroll,resize=void 0===(_options$scroll=_ref.resize)||_options$scroll,window=getWindow(state.elements.popper),scrollParents=[].concat(state.scrollParents.reference,state.scrollParents.popper);return scroll&&scrollParents.forEach(function(scrollParent){scrollParent.addEventListener("scroll",instance.update,passive)}),resize&&window.addEventListener("resize",instance.update,passive),function(){scroll&&scrollParents.forEach(function(scrollParent){scrollParent.removeEventListener("scroll",instance.update,passive)}),resize&&window.removeEventListener("resize",instance.update,passive)}},data:{}};var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_ref){var state=_ref.state,_ref=_ref.name;state.modifiersData[_ref]=computeOffsets({reference:state.rects.reference,element:state.rects.popper,strategy:"absolute",placement:state.placement})},data:{}},unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mapToStyles(_ref2){var offsetParent,widthProp,popper=_ref2.popper,popperRect=_ref2.popperRect,placement=_ref2.placement,variation=_ref2.variation,offsets=_ref2.offsets,position=_ref2.position,gpuAcceleration=_ref2.gpuAcceleration,adaptive=_ref2.adaptive,roundOffsets=_ref2.roundOffsets,_ref2=_ref2.isFixed,_offsets$x=offsets.x,_offsets$x=void 0===_offsets$x?0:_offsets$x,_offsets$y=offsets.y,_offsets$y=void 0===_offsets$y?0:_offsets$y,_ref3="function"==typeof roundOffsets?roundOffsets({x:_offsets$x,y:_offsets$y}):{x:_offsets$x,y:_offsets$y},_ref3=(_offsets$x=_ref3.x,_offsets$y=_ref3.y,offsets.hasOwnProperty("x")),offsets=offsets.hasOwnProperty("y"),sideX=left,sideY=top,win=window,heightProp=(adaptive&&(heightProp="clientHeight",widthProp="clientWidth",(offsetParent=getOffsetParent(popper))===getWindow(popper)&&"static"!==getComputedStyle(offsetParent=getDocumentElement(popper)).position&&"absolute"===position&&(heightProp="scrollHeight",widthProp="scrollWidth"),placement!==top&&(placement!==left&&placement!==right||variation!==end)||(sideY=bottom,_offsets$y=(_offsets$y-((_ref2&&offsetParent===win&&win.visualViewport?win.visualViewport.height:offsetParent[heightProp])-popperRect.height))*(gpuAcceleration?1:-1)),placement!==left&&(placement!==top&&placement!==bottom||variation!==end)||(sideX=right,_offsets$x=(_offsets$x-((_ref2&&offsetParent===win&&win.visualViewport?win.visualViewport.width:offsetParent[widthProp])-popperRect.width))*(gpuAcceleration?1:-1))),Object.assign({position:position},adaptive&&unsetSides)),placement=!0===roundOffsets?function(_ref,win){var x=_ref.x,_ref=_ref.y,win=win.devicePixelRatio||1;return{x:round(x*win)/win||0,y:round(_ref*win)/win||0}}({x:_offsets$x,y:_offsets$y},getWindow(popper)):{x:_offsets$x,y:_offsets$y};return _offsets$x=placement.x,_offsets$y=placement.y,gpuAcceleration?Object.assign({},heightProp,((variation={})[sideY]=offsets?"0":"",variation[sideX]=_ref3?"0":"",variation.transform=(win.devicePixelRatio||1)<=1?"translate("+_offsets$x+"px, "+_offsets$y+"px)":"translate3d("+_offsets$x+"px, "+_offsets$y+"px, 0)",variation)):Object.assign({},heightProp,((_ref2={})[sideY]=offsets?_offsets$y+"px":"",_ref2[sideX]=_ref3?_offsets$x+"px":"",_ref2.transform="",_ref2))}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_ref5){var state=_ref5.state,_ref5=_ref5.options,_options$gpuAccelerat=void 0===(_options$gpuAccelerat=_ref5.gpuAcceleration)||_options$gpuAccelerat,_options$adaptive=void 0===(_options$adaptive=_ref5.adaptive)||_options$adaptive,_ref5=void 0===(_ref5=_ref5.roundOffsets)||_ref5,_options$gpuAccelerat={placement:state.placement.split("-")[0],variation:state.placement.split("-")[1],popper:state.elements.popper,popperRect:state.rects.popper,gpuAcceleration:_options$gpuAccelerat,isFixed:"fixed"===state.options.strategy};null!=state.modifiersData.popperOffsets&&(state.styles.popper=Object.assign({},state.styles.popper,mapToStyles(Object.assign({},_options$gpuAccelerat,{offsets:state.modifiersData.popperOffsets,position:state.options.strategy,adaptive:_options$adaptive,roundOffsets:_ref5})))),null!=state.modifiersData.arrow&&(state.styles.arrow=Object.assign({},state.styles.arrow,mapToStyles(Object.assign({},_options$gpuAccelerat,{offsets:state.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_ref5})))),state.attributes.popper=Object.assign({},state.attributes.popper,{"data-popper-placement":state.placement})},data:{}};var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:function(_ref){var state=_ref.state;Object.keys(state.elements).forEach(function(name){var style=state.styles[name]||{},attributes=state.attributes[name]||{},element=state.elements[name];isHTMLElement(element)&&getNodeName(element)&&(Object.assign(element.style,style),Object.keys(attributes).forEach(function(name){var value=attributes[name];!1===value?element.removeAttribute(name):element.setAttribute(name,!0===value?"":value)}))})},effect:function(_ref2){var state=_ref2.state,initialStyles={popper:{position:state.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(state.elements.popper.style,initialStyles.popper),state.styles=initialStyles,state.elements.arrow&&Object.assign(state.elements.arrow.style,initialStyles.arrow),function(){Object.keys(state.elements).forEach(function(name){var element=state.elements[name],attributes=state.attributes[name]||{},name=Object.keys((state.styles.hasOwnProperty(name)?state.styles:initialStyles)[name]).reduce(function(style,property){return style[property]="",style},{});isHTMLElement(element)&&getNodeName(element)&&(Object.assign(element.style,name),Object.keys(attributes).forEach(function(attribute){element.removeAttribute(attribute)}))})}},requires:["computeStyles"]};var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_ref2){var state=_ref2.state,options=_ref2.options,_ref2=_ref2.name,offset=void 0===(options=options.offset)?[0,0]:options,options=placements.reduce(function(acc,placement){return acc[placement]=function(placement,rects,offset){var basePlacement=placement.split("-")[0],invertDistance=0<=[left,top].indexOf(basePlacement)?-1:1,placement=(rects="function"==typeof offset?offset(Object.assign({},rects,{placement:placement})):offset)[0]||0,offset=(rects[1]||0)*invertDistance;return 0<=[left,right].indexOf(basePlacement)?{x:offset,y:placement}:{x:placement,y:offset}}(placement,state.rects,offset),acc},{}),x=(_data$state$placement=options[state.placement]).x,_data$state$placement=_data$state$placement.y;null!=state.modifiersData.popperOffsets&&(state.modifiersData.popperOffsets.x+=x,state.modifiersData.popperOffsets.y+=_data$state$placement),state.modifiersData[_ref2]=options}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(placement){return placement.replace(/left|right|bottom|top/g,function(matched){return hash$1[matched]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(placement){return placement.replace(/start|end/g,function(matched){return hash[matched]})}function computeAutoPlacement(state,options){var options=options=void 0===options?{}:options,placement=options.placement,boundary=options.boundary,rootBoundary=options.rootBoundary,padding=options.padding,flipVariations=options.flipVariations,options=options.allowedAutoPlacements,allowedAutoPlacements=void 0===options?placements:options,variation=placement.split("-")[1],options=variation?flipVariations?variationPlacements:variationPlacements.filter(function(placement){return placement.split("-")[1]===variation}):basePlacements,placement=options.filter(function(placement){return 0<=allowedAutoPlacements.indexOf(placement)}),overflows=(placement=0===placement.length?options:placement).reduce(function(acc,placement){return acc[placement]=detectOverflow(state,{placement:placement,boundary:boundary,rootBoundary:rootBoundary,padding:padding})[placement.split("-")[0]],acc},{});return Object.keys(overflows).sort(function(a,b){return overflows[a]-overflows[b]})}var flip$1={name:"flip",enabled:!0,phase:"main",fn:function(_ref){var state=_ref.state,options=_ref.options,_ref=_ref.name;if(!state.modifiersData[_ref]._skip){for(var _options$mainAxis=options.mainAxis,checkMainAxis=void 0===_options$mainAxis||_options$mainAxis,_options$mainAxis=options.altAxis,checkAltAxis=void 0===_options$mainAxis||_options$mainAxis,_options$mainAxis=options.fallbackPlacements,padding=options.padding,boundary=options.boundary,rootBoundary=options.rootBoundary,altBoundary=options.altBoundary,_options$flipVariatio=options.flipVariations,flipVariations=void 0===_options$flipVariatio||_options$flipVariatio,allowedAutoPlacements=options.allowedAutoPlacements,_options$flipVariatio=state.options.placement,options=_options$flipVariatio.split("-")[0],_options$mainAxis=_options$mainAxis||(options===_options$flipVariatio||!flipVariations?[getOppositePlacement(_options$flipVariatio)]:function(placement){var oppositePlacement;return placement.split("-")[0]===auto?[]:(oppositePlacement=getOppositePlacement(placement),[getOppositeVariationPlacement(placement),oppositePlacement,getOppositeVariationPlacement(oppositePlacement)])}(_options$flipVariatio)),placements=[_options$flipVariatio].concat(_options$mainAxis).reduce(function(acc,placement){return acc.concat(placement.split("-")[0]===auto?computeAutoPlacement(state,{placement:placement,boundary:boundary,rootBoundary:rootBoundary,padding:padding,flipVariations:flipVariations,allowedAutoPlacements:allowedAutoPlacements}):placement)},[]),referenceRect=state.rects.reference,popperRect=state.rects.popper,checksMap=new Map,makeFallbackChecks=!0,firstFittingPlacement=placements[0],i=0;i<placements.length;i++){var placement=placements[i],_basePlacement=placement.split("-")[0],isStartVariation=placement.split("-")[1]===start,isVertical=0<=[top,bottom].indexOf(_basePlacement),len=isVertical?"width":"height",overflow=detectOverflow(state,{placement:placement,boundary:boundary,rootBoundary:rootBoundary,altBoundary:altBoundary,padding:padding}),isVertical=isVertical?isStartVariation?right:left:isStartVariation?bottom:top,isStartVariation=(referenceRect[len]>popperRect[len]&&(isVertical=getOppositePlacement(isVertical)),getOppositePlacement(isVertical)),len=[];if(checkMainAxis&&len.push(overflow[_basePlacement]<=0),checkAltAxis&&len.push(overflow[isVertical]<=0,overflow[isStartVariation]<=0),len.every(function(check){return check})){firstFittingPlacement=placement,makeFallbackChecks=!1;break}checksMap.set(placement,len)}if(makeFallbackChecks)for(var _i=flipVariations?3:1;0<_i;_i--)if("break"===function(_i){var fittingPlacement=placements.find(function(placement){placement=checksMap.get(placement);if(placement)return placement.slice(0,_i).every(function(check){return check})});if(fittingPlacement)return firstFittingPlacement=fittingPlacement,"break"}(_i))break;state.placement!==firstFittingPlacement&&(state.modifiersData[_ref]._skip=!0,state.placement=firstFittingPlacement,state.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function within(min$1,value,max$1){return max(min$1,min(value,max$1))}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_ref){var offset,altSide,additive,mainSide,arrowPaddingObject,minLen,arrowElement,min$1,max$1,state=_ref.state,options=_ref.options,_ref=_ref.name,_options$mainAxis=void 0===(_options$mainAxis=options.mainAxis)||_options$mainAxis,_options$altAxis=void 0!==(_options$altAxis=options.altAxis)&&_options$altAxis,boundary=options.boundary,rootBoundary=options.rootBoundary,altBoundary=options.altBoundary,padding=options.padding,_options$tether=void 0===(_options$tether=options.tether)||_options$tether,options=void 0===(options=options.tetherOffset)?0:options,boundary=detectOverflow(state,{boundary:boundary,rootBoundary:rootBoundary,padding:padding,altBoundary:altBoundary}),rootBoundary=state.placement.split("-")[0],altBoundary=!(padding=state.placement.split("-")[1]),mainAxis=getMainAxisFromPlacement(rootBoundary),altAxis="x"===mainAxis?"y":"x",popperOffsets=state.modifiersData.popperOffsets,referenceRect=state.rects.reference,popperRect=state.rects.popper,options="number"==typeof(options="function"==typeof options?options(Object.assign({},state.rects,{placement:state.placement})):options)?{mainAxis:options,altAxis:options}:Object.assign({mainAxis:0,altAxis:0},options),offsetModifierState=state.modifiersData.offset?state.modifiersData.offset[state.placement]:null,data={x:0,y:0};popperOffsets&&(_options$mainAxis&&(_options$mainAxis="y"===mainAxis?"height":"width",min$1=(offset=popperOffsets[mainAxis])+boundary[mainSide="y"===mainAxis?top:left],max$1=offset-boundary[altSide="y"===mainAxis?bottom:right],additive=_options$tether?-popperRect[_options$mainAxis]/2:0,minLen=(padding===start?referenceRect:popperRect)[_options$mainAxis],padding=padding===start?-popperRect[_options$mainAxis]:-referenceRect[_options$mainAxis],arrowElement=state.elements.arrow,arrowElement=_options$tether&&arrowElement?getLayoutRect(arrowElement):{width:0,height:0},mainSide=(arrowPaddingObject=state.modifiersData["arrow#persistent"]?state.modifiersData["arrow#persistent"].padding:getFreshSideObject())[mainSide],arrowPaddingObject=arrowPaddingObject[altSide],altSide=within(0,referenceRect[_options$mainAxis],arrowElement[_options$mainAxis]),arrowElement=altBoundary?referenceRect[_options$mainAxis]/2-additive-altSide-mainSide-options.mainAxis:minLen-altSide-mainSide-options.mainAxis,minLen=altBoundary?-referenceRect[_options$mainAxis]/2+additive+altSide+arrowPaddingObject+options.mainAxis:padding+altSide+arrowPaddingObject+options.mainAxis,altBoundary=(mainSide=state.elements.arrow&&getOffsetParent(state.elements.arrow))?"y"===mainAxis?mainSide.clientTop||0:mainSide.clientLeft||0:0,padding=offset+minLen-(additive=null!=(_options$mainAxis=null==offsetModifierState?void 0:offsetModifierState[mainAxis])?_options$mainAxis:0),altSide=within(_options$tether?min(min$1,offset+arrowElement-additive-altBoundary):min$1,offset,_options$tether?max(max$1,padding):max$1),popperOffsets[mainAxis]=altSide,data[mainAxis]=altSide-offset),_options$altAxis&&(arrowPaddingObject="y"==altAxis?"height":"width",minLen=(mainSide=popperOffsets[altAxis])+boundary["x"===mainAxis?top:left],_options$mainAxis=mainSide-boundary["x"===mainAxis?bottom:right],arrowElement=-1!==[top,left].indexOf(rootBoundary),altBoundary=null!=(additive=null==offsetModifierState?void 0:offsetModifierState[altAxis])?additive:0,min$1=arrowElement?minLen:mainSide-referenceRect[arrowPaddingObject]-popperRect[arrowPaddingObject]-altBoundary+options.altAxis,padding=arrowElement?mainSide+referenceRect[arrowPaddingObject]+popperRect[arrowPaddingObject]-altBoundary-options.altAxis:_options$mainAxis,max$1=_options$tether&&arrowElement?function(min,value,max){return min=within(min,value,max),max<min?max:min}(min$1,mainSide,padding):within(_options$tether?min$1:minLen,mainSide,_options$tether?padding:_options$mainAxis),popperOffsets[altAxis]=max$1,data[altAxis]=max$1-mainSide),state.modifiersData[_ref]=data)},requiresIfExists:["offset"]};var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:function(_ref){var arrowRect,endDiff,maxProp,minProp,state=_ref.state,name=_ref.name,_ref=_ref.options,arrowElement=state.elements.arrow,popperOffsets=state.modifiersData.popperOffsets,axis=getMainAxisFromPlacement(basePlacement=state.placement.split("-")[0]),basePlacement=0<=[left,right].indexOf(basePlacement)?"height":"width";arrowElement&&popperOffsets&&(_ref=function(padding,state){return mergePaddingObject("number"!=typeof(padding="function"==typeof padding?padding(Object.assign({},state.rects,{placement:state.placement})):padding)?padding:expandToHashMap(padding,basePlacements))}(_ref.padding,state),arrowRect=getLayoutRect(arrowElement),minProp="y"===axis?top:left,maxProp="y"===axis?bottom:right,endDiff=state.rects.reference[basePlacement]+state.rects.reference[axis]-popperOffsets[axis]-state.rects.popper[basePlacement],popperOffsets=popperOffsets[axis]-state.rects.reference[axis],arrowElement=(arrowElement=getOffsetParent(arrowElement))?"y"===axis?arrowElement.clientHeight||0:arrowElement.clientWidth||0:0,minProp=_ref[minProp],_ref=arrowElement-arrowRect[basePlacement]-_ref[maxProp],minProp=within(minProp,maxProp=arrowElement/2-arrowRect[basePlacement]/2+(endDiff/2-popperOffsets/2),_ref),state.modifiersData[name]=((arrowElement={})[axis]=minProp,arrowElement.centerOffset=minProp-maxProp,arrowElement))},effect:function(_ref2){var state=_ref2.state;null!=(_ref2=void 0===(_ref2=_ref2.options.element)?"[data-popper-arrow]":_ref2)&&("string"!=typeof _ref2||(_ref2=state.elements.popper.querySelector(_ref2)))&&contains(state.elements.popper,_ref2)&&(state.elements.arrow=_ref2)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getSideOffsets(overflow,rect,preventedOffsets){return{top:overflow.top-rect.height-(preventedOffsets=void 0===preventedOffsets?{x:0,y:0}:preventedOffsets).y,right:overflow.right-rect.width+preventedOffsets.x,bottom:overflow.bottom-rect.height+preventedOffsets.y,left:overflow.left-rect.width-preventedOffsets.x}}function isAnySideFullyClipped(overflow){return[top,right,bottom,left].some(function(side){return 0<=overflow[side]})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_ref){var state=_ref.state,_ref=_ref.name,referenceRect=state.rects.reference,popperRect=state.rects.popper,preventedOffsets=state.modifiersData.preventOverflow,referenceOverflow=detectOverflow(state,{elementContext:"reference"}),popperAltOverflow=detectOverflow(state,{altBoundary:!0}),referenceOverflow=getSideOffsets(referenceOverflow,referenceRect),referenceRect=getSideOffsets(popperAltOverflow,popperRect,preventedOffsets),popperAltOverflow=isAnySideFullyClipped(referenceOverflow),popperRect=isAnySideFullyClipped(referenceRect);state.modifiersData[_ref]={referenceClippingOffsets:referenceOverflow,popperEscapeOffsets:referenceRect,isReferenceHidden:popperAltOverflow,hasPopperEscaped:popperRect},state.attributes.popper=Object.assign({},state.attributes.popper,{"data-popper-reference-hidden":popperAltOverflow,"data-popper-escaped":popperRect})}},createPopper$1=popperGenerator({defaultModifiers:[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1]}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers:defaultModifiers});exports.applyStyles=applyStyles$1,exports.arrow=arrow$1,exports.computeStyles=computeStyles$1,exports.createPopper=createPopper,exports.createPopperLite=createPopper$1,exports.defaultModifiers=defaultModifiers,exports.detectOverflow=detectOverflow,exports.eventListeners=eventListeners,exports.flip=flip$1,exports.hide=hide$1,exports.offset=offset$1,exports.popperGenerator=popperGenerator,exports.popperOffsets=popperOffsets$1,exports.preventOverflow=preventOverflow$1,Object.defineProperty(exports,"__esModule",{value:!0})});